                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module large_map
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _init_camera
                                     12 	.globl _set_camera
                                     13 	.globl _set_bkg_palette
                                     14 	.globl _set_bkg_submap
                                     15 	.globl _set_bkg_data
                                     16 	.globl _display_off
                                     17 	.globl _vsync
                                     18 	.globl _joypad
                                     19 	.globl _redraw
                                     20 	.globl _old_map_pos_y
                                     21 	.globl _old_map_pos_x
                                     22 	.globl _map_pos_y
                                     23 	.globl _map_pos_x
                                     24 	.globl _old_camera_y
                                     25 	.globl _old_camera_x
                                     26 	.globl _camera_y
                                     27 	.globl _camera_x
                                     28 	.globl _joy
                                     29 ;--------------------------------------------------------
                                     30 ; special function registers
                                     31 ;--------------------------------------------------------
                                     32 ;--------------------------------------------------------
                                     33 ; ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _DATA
    00000000                         36 _joy::
    00000000                         37 	.ds 1
    00000001                         38 _camera_x::
    00000001                         39 	.ds 2
    00000003                         40 _camera_y::
    00000003                         41 	.ds 2
    00000005                         42 _old_camera_x::
    00000005                         43 	.ds 2
    00000007                         44 _old_camera_y::
    00000007                         45 	.ds 2
    00000009                         46 _map_pos_x::
    00000009                         47 	.ds 1
    0000000A                         48 _map_pos_y::
    0000000A                         49 	.ds 1
    0000000B                         50 _old_map_pos_x::
    0000000B                         51 	.ds 1
    0000000C                         52 _old_map_pos_y::
    0000000C                         53 	.ds 1
    0000000D                         54 _redraw::
    0000000D                         55 	.ds 1
                                     56 ;--------------------------------------------------------
                                     57 ; ram data
                                     58 ;--------------------------------------------------------
                                     59 	.area _INITIALIZED
                                     60 ;--------------------------------------------------------
                                     61 ; absolute external ram data
                                     62 ;--------------------------------------------------------
                                     63 	.area _DABS (ABS)
                                     64 ;--------------------------------------------------------
                                     65 ; global & static initialisations
                                     66 ;--------------------------------------------------------
                                     67 	.area _HOME
                                     68 	.area _GSINIT
                                     69 	.area _GSFINAL
                                     70 	.area _GSINIT
                                     71 ;--------------------------------------------------------
                                     72 ; Home
                                     73 ;--------------------------------------------------------
                                     74 	.area _HOME
                                     75 	.area _HOME
                                     76 ;--------------------------------------------------------
                                     77 ; code
                                     78 ;--------------------------------------------------------
                                     79 	.area _CODE
                                     80 ;src/large_map.c:77: void set_camera(void)
                                     81 ;	---------------------------------
                                     82 ; Function set_camera
                                     83 ; ---------------------------------
    00000000                         84 _set_camera::
    00000000 3B               [ 8]   85 	dec	sp
                                     86 ;src/large_map.c:80: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
    00000001 FAr03r00         [16]   87 	ld	a, (_camera_y)
    00000004 21r04r00         [12]   88 	ld	hl, #_camera_y + 1
    00000007 46               [ 8]   89 	ld	b, (hl)
    00000008 4F               [ 4]   90 	ld	c, a
    00000009 FAr01r00         [16]   91 	ld	a, (#_camera_x)
    0000000C E0r00            [12]   92 	ldh	(_SCX_REG + 0), a
                                     93 ;../../../include/gb/gb.h:1461: SCX_REG=x, SCY_REG=y;
    0000000E 79               [ 4]   94 	ld	a, c
    0000000F E0r00            [12]   95 	ldh	(_SCY_REG + 0), a
                                     96 ;src/large_map.c:82: map_pos_y = (uint8_t)(camera_y >> 3u);
    00000011 21r03r00         [12]   97 	ld	hl, #_camera_y
    00000014 2A               [ 8]   98 	ld	a, (hl+)
    00000015 4F               [ 4]   99 	ld	c, a
    00000016 46               [ 8]  100 	ld	b, (hl)
    00000017 CB 38            [ 8]  101 	srl	b
    00000019 CB 19            [ 8]  102 	rr	c
    0000001B CB 38            [ 8]  103 	srl	b
    0000001D CB 19            [ 8]  104 	rr	c
    0000001F CB 38            [ 8]  105 	srl	b
    00000021 CB 19            [ 8]  106 	rr	c
    00000023 21r0Ar00         [12]  107 	ld	hl, #_map_pos_y
    00000026 71               [ 8]  108 	ld	(hl), c
                                    109 ;src/large_map.c:83: if (map_pos_y != old_map_pos_y)
    00000027 7E               [ 8]  110 	ld	a, (hl)
    00000028 21r0Cr00         [12]  111 	ld	hl, #_old_map_pos_y
    0000002B 96               [ 8]  112 	sub	a, (hl)
    0000002C CAr80r01         [16]  113 	jp	Z, 00107$
                                    114 ;src/large_map.c:87: set_submap_indices(
    0000002F FAr09r00         [16]  115 	ld	a, (_map_pos_x)
    00000032 47               [ 4]  116 	ld	b, a
    00000033 1E 00            [ 8]  117 	ld	e, #0x00
    00000035 3E 9C            [ 8]  118 	ld	a, #0x9c
    00000037 21r09r00         [12]  119 	ld	hl, #_map_pos_x
    0000003A 96               [ 8]  120 	sub	a, (hl)
    0000003B 4F               [ 4]  121 	ld	c, a
    0000003C 3E 9C            [ 8]  122 	ld	a, #0x9c
    0000003E 90               [ 4]  123 	sub	a, b
    0000003F 47               [ 4]  124 	ld	b, a
    00000040 9F               [ 4]  125 	sbc	a, a
    00000041 93               [ 4]  126 	sub	a, e
    00000042 6F               [ 4]  127 	ld	l, a
    00000043 5D               [ 4]  128 	ld	e, l
    00000044 16 00            [ 8]  129 	ld	d, #0x00
    00000046 3E 15            [ 8]  130 	ld	a, #0x15
    00000048 B8               [ 4]  131 	cp	a, b
    00000049 3E 00            [ 8]  132 	ld	a, #0x00
    0000004B 9D               [ 4]  133 	sbc	a, l
    0000004C CB 7B            [ 8]  134 	bit	7, e
    0000004E 28 07            [12]  135 	jr	Z, 00245$
    00000050 CB 7A            [ 8]  136 	bit	7, d
    00000052 20 08            [12]  137 	jr	NZ, 00246$
    00000054 BF               [ 4]  138 	cp	a, a
    00000055 18 05            [12]  139 	jr	00246$
    00000057                        140 00245$:
    00000057 CB 7A            [ 8]  141 	bit	7, d
    00000059 28 01            [12]  142 	jr	Z, 00246$
    0000005B 37               [ 4]  143 	scf
    0000005C                        144 00246$:
    0000005C 3E 00            [ 8]  145 	ld	a, #0x00
    0000005E 17               [ 4]  146 	rla
    0000005F F8 00            [12]  147 	ldhl	sp,	#0
    00000061 77               [ 8]  148 	ld	(hl), a
                                    149 ;src/large_map.c:85: if (camera_y < old_camera_y)
    00000062 11r03r00         [12]  150 	ld	de, #_camera_y
    00000065 21r07r00         [12]  151 	ld	hl, #_old_camera_y
    00000068 1A               [ 8]  152 	ld	a, (de)
    00000069 13               [ 8]  153 	inc	de
    0000006A 96               [ 8]  154 	sub	a, (hl)
    0000006B 23               [ 8]  155 	inc	hl
    0000006C 1A               [ 8]  156 	ld	a, (de)
    0000006D 9E               [ 8]  157 	sbc	a, (hl)
    0000006E D2rF1r00         [16]  158 	jp	NC, 00104$
                                    159 ;src/large_map.c:87: set_submap_indices(
    00000071 F8 00            [12]  160 	ldhl	sp,	#0
    00000073 7E               [ 8]  161 	ld	a, (hl)
    00000074 B7               [ 4]  162 	or	a, a
    00000075 28 04            [12]  163 	jr	Z, 00130$
    00000077 06 15            [ 8]  164 	ld	b, #0x15
    00000079 18 01            [12]  165 	jr	00131$
    0000007B                        166 00130$:
    0000007B 41               [ 4]  167 	ld	b, c
    0000007C                        168 00131$:
    0000007C FAr0Ar00         [16]  169 	ld	a, (_map_pos_y)
    0000007F 26 9C            [ 8]  170 	ld	h, #0x9c
    00000081 E5               [16]  171 	push	hl
    00000082 33               [ 8]  172 	inc	sp
    00000083 11r00r00         [12]  173 	ld	de, #_bigmap_map
    00000086 D5               [16]  174 	push	de
    00000087 26 01            [ 8]  175 	ld	h, #0x01
    00000089 68               [ 4]  176 	ld	l, b
    0000008A E5               [16]  177 	push	hl
    0000008B F5               [16]  178 	push	af
    0000008C 33               [ 8]  179 	inc	sp
    0000008D FAr09r00         [16]  180 	ld	a, (_map_pos_x)
    00000090 F5               [16]  181 	push	af
    00000091 33               [ 8]  182 	inc	sp
    00000092 CDr00r00         [24]  183 	call	_set_bkg_submap
    00000095 E8 07            [16]  184 	add	sp, #7
                                    185 ;src/large_map.c:94: set_submap_attributes(
    00000097 01r00r00         [12]  186 	ld	bc, #_bigmap_map
    0000009A FAr09r00         [16]  187 	ld	a, (_map_pos_x)
    0000009D 5F               [ 4]  188 	ld	e, a
    0000009E 16 00            [ 8]  189 	ld	d, #0x00
    000000A0 3E 9C            [ 8]  190 	ld	a, #0x9c
    000000A2 93               [ 4]  191 	sub	a, e
    000000A3 6F               [ 4]  192 	ld	l, a
    000000A4 9F               [ 4]  193 	sbc	a, a
    000000A5 92               [ 4]  194 	sub	a, d
    000000A6 67               [ 4]  195 	ld	h, a
    000000A7 5C               [ 4]  196 	ld	e, h
    000000A8 16 00            [ 8]  197 	ld	d, #0x00
    000000AA 3E 15            [ 8]  198 	ld	a, #0x15
    000000AC BD               [ 4]  199 	cp	a, l
    000000AD 3E 00            [ 8]  200 	ld	a, #0x00
    000000AF 9C               [ 4]  201 	sbc	a, h
    000000B0 CB 7B            [ 8]  202 	bit	7, e
    000000B2 28 07            [12]  203 	jr	Z, 00247$
    000000B4 CB 7A            [ 8]  204 	bit	7, d
    000000B6 20 08            [12]  205 	jr	NZ, 00248$
    000000B8 BF               [ 4]  206 	cp	a, a
    000000B9 18 05            [12]  207 	jr	00248$
    000000BB                        208 00247$:
    000000BB CB 7A            [ 8]  209 	bit	7, d
    000000BD 28 01            [12]  210 	jr	Z, 00248$
    000000BF 37               [ 4]  211 	scf
    000000C0                        212 00248$:
    000000C0 30 04            [12]  213 	jr	NC, 00132$
    000000C2 16 15            [ 8]  214 	ld	d, #0x15
    000000C4 18 07            [12]  215 	jr	00133$
    000000C6                        216 00132$:
    000000C6 3E 9C            [ 8]  217 	ld	a, #0x9c
    000000C8 21r09r00         [12]  218 	ld	hl, #_map_pos_x
    000000CB 96               [ 8]  219 	sub	a, (hl)
    000000CC 57               [ 4]  220 	ld	d, a
    000000CD                        221 00133$:
    000000CD FAr0Ar00         [16]  222 	ld	a, (_map_pos_y)
    000000D0 67               [ 4]  223 	ld	h, a
    000000D1 FAr09r00         [16]  224 	ld	a, (_map_pos_x)
    000000D4 5F               [ 4]  225 	ld	e, a
                                    226 ;../../../include/gb/gb.h:1370: VBK_REG = VBK_ATTRIBUTES;
    000000D5 3E 01            [ 8]  227 	ld	a, #0x01
    000000D7 E0r00            [12]  228 	ldh	(_VBK_REG + 0), a
                                    229 ;../../../include/gb/gb.h:1371: set_bkg_submap(x, y, w, h, map, map_w);
    000000D9 3E 9C            [ 8]  230 	ld	a, #0x9c
    000000DB F5               [16]  231 	push	af
    000000DC 33               [ 8]  232 	inc	sp
    000000DD C5               [16]  233 	push	bc
    000000DE 3E 01            [ 8]  234 	ld	a, #0x01
    000000E0 F5               [16]  235 	push	af
    000000E1 33               [ 8]  236 	inc	sp
    000000E2 D5               [16]  237 	push	de
    000000E3 33               [ 8]  238 	inc	sp
    000000E4 6B               [ 4]  239 	ld	l, e
    000000E5 E5               [16]  240 	push	hl
    000000E6 CDr00r00         [24]  241 	call	_set_bkg_submap
    000000E9 E8 07            [16]  242 	add	sp, #7
                                    243 ;../../../include/gb/gb.h:1372: VBK_REG = VBK_TILES;
    000000EB AF               [ 4]  244 	xor	a, a
    000000EC E0r00            [12]  245 	ldh	(_VBK_REG + 0), a
                                    246 ;src/large_map.c:94: set_submap_attributes(
    000000EE C3r7Ar01         [16]  247 	jp	00105$
    000000F1                        248 00104$:
                                    249 ;src/large_map.c:104: if ((bigmap_mapHeight - DEVICE_SCREEN_HEIGHT) > map_pos_y)
    000000F1 FAr0Ar00         [16]  250 	ld	a, (#_map_pos_y)
    000000F4 D6 30            [ 8]  251 	sub	a, #0x30
    000000F6 D2r7Ar01         [16]  252 	jp	NC, 00105$
                                    253 ;src/large_map.c:106: set_submap_indices(
    000000F9 F8 00            [12]  254 	ldhl	sp,	#0
    000000FB 7E               [ 8]  255 	ld	a, (hl)
    000000FC B7               [ 4]  256 	or	a, a
    000000FD 28 04            [12]  257 	jr	Z, 00134$
    000000FF 06 15            [ 8]  258 	ld	b, #0x15
    00000101 18 01            [12]  259 	jr	00135$
    00000103                        260 00134$:
    00000103 41               [ 4]  261 	ld	b, c
    00000104                        262 00135$:
                                    263 ;src/large_map.c:74: return map_pos_y + DEVICE_SCREEN_HEIGHT;
    00000104 FAr0Ar00         [16]  264 	ld	a, (_map_pos_y)
    00000107 C6 12            [ 8]  265 	add	a, #0x12
                                    266 ;src/large_map.c:106: set_submap_indices(
    00000109 26 9C            [ 8]  267 	ld	h, #0x9c
    0000010B E5               [16]  268 	push	hl
    0000010C 33               [ 8]  269 	inc	sp
    0000010D 11r00r00         [12]  270 	ld	de, #_bigmap_map
    00000110 D5               [16]  271 	push	de
    00000111 26 01            [ 8]  272 	ld	h, #0x01
    00000113 68               [ 4]  273 	ld	l, b
    00000114 E5               [16]  274 	push	hl
    00000115 F5               [16]  275 	push	af
    00000116 33               [ 8]  276 	inc	sp
    00000117 FAr09r00         [16]  277 	ld	a, (_map_pos_x)
    0000011A F5               [16]  278 	push	af
    0000011B 33               [ 8]  279 	inc	sp
    0000011C CDr00r00         [24]  280 	call	_set_bkg_submap
    0000011F E8 07            [16]  281 	add	sp, #7
                                    282 ;src/large_map.c:113: set_submap_attributes(
    00000121 FAr09r00         [16]  283 	ld	a, (_map_pos_x)
    00000124 4F               [ 4]  284 	ld	c, a
    00000125 06 00            [ 8]  285 	ld	b, #0x00
    00000127 3E 9C            [ 8]  286 	ld	a, #0x9c
    00000129 91               [ 4]  287 	sub	a, c
    0000012A 4F               [ 4]  288 	ld	c, a
    0000012B 9F               [ 4]  289 	sbc	a, a
    0000012C 90               [ 4]  290 	sub	a, b
    0000012D 47               [ 4]  291 	ld	b, a
    0000012E 58               [ 4]  292 	ld	e, b
    0000012F 16 00            [ 8]  293 	ld	d, #0x00
    00000131 3E 15            [ 8]  294 	ld	a, #0x15
    00000133 B9               [ 4]  295 	cp	a, c
    00000134 3E 00            [ 8]  296 	ld	a, #0x00
    00000136 98               [ 4]  297 	sbc	a, b
    00000137 CB 7B            [ 8]  298 	bit	7, e
    00000139 28 07            [12]  299 	jr	Z, 00249$
    0000013B CB 7A            [ 8]  300 	bit	7, d
    0000013D 20 08            [12]  301 	jr	NZ, 00250$
    0000013F BF               [ 4]  302 	cp	a, a
    00000140 18 05            [12]  303 	jr	00250$
    00000142                        304 00249$:
    00000142 CB 7A            [ 8]  305 	bit	7, d
    00000144 28 01            [12]  306 	jr	Z, 00250$
    00000146 37               [ 4]  307 	scf
    00000147                        308 00250$:
    00000147 30 04            [12]  309 	jr	NC, 00136$
    00000149 16 15            [ 8]  310 	ld	d, #0x15
    0000014B 18 07            [12]  311 	jr	00137$
    0000014D                        312 00136$:
    0000014D 3E 9C            [ 8]  313 	ld	a, #0x9c
    0000014F 21r09r00         [12]  314 	ld	hl, #_map_pos_x
    00000152 96               [ 8]  315 	sub	a, (hl)
    00000153 57               [ 4]  316 	ld	d, a
    00000154                        317 00137$:
                                    318 ;src/large_map.c:74: return map_pos_y + DEVICE_SCREEN_HEIGHT;
    00000154 FAr0Ar00         [16]  319 	ld	a, (_map_pos_y)
    00000157 C6 12            [ 8]  320 	add	a, #0x12
    00000159 4F               [ 4]  321 	ld	c, a
                                    322 ;src/large_map.c:113: set_submap_attributes(
    0000015A FAr09r00         [16]  323 	ld	a, (_map_pos_x)
    0000015D 47               [ 4]  324 	ld	b, a
                                    325 ;../../../include/gb/gb.h:1370: VBK_REG = VBK_ATTRIBUTES;
    0000015E 3E 01            [ 8]  326 	ld	a, #0x01
    00000160 E0r00            [12]  327 	ldh	(_VBK_REG + 0), a
                                    328 ;../../../include/gb/gb.h:1371: set_bkg_submap(x, y, w, h, map, map_w);
    00000162 3E 9C            [ 8]  329 	ld	a, #0x9c
    00000164 F5               [16]  330 	push	af
    00000165 33               [ 8]  331 	inc	sp
    00000166 21r00r00         [12]  332 	ld	hl, #_bigmap_map
    00000169 E5               [16]  333 	push	hl
    0000016A 3E 01            [ 8]  334 	ld	a, #0x01
    0000016C F5               [16]  335 	push	af
    0000016D 33               [ 8]  336 	inc	sp
    0000016E 59               [ 4]  337 	ld	e, c
    0000016F D5               [16]  338 	push	de
    00000170 C5               [16]  339 	push	bc
    00000171 33               [ 8]  340 	inc	sp
    00000172 CDr00r00         [24]  341 	call	_set_bkg_submap
    00000175 E8 07            [16]  342 	add	sp, #7
                                    343 ;../../../include/gb/gb.h:1372: VBK_REG = VBK_TILES;
    00000177 AF               [ 4]  344 	xor	a, a
    00000178 E0r00            [12]  345 	ldh	(_VBK_REG + 0), a
                                    346 ;src/large_map.c:113: set_submap_attributes(
    0000017A                        347 00105$:
                                    348 ;src/large_map.c:122: old_map_pos_y = map_pos_y; 
    0000017A FAr0Ar00         [16]  349 	ld	a, (#_map_pos_y)
    0000017D EAr0Cr00         [16]  350 	ld	(#_old_map_pos_y),a
    00000180                        351 00107$:
                                    352 ;src/large_map.c:125: map_pos_x = (uint8_t)(camera_x >> 3u);
    00000180 21r01r00         [12]  353 	ld	hl, #_camera_x
    00000183 2A               [ 8]  354 	ld	a, (hl+)
    00000184 4F               [ 4]  355 	ld	c, a
    00000185 46               [ 8]  356 	ld	b, (hl)
    00000186 CB 38            [ 8]  357 	srl	b
    00000188 CB 19            [ 8]  358 	rr	c
    0000018A CB 38            [ 8]  359 	srl	b
    0000018C CB 19            [ 8]  360 	rr	c
    0000018E CB 38            [ 8]  361 	srl	b
    00000190 CB 19            [ 8]  362 	rr	c
    00000192 21r09r00         [12]  363 	ld	hl, #_map_pos_x
    00000195 71               [ 8]  364 	ld	(hl), c
                                    365 ;src/large_map.c:126: if (map_pos_x != old_map_pos_x)
    00000196 7E               [ 8]  366 	ld	a, (hl)
    00000197 21r0Br00         [12]  367 	ld	hl, #_old_map_pos_x
    0000019A 96               [ 8]  368 	sub	a, (hl)
    0000019B CArF5r02         [16]  369 	jp	Z, 00114$
                                    370 ;src/large_map.c:130: set_submap_indices(
    0000019E FAr0Ar00         [16]  371 	ld	a, (_map_pos_y)
    000001A1 47               [ 4]  372 	ld	b, a
    000001A2 1E 00            [ 8]  373 	ld	e, #0x00
    000001A4 3E 42            [ 8]  374 	ld	a, #0x42
    000001A6 21r0Ar00         [12]  375 	ld	hl, #_map_pos_y
    000001A9 96               [ 8]  376 	sub	a, (hl)
    000001AA 4F               [ 4]  377 	ld	c, a
    000001AB 3E 42            [ 8]  378 	ld	a, #0x42
    000001AD 90               [ 4]  379 	sub	a, b
    000001AE 47               [ 4]  380 	ld	b, a
    000001AF 9F               [ 4]  381 	sbc	a, a
    000001B0 93               [ 4]  382 	sub	a, e
    000001B1 6F               [ 4]  383 	ld	l, a
    000001B2 5D               [ 4]  384 	ld	e, l
    000001B3 16 00            [ 8]  385 	ld	d, #0x00
    000001B5 3E 13            [ 8]  386 	ld	a, #0x13
    000001B7 B8               [ 4]  387 	cp	a, b
    000001B8 3E 00            [ 8]  388 	ld	a, #0x00
    000001BA 9D               [ 4]  389 	sbc	a, l
    000001BB CB 7B            [ 8]  390 	bit	7, e
    000001BD 28 07            [12]  391 	jr	Z, 00252$
    000001BF CB 7A            [ 8]  392 	bit	7, d
    000001C1 20 08            [12]  393 	jr	NZ, 00253$
    000001C3 BF               [ 4]  394 	cp	a, a
    000001C4 18 05            [12]  395 	jr	00253$
    000001C6                        396 00252$:
    000001C6 CB 7A            [ 8]  397 	bit	7, d
    000001C8 28 01            [12]  398 	jr	Z, 00253$
    000001CA 37               [ 4]  399 	scf
    000001CB                        400 00253$:
    000001CB 3E 00            [ 8]  401 	ld	a, #0x00
    000001CD 17               [ 4]  402 	rla
    000001CE 47               [ 4]  403 	ld	b, a
                                    404 ;src/large_map.c:128: if (camera_x < old_camera_x)
    000001CF 11r01r00         [12]  405 	ld	de, #_camera_x
    000001D2 21r05r00         [12]  406 	ld	hl, #_old_camera_x
    000001D5 1A               [ 8]  407 	ld	a, (de)
    000001D6 13               [ 8]  408 	inc	de
    000001D7 96               [ 8]  409 	sub	a, (hl)
    000001D8 23               [ 8]  410 	inc	hl
    000001D9 1A               [ 8]  411 	ld	a, (de)
    000001DA 9E               [ 8]  412 	sbc	a, (hl)
    000001DB D2r5Fr02         [16]  413 	jp	NC, 00111$
                                    414 ;src/large_map.c:130: set_submap_indices(
    000001DE 78               [ 4]  415 	ld	a, b
    000001DF B7               [ 4]  416 	or	a, a
    000001E0 28 04            [12]  417 	jr	Z, 00138$
    000001E2 3E 13            [ 8]  418 	ld	a, #0x13
    000001E4 18 01            [12]  419 	jr	00139$
    000001E6                        420 00138$:
    000001E6 79               [ 4]  421 	ld	a, c
    000001E7                        422 00139$:
    000001E7 21r09r00         [12]  423 	ld	hl, #_map_pos_x
    000001EA 46               [ 8]  424 	ld	b, (hl)
    000001EB 26 9C            [ 8]  425 	ld	h, #0x9c
    000001ED E5               [16]  426 	push	hl
    000001EE 33               [ 8]  427 	inc	sp
    000001EF 11r00r00         [12]  428 	ld	de, #_bigmap_map
    000001F2 D5               [16]  429 	push	de
    000001F3 67               [ 4]  430 	ld	h, a
    000001F4 2E 01            [ 8]  431 	ld	l, #0x01
    000001F6 E5               [16]  432 	push	hl
    000001F7 FAr0Ar00         [16]  433 	ld	a, (_map_pos_y)
    000001FA F5               [16]  434 	push	af
    000001FB 33               [ 8]  435 	inc	sp
    000001FC C5               [16]  436 	push	bc
    000001FD 33               [ 8]  437 	inc	sp
    000001FE CDr00r00         [24]  438 	call	_set_bkg_submap
    00000201 E8 07            [16]  439 	add	sp, #7
                                    440 ;src/large_map.c:137: set_submap_attributes(
    00000203 FAr0Ar00         [16]  441 	ld	a, (_map_pos_y)
    00000206 4F               [ 4]  442 	ld	c, a
    00000207 06 00            [ 8]  443 	ld	b, #0x00
    00000209 3E 42            [ 8]  444 	ld	a, #0x42
    0000020B 91               [ 4]  445 	sub	a, c
    0000020C 4F               [ 4]  446 	ld	c, a
    0000020D 9F               [ 4]  447 	sbc	a, a
    0000020E 90               [ 4]  448 	sub	a, b
    0000020F 47               [ 4]  449 	ld	b, a
    00000210 58               [ 4]  450 	ld	e, b
    00000211 16 00            [ 8]  451 	ld	d, #0x00
    00000213 3E 13            [ 8]  452 	ld	a, #0x13
    00000215 B9               [ 4]  453 	cp	a, c
    00000216 3E 00            [ 8]  454 	ld	a, #0x00
    00000218 98               [ 4]  455 	sbc	a, b
    00000219 CB 7B            [ 8]  456 	bit	7, e
    0000021B 28 07            [12]  457 	jr	Z, 00254$
    0000021D CB 7A            [ 8]  458 	bit	7, d
    0000021F 20 08            [12]  459 	jr	NZ, 00255$
    00000221 BF               [ 4]  460 	cp	a, a
    00000222 18 05            [12]  461 	jr	00255$
    00000224                        462 00254$:
    00000224 CB 7A            [ 8]  463 	bit	7, d
    00000226 28 01            [12]  464 	jr	Z, 00255$
    00000228 37               [ 4]  465 	scf
    00000229                        466 00255$:
    00000229 30 04            [12]  467 	jr	NC, 00140$
    0000022B 0E 13            [ 8]  468 	ld	c, #0x13
    0000022D 18 07            [12]  469 	jr	00141$
    0000022F                        470 00140$:
    0000022F 3E 42            [ 8]  471 	ld	a, #0x42
    00000231 21r0Ar00         [12]  472 	ld	hl, #_map_pos_y
    00000234 96               [ 8]  473 	sub	a, (hl)
    00000235 4F               [ 4]  474 	ld	c, a
    00000236                        475 00141$:
    00000236 FAr0Ar00         [16]  476 	ld	a, (_map_pos_y)
    00000239 21r09r00         [12]  477 	ld	hl, #_map_pos_x
    0000023C 5E               [ 8]  478 	ld	e, (hl)
                                    479 ;../../../include/gb/gb.h:1370: VBK_REG = VBK_ATTRIBUTES;
    0000023D F5               [16]  480 	push	af
    0000023E 3E 01            [ 8]  481 	ld	a, #0x01
    00000240 E0r00            [12]  482 	ldh	(_VBK_REG + 0), a
    00000242 F1               [12]  483 	pop	af
                                    484 ;../../../include/gb/gb.h:1371: set_bkg_submap(x, y, w, h, map, map_w);
    00000243 26 9C            [ 8]  485 	ld	h, #0x9c
    00000245 E5               [16]  486 	push	hl
    00000246 33               [ 8]  487 	inc	sp
    00000247 21r00r00         [12]  488 	ld	hl, #_bigmap_map
    0000024A E5               [16]  489 	push	hl
    0000024B 61               [ 4]  490 	ld	h, c
    0000024C E5               [16]  491 	push	hl
    0000024D 33               [ 8]  492 	inc	sp
    0000024E 26 01            [ 8]  493 	ld	h, #0x01
    00000250 E5               [16]  494 	push	hl
    00000251 33               [ 8]  495 	inc	sp
    00000252 57               [ 4]  496 	ld	d,a
    00000253 D5               [16]  497 	push	de
    00000254 CDr00r00         [24]  498 	call	_set_bkg_submap
    00000257 E8 07            [16]  499 	add	sp, #7
                                    500 ;../../../include/gb/gb.h:1372: VBK_REG = VBK_TILES;
    00000259 AF               [ 4]  501 	xor	a, a
    0000025A E0r00            [12]  502 	ldh	(_VBK_REG + 0), a
                                    503 ;src/large_map.c:137: set_submap_attributes(
    0000025C C3rEFr02         [16]  504 	jp	00112$
    0000025F                        505 00111$:
                                    506 ;src/large_map.c:147: if ((bigmap_mapWidth - DEVICE_SCREEN_WIDTH) > map_pos_x)
    0000025F 21r09r00         [12]  507 	ld	hl, #_map_pos_x
    00000262 7E               [ 8]  508 	ld	a, (hl)
    00000263 D6 88            [ 8]  509 	sub	a, #0x88
    00000265 D2rEFr02         [16]  510 	jp	NC, 00112$
                                    511 ;src/large_map.c:149: set_submap_indices(
    00000268 78               [ 4]  512 	ld	a, b
    00000269 B7               [ 4]  513 	or	a, a
    0000026A 28 04            [12]  514 	jr	Z, 00142$
    0000026C 06 13            [ 8]  515 	ld	b, #0x13
    0000026E 18 01            [12]  516 	jr	00143$
    00000270                        517 00142$:
    00000270 41               [ 4]  518 	ld	b, c
    00000271                        519 00143$:
                                    520 ;src/large_map.c:60: return map_pos_x + DEVICE_SCREEN_WIDTH;
    00000271 FAr09r00         [16]  521 	ld	a, (_map_pos_x)
    00000274 C6 14            [ 8]  522 	add	a, #0x14
                                    523 ;src/large_map.c:149: set_submap_indices(
    00000276 26 9C            [ 8]  524 	ld	h, #0x9c
    00000278 E5               [16]  525 	push	hl
    00000279 33               [ 8]  526 	inc	sp
    0000027A 11r00r00         [12]  527 	ld	de, #_bigmap_map
    0000027D D5               [16]  528 	push	de
    0000027E C5               [16]  529 	push	bc
    0000027F 33               [ 8]  530 	inc	sp
    00000280 26 01            [ 8]  531 	ld	h, #0x01
    00000282 E5               [16]  532 	push	hl
    00000283 33               [ 8]  533 	inc	sp
    00000284 21r0Ar00         [12]  534 	ld	hl, #_map_pos_y
    00000287 66               [ 8]  535 	ld	h, (hl)
    00000288 E5               [16]  536 	push	hl
    00000289 33               [ 8]  537 	inc	sp
    0000028A F5               [16]  538 	push	af
    0000028B 33               [ 8]  539 	inc	sp
    0000028C CDr00r00         [24]  540 	call	_set_bkg_submap
    0000028F E8 07            [16]  541 	add	sp, #7
                                    542 ;src/large_map.c:156: set_submap_attributes(
    00000291 FAr0Ar00         [16]  543 	ld	a, (_map_pos_y)
    00000294 4F               [ 4]  544 	ld	c, a
    00000295 06 00            [ 8]  545 	ld	b, #0x00
    00000297 3E 42            [ 8]  546 	ld	a, #0x42
    00000299 91               [ 4]  547 	sub	a, c
    0000029A 4F               [ 4]  548 	ld	c, a
    0000029B 9F               [ 4]  549 	sbc	a, a
    0000029C 90               [ 4]  550 	sub	a, b
    0000029D 47               [ 4]  551 	ld	b, a
    0000029E 58               [ 4]  552 	ld	e, b
    0000029F 16 00            [ 8]  553 	ld	d, #0x00
    000002A1 3E 13            [ 8]  554 	ld	a, #0x13
    000002A3 B9               [ 4]  555 	cp	a, c
    000002A4 3E 00            [ 8]  556 	ld	a, #0x00
    000002A6 98               [ 4]  557 	sbc	a, b
    000002A7 CB 7B            [ 8]  558 	bit	7, e
    000002A9 28 07            [12]  559 	jr	Z, 00256$
    000002AB CB 7A            [ 8]  560 	bit	7, d
    000002AD 20 08            [12]  561 	jr	NZ, 00257$
    000002AF BF               [ 4]  562 	cp	a, a
    000002B0 18 05            [12]  563 	jr	00257$
    000002B2                        564 00256$:
    000002B2 CB 7A            [ 8]  565 	bit	7, d
    000002B4 28 01            [12]  566 	jr	Z, 00257$
    000002B6 37               [ 4]  567 	scf
    000002B7                        568 00257$:
    000002B7 30 04            [12]  569 	jr	NC, 00144$
    000002B9 0E 13            [ 8]  570 	ld	c, #0x13
    000002BB 18 07            [12]  571 	jr	00145$
    000002BD                        572 00144$:
    000002BD 3E 42            [ 8]  573 	ld	a, #0x42
    000002BF 21r0Ar00         [12]  574 	ld	hl, #_map_pos_y
    000002C2 96               [ 8]  575 	sub	a, (hl)
    000002C3 4F               [ 4]  576 	ld	c, a
    000002C4                        577 00145$:
    000002C4 FAr0Ar00         [16]  578 	ld	a, (_map_pos_y)
    000002C7 5F               [ 4]  579 	ld	e, a
                                    580 ;src/large_map.c:60: return map_pos_x + DEVICE_SCREEN_WIDTH;
    000002C8 FAr09r00         [16]  581 	ld	a, (_map_pos_x)
    000002CB C6 14            [ 8]  582 	add	a, #0x14
                                    583 ;../../../include/gb/gb.h:1370: VBK_REG = VBK_ATTRIBUTES;
    000002CD F5               [16]  584 	push	af
    000002CE 3E 01            [ 8]  585 	ld	a, #0x01
    000002D0 E0r00            [12]  586 	ldh	(_VBK_REG + 0), a
    000002D2 F1               [12]  587 	pop	af
                                    588 ;../../../include/gb/gb.h:1371: set_bkg_submap(x, y, w, h, map, map_w);
    000002D3 26 9C            [ 8]  589 	ld	h, #0x9c
    000002D5 E5               [16]  590 	push	hl
    000002D6 33               [ 8]  591 	inc	sp
    000002D7 21r00r00         [12]  592 	ld	hl, #_bigmap_map
    000002DA E5               [16]  593 	push	hl
    000002DB 61               [ 4]  594 	ld	h, c
    000002DC E5               [16]  595 	push	hl
    000002DD 33               [ 8]  596 	inc	sp
    000002DE 26 01            [ 8]  597 	ld	h, #0x01
    000002E0 E5               [16]  598 	push	hl
    000002E1 33               [ 8]  599 	inc	sp
    000002E2 63               [ 4]  600 	ld	h, e
    000002E3 E5               [16]  601 	push	hl
    000002E4 33               [ 8]  602 	inc	sp
    000002E5 F5               [16]  603 	push	af
    000002E6 33               [ 8]  604 	inc	sp
    000002E7 CDr00r00         [24]  605 	call	_set_bkg_submap
    000002EA E8 07            [16]  606 	add	sp, #7
                                    607 ;../../../include/gb/gb.h:1372: VBK_REG = VBK_TILES;
    000002EC AF               [ 4]  608 	xor	a, a
    000002ED E0r00            [12]  609 	ldh	(_VBK_REG + 0), a
                                    610 ;src/large_map.c:156: set_submap_attributes(
    000002EF                        611 00112$:
                                    612 ;src/large_map.c:165: old_map_pos_x = map_pos_x;
    000002EF FAr09r00         [16]  613 	ld	a, (#_map_pos_x)
    000002F2 EAr0Br00         [16]  614 	ld	(#_old_map_pos_x),a
    000002F5                        615 00114$:
                                    616 ;src/large_map.c:168: old_camera_x = camera_x, old_camera_y = camera_y;
    000002F5 FAr01r00         [16]  617 	ld	a, (#_camera_x)
    000002F8 EAr05r00         [16]  618 	ld	(#_old_camera_x),a
    000002FB FAr02r00         [16]  619 	ld	a, (#_camera_x + 1)
    000002FE EAr06r00         [16]  620 	ld	(#_old_camera_x + 1),a
    00000301 FAr03r00         [16]  621 	ld	a, (#_camera_y)
    00000304 EAr07r00         [16]  622 	ld	(#_old_camera_y),a
    00000307 FAr04r00         [16]  623 	ld	a, (#_camera_y + 1)
    0000030A EAr08r00         [16]  624 	ld	(#_old_camera_y + 1),a
                                    625 ;src/large_map.c:169: }
    0000030D 33               [ 8]  626 	inc	sp
    0000030E C9               [16]  627 	ret
                                    628 ;src/large_map.c:172: void init_camera(uint8_t x, uint8_t y) {
                                    629 ;	---------------------------------
                                    630 ; Function init_camera
                                    631 ; ---------------------------------
    0000030F                        632 _init_camera::
    0000030F 47               [ 4]  633 	ld	b, a
    00000310 4B               [ 4]  634 	ld	c, e
                                    635 ;src/large_map.c:175: set_native_tile_data(0, bigmap_TILE_COUNT, bigmap_tiles);
                                    636 ;../../../include/gb/gb.h:2146: set_bkg_data(first_tile, nb_tiles, data);
    00000311 11r00r00         [12]  637 	ld	de, #_bigmap_tiles
    00000314 D5               [16]  638 	push	de
    00000315 21 00 EA         [12]  639 	ld	hl, #0xea00
    00000318 E5               [16]  640 	push	hl
    00000319 CDr00r00         [24]  641 	call	_set_bkg_data
    0000031C E8 04            [16]  642 	add	sp, #4
                                    643 ;src/large_map.c:183: if (_cpu == CGB_TYPE) {
    0000031E FAr00r00         [16]  644 	ld	a, (#__cpu)
    00000321 D6 11            [ 8]  645 	sub	a, #0x11
    00000323 20 0F            [12]  646 	jr	NZ, 00102$
                                    647 ;src/large_map.c:184: set_bkg_palette(BKGF_CGB_PAL0, bigmap_PALETTE_COUNT, bigmap_palettes);
    00000325 C5               [16]  648 	push	bc
    00000326 11r00r00         [12]  649 	ld	de, #_bigmap_palettes
    00000329 D5               [16]  650 	push	de
    0000032A 21 00 04         [12]  651 	ld	hl, #0x400
    0000032D E5               [16]  652 	push	hl
    0000032E CDr00r00         [24]  653 	call	_set_bkg_palette
    00000331 E8 04            [16]  654 	add	sp, #4
    00000333 C1               [12]  655 	pop	bc
    00000334                        656 00102$:
                                    657 ;src/large_map.c:192: camera_x = x;
    00000334 21r01r00         [12]  658 	ld	hl, #_camera_x
    00000337 78               [ 4]  659 	ld	a, b
    00000338 22               [ 8]  660 	ld	(hl+), a
    00000339 36 00            [12]  661 	ld	(hl), #0x00
                                    662 ;src/large_map.c:193: camera_y = y;
    0000033B 21r03r00         [12]  663 	ld	hl, #_camera_y
    0000033E 79               [ 4]  664 	ld	a, c
    0000033F 22               [ 8]  665 	ld	(hl+), a
    00000340 36 00            [12]  666 	ld	(hl), #0x00
                                    667 ;src/large_map.c:195: if (camera_x > camera_max_x) camera_x = camera_max_x;
    00000342 FAr01r00         [16]  668 	ld	a, (_camera_x)
    00000345 4F               [ 4]  669 	ld	c, a
    00000346 21r02r00         [12]  670 	ld	hl, #_camera_x + 1
    00000349 46               [ 8]  671 	ld	b, (hl)
    0000034A 3E 40            [ 8]  672 	ld	a, #0x40
    0000034C B9               [ 4]  673 	cp	a, c
    0000034D 3E 04            [ 8]  674 	ld	a, #0x04
    0000034F 98               [ 4]  675 	sbc	a, b
    00000350 30 06            [12]  676 	jr	NC, 00104$
    00000352 2B               [ 8]  677 	dec	hl
    00000353 3E 40            [ 8]  678 	ld	a, #0x40
    00000355 22               [ 8]  679 	ld	(hl+), a
    00000356 36 04            [12]  680 	ld	(hl), #0x04
    00000358                        681 00104$:
                                    682 ;src/large_map.c:196: if (camera_y > camera_max_y) camera_y = camera_max_y;
    00000358 FAr03r00         [16]  683 	ld	a, (_camera_y)
    0000035B 4F               [ 4]  684 	ld	c, a
    0000035C 21r04r00         [12]  685 	ld	hl, #_camera_y + 1
    0000035F 46               [ 8]  686 	ld	b, (hl)
    00000360 3E 80            [ 8]  687 	ld	a, #0x80
    00000362 B9               [ 4]  688 	cp	a, c
    00000363 3E 01            [ 8]  689 	ld	a, #0x01
    00000365 98               [ 4]  690 	sbc	a, b
    00000366 30 06            [12]  691 	jr	NC, 00106$
    00000368 2B               [ 8]  692 	dec	hl
    00000369 3E 80            [ 8]  693 	ld	a, #0x80
    0000036B 22               [ 8]  694 	ld	(hl+), a
    0000036C 36 01            [12]  695 	ld	(hl), #0x01
    0000036E                        696 00106$:
                                    697 ;src/large_map.c:197: old_camera_x = camera_x; old_camera_y = camera_y;
    0000036E FAr01r00         [16]  698 	ld	a, (#_camera_x)
    00000371 EAr05r00         [16]  699 	ld	(#_old_camera_x),a
    00000374 FAr02r00         [16]  700 	ld	a, (#_camera_x + 1)
    00000377 EAr06r00         [16]  701 	ld	(#_old_camera_x + 1),a
    0000037A FAr03r00         [16]  702 	ld	a, (#_camera_y)
    0000037D EAr07r00         [16]  703 	ld	(#_old_camera_y),a
    00000380 FAr04r00         [16]  704 	ld	a, (#_camera_y + 1)
    00000383 EAr08r00         [16]  705 	ld	(#_old_camera_y + 1),a
                                    706 ;src/large_map.c:199: map_pos_x = camera_x >> 3;
    00000386 21r01r00         [12]  707 	ld	hl, #_camera_x
    00000389 2A               [ 8]  708 	ld	a, (hl+)
    0000038A 4F               [ 4]  709 	ld	c, a
    0000038B 46               [ 8]  710 	ld	b, (hl)
    0000038C CB 38            [ 8]  711 	srl	b
    0000038E CB 19            [ 8]  712 	rr	c
    00000390 CB 38            [ 8]  713 	srl	b
    00000392 CB 19            [ 8]  714 	rr	c
    00000394 CB 38            [ 8]  715 	srl	b
    00000396 CB 19            [ 8]  716 	rr	c
    00000398 21r09r00         [12]  717 	ld	hl, #_map_pos_x
    0000039B 71               [ 8]  718 	ld	(hl), c
                                    719 ;src/large_map.c:200: map_pos_y = camera_y >> 3;
    0000039C 21r03r00         [12]  720 	ld	hl, #_camera_y
    0000039F 2A               [ 8]  721 	ld	a, (hl+)
    000003A0 4F               [ 4]  722 	ld	c, a
    000003A1 46               [ 8]  723 	ld	b, (hl)
    000003A2 CB 38            [ 8]  724 	srl	b
    000003A4 CB 19            [ 8]  725 	rr	c
    000003A6 CB 38            [ 8]  726 	srl	b
    000003A8 CB 19            [ 8]  727 	rr	c
    000003AA CB 38            [ 8]  728 	srl	b
    000003AC CB 19            [ 8]  729 	rr	c
    000003AE 21r0Ar00         [12]  730 	ld	hl, #_map_pos_y
    000003B1 71               [ 8]  731 	ld	(hl), c
                                    732 ;src/large_map.c:201: old_map_pos_x = old_map_pos_y = 255;
    000003B2 21r0Cr00         [12]  733 	ld	hl, #_old_map_pos_y
    000003B5 36 FF            [12]  734 	ld	(hl), #0xff
    000003B7 21r0Br00         [12]  735 	ld	hl, #_old_map_pos_x
    000003BA 36 FF            [12]  736 	ld	(hl), #0xff
                                    737 ;src/large_map.c:202: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
    000003BC FAr03r00         [16]  738 	ld	a, (_camera_y)
    000003BF 21r04r00         [12]  739 	ld	hl, #_camera_y + 1
    000003C2 46               [ 8]  740 	ld	b, (hl)
    000003C3 4F               [ 4]  741 	ld	c, a
    000003C4 FAr01r00         [16]  742 	ld	a, (#_camera_x)
    000003C7 E0r00            [12]  743 	ldh	(_SCX_REG + 0), a
                                    744 ;../../../include/gb/gb.h:1461: SCX_REG=x, SCY_REG=y;
    000003C9 79               [ 4]  745 	ld	a, c
    000003CA E0r00            [12]  746 	ldh	(_SCY_REG + 0), a
                                    747 ;src/large_map.c:205: set_submap_indices(
    000003CC 01r00r00         [12]  748 	ld	bc, #_bigmap_map+0
    000003CF FAr0Ar00         [16]  749 	ld	a, (_map_pos_y)
    000003D2 5F               [ 4]  750 	ld	e, a
    000003D3 16 00            [ 8]  751 	ld	d, #0x00
    000003D5 3E 42            [ 8]  752 	ld	a, #0x42
    000003D7 93               [ 4]  753 	sub	a, e
    000003D8 5F               [ 4]  754 	ld	e, a
    000003D9 9F               [ 4]  755 	sbc	a, a
    000003DA 92               [ 4]  756 	sub	a, d
    000003DB 57               [ 4]  757 	ld	d, a
    000003DC 3E 13            [ 8]  758 	ld	a, #0x13
    000003DE BB               [ 4]  759 	cp	a, e
    000003DF 3E 00            [ 8]  760 	ld	a, #0x00
    000003E1 9A               [ 4]  761 	sbc	a, d
    000003E2 30 04            [12]  762 	jr	NC, 00116$
    000003E4 16 13            [ 8]  763 	ld	d, #0x13
    000003E6 18 07            [12]  764 	jr	00117$
    000003E8                        765 00116$:
    000003E8 3E 42            [ 8]  766 	ld	a, #0x42
    000003EA 21r0Ar00         [12]  767 	ld	hl, #_map_pos_y
    000003ED 96               [ 8]  768 	sub	a, (hl)
    000003EE 57               [ 4]  769 	ld	d, a
    000003EF                        770 00117$:
    000003EF FAr09r00         [16]  771 	ld	a, (_map_pos_x)
    000003F2 6F               [ 4]  772 	ld	l, a
    000003F3 26 00            [ 8]  773 	ld	h, #0x00
    000003F5 3E 9C            [ 8]  774 	ld	a, #0x9c
    000003F7 95               [ 4]  775 	sub	a, l
    000003F8 5F               [ 4]  776 	ld	e, a
    000003F9 9F               [ 4]  777 	sbc	a, a
    000003FA 94               [ 4]  778 	sub	a, h
    000003FB 6F               [ 4]  779 	ld	l, a
    000003FC 3E 15            [ 8]  780 	ld	a, #0x15
    000003FE BB               [ 4]  781 	cp	a, e
    000003FF 3E 00            [ 8]  782 	ld	a, #0x00
    00000401 9D               [ 4]  783 	sbc	a, l
    00000402 30 04            [12]  784 	jr	NC, 00118$
    00000404 3E 15            [ 8]  785 	ld	a, #0x15
    00000406 18 06            [12]  786 	jr	00119$
    00000408                        787 00118$:
    00000408 3E 9C            [ 8]  788 	ld	a, #0x9c
    0000040A 21r09r00         [12]  789 	ld	hl, #_map_pos_x
    0000040D 96               [ 8]  790 	sub	a, (hl)
    0000040E                        791 00119$:
    0000040E C5               [16]  792 	push	bc
    0000040F 26 9C            [ 8]  793 	ld	h, #0x9c
    00000411 E5               [16]  794 	push	hl
    00000412 33               [ 8]  795 	inc	sp
    00000413 C5               [16]  796 	push	bc
    00000414 D5               [16]  797 	push	de
    00000415 33               [ 8]  798 	inc	sp
    00000416 F5               [16]  799 	push	af
    00000417 33               [ 8]  800 	inc	sp
    00000418 FAr0Ar00         [16]  801 	ld	a, (_map_pos_y)
    0000041B 67               [ 4]  802 	ld	h, a
    0000041C FAr09r00         [16]  803 	ld	a, (_map_pos_x)
    0000041F 6F               [ 4]  804 	ld	l, a
    00000420 E5               [16]  805 	push	hl
    00000421 CDr00r00         [24]  806 	call	_set_bkg_submap
    00000424 E8 07            [16]  807 	add	sp, #7
    00000426 C1               [12]  808 	pop	bc
                                    809 ;src/large_map.c:213: set_submap_attributes(
    00000427 FAr0Ar00         [16]  810 	ld	a, (_map_pos_y)
    0000042A 5F               [ 4]  811 	ld	e, a
    0000042B 16 00            [ 8]  812 	ld	d, #0x00
    0000042D 3E 42            [ 8]  813 	ld	a, #0x42
    0000042F 93               [ 4]  814 	sub	a, e
    00000430 5F               [ 4]  815 	ld	e, a
    00000431 9F               [ 4]  816 	sbc	a, a
    00000432 92               [ 4]  817 	sub	a, d
    00000433 57               [ 4]  818 	ld	d, a
    00000434 3E 13            [ 8]  819 	ld	a, #0x13
    00000436 BB               [ 4]  820 	cp	a, e
    00000437 3E 00            [ 8]  821 	ld	a, #0x00
    00000439 9A               [ 4]  822 	sbc	a, d
    0000043A 30 04            [12]  823 	jr	NC, 00120$
    0000043C 1E 13            [ 8]  824 	ld	e, #0x13
    0000043E 18 07            [12]  825 	jr	00121$
    00000440                        826 00120$:
    00000440 3E 42            [ 8]  827 	ld	a, #0x42
    00000442 21r0Ar00         [12]  828 	ld	hl, #_map_pos_y
    00000445 96               [ 8]  829 	sub	a, (hl)
    00000446 5F               [ 4]  830 	ld	e, a
    00000447                        831 00121$:
    00000447 FAr09r00         [16]  832 	ld	a, (_map_pos_x)
    0000044A 6F               [ 4]  833 	ld	l, a
    0000044B 26 00            [ 8]  834 	ld	h, #0x00
    0000044D 3E 9C            [ 8]  835 	ld	a, #0x9c
    0000044F 95               [ 4]  836 	sub	a, l
    00000450 6F               [ 4]  837 	ld	l, a
    00000451 9F               [ 4]  838 	sbc	a, a
    00000452 94               [ 4]  839 	sub	a, h
    00000453 57               [ 4]  840 	ld	d, a
    00000454 3E 15            [ 8]  841 	ld	a, #0x15
    00000456 BD               [ 4]  842 	cp	a, l
    00000457 3E 00            [ 8]  843 	ld	a, #0x00
    00000459 9A               [ 4]  844 	sbc	a, d
    0000045A 30 04            [12]  845 	jr	NC, 00122$
    0000045C 16 15            [ 8]  846 	ld	d, #0x15
    0000045E 18 07            [12]  847 	jr	00123$
    00000460                        848 00122$:
    00000460 3E 9C            [ 8]  849 	ld	a, #0x9c
    00000462 21r09r00         [12]  850 	ld	hl, #_map_pos_x
    00000465 96               [ 8]  851 	sub	a, (hl)
    00000466 57               [ 4]  852 	ld	d, a
    00000467                        853 00123$:
    00000467 FAr0Ar00         [16]  854 	ld	a, (_map_pos_y)
    0000046A 6F               [ 4]  855 	ld	l, a
    0000046B FAr09r00         [16]  856 	ld	a, (_map_pos_x)
    0000046E 67               [ 4]  857 	ld	h, a
                                    858 ;../../../include/gb/gb.h:1370: VBK_REG = VBK_ATTRIBUTES;
    0000046F 3E 01            [ 8]  859 	ld	a, #0x01
    00000471 E0r00            [12]  860 	ldh	(_VBK_REG + 0), a
                                    861 ;../../../include/gb/gb.h:1371: set_bkg_submap(x, y, w, h, map, map_w);
    00000473 3E 9C            [ 8]  862 	ld	a, #0x9c
    00000475 F5               [16]  863 	push	af
    00000476 33               [ 8]  864 	inc	sp
    00000477 C5               [16]  865 	push	bc
    00000478 7B               [ 4]  866 	ld	a, e
    00000479 F5               [16]  867 	push	af
    0000047A 33               [ 8]  868 	inc	sp
    0000047B 5D               [ 4]  869 	ld	e, l
    0000047C D5               [16]  870 	push	de
    0000047D E5               [16]  871 	push	hl
    0000047E 33               [ 8]  872 	inc	sp
    0000047F CDr00r00         [24]  873 	call	_set_bkg_submap
    00000482 E8 07            [16]  874 	add	sp, #7
                                    875 ;../../../include/gb/gb.h:1372: VBK_REG = VBK_TILES;
    00000484 AF               [ 4]  876 	xor	a, a
    00000485 E0r00            [12]  877 	ldh	(_VBK_REG + 0), a
                                    878 ;src/large_map.c:221: redraw = FALSE;
    00000487 AF               [ 4]  879 	xor	a, a
    00000488 EAr0Dr00         [16]  880 	ld	(#_redraw),a
                                    881 ;src/large_map.c:223: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
    0000048B FAr03r00         [16]  882 	ld	a, (_camera_y)
    0000048E 21r04r00         [12]  883 	ld	hl, #_camera_y + 1
    00000491 4E               [ 8]  884 	ld	c, (hl)
    00000492 5F               [ 4]  885 	ld	e, a
    00000493 FAr01r00         [16]  886 	ld	a, (#_camera_x)
    00000496 E0r00            [12]  887 	ldh	(_SCX_REG + 0), a
                                    888 ;../../../include/gb/gb.h:1461: SCX_REG=x, SCY_REG=y;
    00000498 7B               [ 4]  889 	ld	a, e
    00000499 E0r00            [12]  890 	ldh	(_SCY_REG + 0), a
                                    891 ;src/large_map.c:223: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
                                    892 ;src/large_map.c:230: }
    0000049B C9               [16]  893 	ret
                                    894 ;src/large_map.c:232: void main(void){
                                    895 ;	---------------------------------
                                    896 ; Function main
                                    897 ; ---------------------------------
    0000049C                        898 _main::
                                    899 ;src/large_map.c:233: DISPLAY_OFF;
    0000049C CDr00r00         [24]  900 	call	_display_off
                                    901 ;src/large_map.c:234: init_camera(0, 0);
    0000049F AF               [ 4]  902 	xor	a, a
    000004A0 5F               [ 4]  903 	ld	e, a
    000004A1 CDr0Fr03         [24]  904 	call	_init_camera
                                    905 ;src/large_map.c:236: SHOW_BKG;
    000004A4 F0r00            [12]  906 	ldh	a, (_LCDC_REG + 0)
    000004A6 F6 01            [ 8]  907 	or	a, #0x01
    000004A8 E0r00            [12]  908 	ldh	(_LCDC_REG + 0), a
                                    909 ;src/large_map.c:237: DISPLAY_ON;
    000004AA F0r00            [12]  910 	ldh	a, (_LCDC_REG + 0)
    000004AC F6 80            [ 8]  911 	or	a, #0x80
    000004AE E0r00            [12]  912 	ldh	(_LCDC_REG + 0), a
                                    913 ;src/large_map.c:238: while (TRUE) {
    000004B0                        914 00123$:
                                    915 ;src/large_map.c:239: joy = joypad();
    000004B0 CDr00r00         [24]  916 	call	_joypad
    000004B3 21r00r00         [12]  917 	ld	hl, #_joy
    000004B6 77               [ 8]  918 	ld	(hl), a
                                    919 ;src/large_map.c:241: if (joy & J_UP) {
    000004B7 4E               [ 8]  920 	ld	c, (hl)
    000004B8 CB 51            [ 8]  921 	bit	2, c
    000004BA 28 16            [12]  922 	jr	Z, 00108$
                                    923 ;src/large_map.c:242: if (camera_y) {
    000004BC 21r04r00         [12]  924 	ld	hl, #_camera_y + 1
    000004BF 3A               [ 8]  925 	ld	a, (hl-)
    000004C0 B6               [ 8]  926 	or	a, (hl)
    000004C1 28 2E            [12]  927 	jr	Z, 00109$
                                    928 ;src/large_map.c:243: camera_y--;
    000004C3 2A               [ 8]  929 	ld	a, (hl+)
    000004C4 5F               [ 4]  930 	ld	e, a
    000004C5 3A               [ 8]  931 	ld	a, (hl-)
    000004C6 57               [ 4]  932 	ld	d, a
    000004C7 1B               [ 8]  933 	dec	de
    000004C8 7B               [ 4]  934 	ld	a, e
    000004C9 22               [ 8]  935 	ld	(hl+), a
    000004CA 72               [ 8]  936 	ld	(hl), d
                                    937 ;src/large_map.c:244: redraw = TRUE;
    000004CB 21r0Dr00         [12]  938 	ld	hl, #_redraw
    000004CE 36 01            [12]  939 	ld	(hl), #0x01
    000004D0 18 1F            [12]  940 	jr	00109$
    000004D2                        941 00108$:
                                    942 ;src/large_map.c:246: } else if (joy & J_DOWN) {
    000004D2 CB 59            [ 8]  943 	bit	3, c
    000004D4 28 1B            [12]  944 	jr	Z, 00109$
                                    945 ;src/large_map.c:247: if (camera_y < camera_max_y) {
    000004D6 FAr03r00         [16]  946 	ld	a, (_camera_y)
    000004D9 47               [ 4]  947 	ld	b, a
    000004DA 21r04r00         [12]  948 	ld	hl, #_camera_y + 1
    000004DD 5E               [ 8]  949 	ld	e, (hl)
    000004DE 78               [ 4]  950 	ld	a, b
    000004DF D6 80            [ 8]  951 	sub	a, #0x80
    000004E1 7B               [ 4]  952 	ld	a, e
    000004E2 DE 01            [ 8]  953 	sbc	a, #0x01
    000004E4 30 0B            [12]  954 	jr	NC, 00109$
                                    955 ;src/large_map.c:248: camera_y++;
    000004E6 2B               [ 8]  956 	dec	hl
    000004E7 34               [12]  957 	inc	(hl)
    000004E8 20 02            [12]  958 	jr	NZ, 00199$
    000004EA 23               [ 8]  959 	inc	hl
    000004EB 34               [12]  960 	inc	(hl)
    000004EC                        961 00199$:
                                    962 ;src/large_map.c:249: redraw = TRUE;
    000004EC 21r0Dr00         [12]  963 	ld	hl, #_redraw
    000004EF 36 01            [12]  964 	ld	(hl), #0x01
    000004F1                        965 00109$:
                                    966 ;src/large_map.c:253: if (joy & J_LEFT) {
    000004F1 CB 49            [ 8]  967 	bit	1, c
    000004F3 28 16            [12]  968 	jr	Z, 00117$
                                    969 ;src/large_map.c:254: if (camera_x) {
    000004F5 21r02r00         [12]  970 	ld	hl, #_camera_x + 1
    000004F8 3A               [ 8]  971 	ld	a, (hl-)
    000004F9 B6               [ 8]  972 	or	a, (hl)
    000004FA 28 2E            [12]  973 	jr	Z, 00118$
                                    974 ;src/large_map.c:255: camera_x--;
    000004FC 2A               [ 8]  975 	ld	a, (hl+)
    000004FD 5F               [ 4]  976 	ld	e, a
    000004FE 3A               [ 8]  977 	ld	a, (hl-)
    000004FF 57               [ 4]  978 	ld	d, a
    00000500 1B               [ 8]  979 	dec	de
    00000501 7B               [ 4]  980 	ld	a, e
    00000502 22               [ 8]  981 	ld	(hl+), a
    00000503 72               [ 8]  982 	ld	(hl), d
                                    983 ;src/large_map.c:256: redraw = TRUE;
    00000504 21r0Dr00         [12]  984 	ld	hl, #_redraw
    00000507 36 01            [12]  985 	ld	(hl), #0x01
    00000509 18 1F            [12]  986 	jr	00118$
    0000050B                        987 00117$:
                                    988 ;src/large_map.c:258: } else if (joy & J_RIGHT) {
    0000050B CB 41            [ 8]  989 	bit	0, c
    0000050D 28 1B            [12]  990 	jr	Z, 00118$
                                    991 ;src/large_map.c:259: if (camera_x < camera_max_x) {
    0000050F FAr01r00         [16]  992 	ld	a, (_camera_x)
    00000512 4F               [ 4]  993 	ld	c, a
    00000513 21r02r00         [12]  994 	ld	hl, #_camera_x + 1
    00000516 46               [ 8]  995 	ld	b, (hl)
    00000517 79               [ 4]  996 	ld	a, c
    00000518 D6 40            [ 8]  997 	sub	a, #0x40
    0000051A 78               [ 4]  998 	ld	a, b
    0000051B DE 04            [ 8]  999 	sbc	a, #0x04
    0000051D 30 0B            [12] 1000 	jr	NC, 00118$
                                   1001 ;src/large_map.c:260: camera_x++;
    0000051F 2B               [ 8] 1002 	dec	hl
    00000520 34               [12] 1003 	inc	(hl)
    00000521 20 02            [12] 1004 	jr	NZ, 00202$
    00000523 23               [ 8] 1005 	inc	hl
    00000524 34               [12] 1006 	inc	(hl)
    00000525                       1007 00202$:
                                   1008 ;src/large_map.c:261: redraw = TRUE;
    00000525 21r0Dr00         [12] 1009 	ld	hl, #_redraw
    00000528 36 01            [12] 1010 	ld	(hl), #0x01
    0000052A                       1011 00118$:
                                   1012 ;src/large_map.c:264: if (redraw) {
    0000052A FAr0Dr00         [16] 1013 	ld	a, (#_redraw)
    0000052D B7               [ 4] 1014 	or	a, a
    0000052E 28 0D            [12] 1015 	jr	Z, 00120$
                                   1016 ;src/large_map.c:265: vsync();
    00000530 CDr00r00         [24] 1017 	call	_vsync
                                   1018 ;src/large_map.c:266: set_camera();
    00000533 CDr00r00         [24] 1019 	call	_set_camera
                                   1020 ;src/large_map.c:267: redraw = FALSE;
    00000536 AF               [ 4] 1021 	xor	a, a
    00000537 EAr0Dr00         [16] 1022 	ld	(#_redraw),a
    0000053A C3rB0r04         [16] 1023 	jp	00123$
    0000053D                       1024 00120$:
                                   1025 ;src/large_map.c:268: } else vsync();
    0000053D CDr00r00         [24] 1026 	call	_vsync
                                   1027 ;src/large_map.c:270: }
    00000540 C3rB0r04         [16] 1028 	jp	00123$
                                   1029 	.area _CODE
                                   1030 	.area _INITIALIZER
                                   1031 	.area _CABS (ABS)
