                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module libc_string
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _font_set
                                     12 	.globl _font_load
                                     13 	.globl _font_init
                                     14 	.globl _strncpy
                                     15 	.globl _strncmp
                                     16 	.globl _strncat
                                     17 	.globl _strlen
                                     18 	.globl _strcat
                                     19 	.globl _strcmp
                                     20 	.globl _strcpy
                                     21 	.globl _printf
                                     22 ;--------------------------------------------------------
                                     23 ; special function registers
                                     24 ;--------------------------------------------------------
                                     25 ;--------------------------------------------------------
                                     26 ; ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _DATA
                                     29 ;--------------------------------------------------------
                                     30 ; ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _INITIALIZED
                                     33 ;--------------------------------------------------------
                                     34 ; absolute external ram data
                                     35 ;--------------------------------------------------------
                                     36 	.area _DABS (ABS)
                                     37 ;--------------------------------------------------------
                                     38 ; global & static initialisations
                                     39 ;--------------------------------------------------------
                                     40 	.area _HOME
                                     41 	.area _GSINIT
                                     42 	.area _GSFINAL
                                     43 	.area _GSINIT
                                     44 ;--------------------------------------------------------
                                     45 ; Home
                                     46 ;--------------------------------------------------------
                                     47 	.area _HOME
                                     48 	.area _HOME
                                     49 ;--------------------------------------------------------
                                     50 ; code
                                     51 ;--------------------------------------------------------
                                     52 	.area _CODE
                                     53 ;src/libc_string.c:12: void main(void)
                                     54 ;	---------------------------------
                                     55 ; Function main
                                     56 ; ---------------------------------
    00000000                         57 _main::
    00000000 E8 EE            [16]   58 	add	sp, #-18
                                     59 ;src/libc_string.c:17: font_init();
    00000002 CDr00r00         [24]   60 	call	_font_init
                                     61 ;src/libc_string.c:18: ibm_font = font_load(font_ibm);
    00000005 11r00r00         [12]   62 	ld	de, #_font_ibm
    00000008 D5               [16]   63 	push	de
    00000009 CDr00r00         [24]   64 	call	_font_load
    0000000C E1               [12]   65 	pop	hl
                                     66 ;src/libc_string.c:19: font_set(ibm_font);
    0000000D D5               [16]   67 	push	de
    0000000E CDr00r00         [24]   68 	call	_font_set
    00000011 E1               [12]   69 	pop	hl
                                     70 ;src/libc_string.c:22: printf("strlen(gbdk) -> %d\n", strlen("gbdk"));
    00000012 11r38r01         [12]   71 	ld	de, #___str_6
    00000015 D5               [16]   72 	push	de
    00000016 CDr00r00         [24]   73 	call	_strlen
    00000019 E1               [12]   74 	pop	hl
    0000001A D5               [16]   75 	push	de
    0000001B 11r24r01         [12]   76 	ld	de, #___str_5
    0000001E D5               [16]   77 	push	de
    0000001F CDr00r00         [24]   78 	call	_printf
    00000022 E8 04            [16]   79 	add	sp, #4
                                     80 ;src/libc_string.c:24: printf("strcmp(gbdk,gbdk)\n-> %d\n", strcmp("gbdk", "gbdk"));
    00000024 11r38r01         [12]   81 	ld	de, #___str_6
    00000027 D5               [16]   82 	push	de
    00000028 D5               [16]   83 	push	de
    00000029 CDr00r00         [24]   84 	call	_strcmp
    0000002C E8 04            [16]   85 	add	sp, #4
    0000002E D5               [16]   86 	push	de
    0000002F 11r3Dr01         [12]   87 	ld	de, #___str_7
    00000032 D5               [16]   88 	push	de
    00000033 CDr00r00         [24]   89 	call	_printf
    00000036 E8 04            [16]   90 	add	sp, #4
                                     91 ;src/libc_string.c:25: printf("strcmp(gbdk,ggdk)\n-> %d\n", strcmp("gbdk", "ggdk"));
    00000038 01r6Fr01         [12]   92 	ld	bc, #___str_9+0
    0000003B C5               [16]   93 	push	bc
    0000003C 11r38r01         [12]   94 	ld	de, #___str_6
    0000003F D5               [16]   95 	push	de
    00000040 CDr00r00         [24]   96 	call	_strcmp
    00000043 E8 04            [16]   97 	add	sp, #4
    00000045 C5               [16]   98 	push	bc
    00000046 D5               [16]   99 	push	de
    00000047 11r56r01         [12]  100 	ld	de, #___str_8
    0000004A D5               [16]  101 	push	de
    0000004B CDr00r00         [24]  102 	call	_printf
    0000004E E8 04            [16]  103 	add	sp, #4
    00000050 C1               [12]  104 	pop	bc
                                    105 ;src/libc_string.c:26: printf("strcmp(ggdk,gbdk)\n-> %d\n", strcmp("ggdk", "gbdk"));
    00000051 11r38r01         [12]  106 	ld	de, #___str_6
    00000054 D5               [16]  107 	push	de
    00000055 C5               [16]  108 	push	bc
    00000056 CDr00r00         [24]  109 	call	_strcmp
    00000059 E8 04            [16]  110 	add	sp, #4
    0000005B D5               [16]  111 	push	de
    0000005C 11r74r01         [12]  112 	ld	de, #___str_10
    0000005F D5               [16]  113 	push	de
    00000060 CDr00r00         [24]  114 	call	_printf
    00000063 E8 04            [16]  115 	add	sp, #4
                                    116 ;src/libc_string.c:27: printf("strncmp(gbdk,gbc,2)\n-> %d\n", strncmp("gbdk", "gbc", 2));
    00000065 11 02 00         [12]  117 	ld	de, #0x0002
    00000068 D5               [16]  118 	push	de
    00000069 01rA8r01         [12]  119 	ld	bc, #___str_12
    0000006C 11r38r01         [12]  120 	ld	de, #___str_6
    0000006F CDr00r00         [24]  121 	call	_strncmp
    00000072 C5               [16]  122 	push	bc
    00000073 11r8Dr01         [12]  123 	ld	de, #___str_11
    00000076 D5               [16]  124 	push	de
    00000077 CDr00r00         [24]  125 	call	_printf
    0000007A E8 04            [16]  126 	add	sp, #4
                                    127 ;src/libc_string.c:30: char dst[4] = "dst";
    0000007C F8 0E            [12]  128 	ldhl	sp,	#14
    0000007E 4D               [ 4]  129 	ld	c, l
    0000007F 44               [ 4]  130 	ld	b, h
    00000080 36 64            [12]  131 	ld	(hl), #0x64
    00000082 F8 0F            [12]  132 	ldhl	sp,	#15
    00000084 3E 73            [ 8]  133 	ld	a, #0x73
    00000086 22               [ 8]  134 	ld	(hl+), a
    00000087 3E 74            [ 8]  135 	ld	a, #0x74
    00000089 22               [ 8]  136 	ld	(hl+), a
    0000008A 36 00            [12]  137 	ld	(hl), #0x00
                                    138 ;src/libc_string.c:31: const char* src = "src";
    0000008C 11r20r01         [12]  139 	ld	de, #___str_1
                                    140 ;src/libc_string.c:32: strcpy(dst, src);
    0000008F D5               [16]  141 	push	de
    00000090 C5               [16]  142 	push	bc
    00000091 CDr00r00         [24]  143 	call	_strcpy
    00000094 E8 04            [16]  144 	add	sp, #4
                                    145 ;src/libc_string.c:33: printf("strcpy(dst,src)\n-> %s\n", dst);
    00000096 C5               [16]  146 	push	bc
    00000097 11rACr01         [12]  147 	ld	de, #___str_13
    0000009A D5               [16]  148 	push	de
    0000009B CDr00r00         [24]  149 	call	_printf
    0000009E E8 04            [16]  150 	add	sp, #4
                                    151 ;src/libc_string.c:37: char dst[4] = "dst";
    000000A0 F8 0E            [12]  152 	ldhl	sp,	#14
    000000A2 4D               [ 4]  153 	ld	c, l
    000000A3 44               [ 4]  154 	ld	b, h
    000000A4 36 64            [12]  155 	ld	(hl), #0x64
    000000A6 F8 0F            [12]  156 	ldhl	sp,	#15
    000000A8 3E 73            [ 8]  157 	ld	a, #0x73
    000000AA 22               [ 8]  158 	ld	(hl+), a
    000000AB 3E 74            [ 8]  159 	ld	a, #0x74
    000000AD 22               [ 8]  160 	ld	(hl+), a
    000000AE 36 00            [12]  161 	ld	(hl), #0x00
                                    162 ;src/libc_string.c:39: strncpy(dst, src, 2);
    000000B0 59               [ 4]  163 	ld	e, c
    000000B1 50               [ 4]  164 	ld	d, b
    000000B2 D5               [16]  165 	push	de
    000000B3 01 02 00         [12]  166 	ld	bc, #0x0002
    000000B6 C5               [16]  167 	push	bc
    000000B7 01r20r01         [12]  168 	ld	bc, #___str_1
    000000BA CDr00r00         [24]  169 	call	_strncpy
                                    170 ;src/libc_string.c:40: printf("strncpy(dst,src,2)\n-> %s\n", dst);
    000000BD 11rC3r01         [12]  171 	ld	de, #___str_14
    000000C0 D5               [16]  172 	push	de
    000000C1 CDr00r00         [24]  173 	call	_printf
    000000C4 E8 04            [16]  174 	add	sp, #4
                                    175 ;src/libc_string.c:44: char dst[9] = "gbdk";
    000000C6 F8 00            [12]  176 	ldhl	sp,	#0
    000000C8 4D               [ 4]  177 	ld	c, l
    000000C9 44               [ 4]  178 	ld	b, h
    000000CA 36 67            [12]  179 	ld	(hl), #0x67
    000000CC F8 01            [12]  180 	ldhl	sp,	#1
    000000CE 3E 62            [ 8]  181 	ld	a, #0x62
    000000D0 22               [ 8]  182 	ld	(hl+), a
    000000D1 3E 64            [ 8]  183 	ld	a, #0x64
    000000D3 22               [ 8]  184 	ld	(hl+), a
    000000D4 3E 6B            [ 8]  185 	ld	a, #0x6b
    000000D6 22               [ 8]  186 	ld	(hl+), a
    000000D7 AF               [ 4]  187 	xor	a, a
    000000D8 22               [ 8]  188 	ld	(hl+), a
    000000D9 22               [ 8]  189 	ld	(hl+), a
    000000DA AF               [ 4]  190 	xor	a, a
    000000DB 22               [ 8]  191 	ld	(hl+), a
    000000DC 22               [ 8]  192 	ld	(hl+), a
                                    193 ;src/libc_string.c:45: char dst2[9] = "gbdk";
    000000DD AF               [ 4]  194 	xor	a, a
    000000DE 22               [ 8]  195 	ld	(hl+), a
    000000DF 3E 67            [ 8]  196 	ld	a, #0x67
    000000E1 22               [ 8]  197 	ld	(hl+), a
    000000E2 3E 62            [ 8]  198 	ld	a, #0x62
    000000E4 22               [ 8]  199 	ld	(hl+), a
    000000E5 3E 64            [ 8]  200 	ld	a, #0x64
    000000E7 22               [ 8]  201 	ld	(hl+), a
    000000E8 3E 6B            [ 8]  202 	ld	a, #0x6b
    000000EA 22               [ 8]  203 	ld	(hl+), a
    000000EB AF               [ 4]  204 	xor	a, a
    000000EC 22               [ 8]  205 	ld	(hl+), a
    000000ED 22               [ 8]  206 	ld	(hl+), a
    000000EE AF               [ 4]  207 	xor	a, a
    000000EF 22               [ 8]  208 	ld	(hl+), a
    000000F0 22               [ 8]  209 	ld	(hl+), a
    000000F1 36 00            [12]  210 	ld	(hl), #0x00
                                    211 ;src/libc_string.c:46: printf("strcat(gbdk,2020)\n-> %s\n", strcat(dst, "2020"));
    000000F3 59               [ 4]  212 	ld	e, c
    000000F4 50               [ 4]  213 	ld	d, b
    000000F5 01rF6r01         [12]  214 	ld	bc, #___str_16
    000000F8 CDr00r00         [24]  215 	call	_strcat
    000000FB C5               [16]  216 	push	bc
    000000FC 11rDDr01         [12]  217 	ld	de, #___str_15
    000000FF D5               [16]  218 	push	de
    00000100 CDr00r00         [24]  219 	call	_printf
    00000103 E8 04            [16]  220 	add	sp, #4
                                    221 ;src/libc_string.c:47: printf("strncat(gbdk,lib,2)\n-> %s\n", strncat(dst2, "lib",2));
    00000105 11 02 00         [12]  222 	ld	de, #0x0002
    00000108 D5               [16]  223 	push	de
    00000109 01r16r02         [12]  224 	ld	bc, #___str_18
    0000010C 21 0B 00         [12]  225 	ld	hl, #11
    0000010F 39               [ 8]  226 	add	hl, sp
    00000110 5D               [ 4]  227 	ld	e, l
    00000111 54               [ 4]  228 	ld	d, h
    00000112 CDr00r00         [24]  229 	call	_strncat
    00000115 C5               [16]  230 	push	bc
    00000116 11rFBr01         [12]  231 	ld	de, #___str_17
    00000119 D5               [16]  232 	push	de
    0000011A CDr00r00         [24]  233 	call	_printf
                                    234 ;src/libc_string.c:49: }
    0000011D E8 16            [16]  235 	add	sp, #22
    0000011F C9               [16]  236 	ret
    00000120                        237 ___str_1:
    00000120 73 72 63               238 	.ascii "src"
    00000123 00                     239 	.db 0x00
    00000124                        240 ___str_5:
    00000124 73 74 72 6C 65 6E 28   241 	.ascii "strlen(gbdk) -> %d"
             67 62 64 6B 29 20 2D
             3E 20 25 64
    00000136 0A                     242 	.db 0x0a
    00000137 00                     243 	.db 0x00
    00000138                        244 ___str_6:
    00000138 67 62 64 6B            245 	.ascii "gbdk"
    0000013C 00                     246 	.db 0x00
    0000013D                        247 ___str_7:
    0000013D 73 74 72 63 6D 70 28   248 	.ascii "strcmp(gbdk,gbdk)"
             67 62 64 6B 2C 67 62
             64 6B 29
    0000014E 0A                     249 	.db 0x0a
    0000014F 2D 3E 20 25 64         250 	.ascii "-> %d"
    00000154 0A                     251 	.db 0x0a
    00000155 00                     252 	.db 0x00
    00000156                        253 ___str_8:
    00000156 73 74 72 63 6D 70 28   254 	.ascii "strcmp(gbdk,ggdk)"
             67 62 64 6B 2C 67 67
             64 6B 29
    00000167 0A                     255 	.db 0x0a
    00000168 2D 3E 20 25 64         256 	.ascii "-> %d"
    0000016D 0A                     257 	.db 0x0a
    0000016E 00                     258 	.db 0x00
    0000016F                        259 ___str_9:
    0000016F 67 67 64 6B            260 	.ascii "ggdk"
    00000173 00                     261 	.db 0x00
    00000174                        262 ___str_10:
    00000174 73 74 72 63 6D 70 28   263 	.ascii "strcmp(ggdk,gbdk)"
             67 67 64 6B 2C 67 62
             64 6B 29
    00000185 0A                     264 	.db 0x0a
    00000186 2D 3E 20 25 64         265 	.ascii "-> %d"
    0000018B 0A                     266 	.db 0x0a
    0000018C 00                     267 	.db 0x00
    0000018D                        268 ___str_11:
    0000018D 73 74 72 6E 63 6D 70   269 	.ascii "strncmp(gbdk,gbc,2)"
             28 67 62 64 6B 2C 67
             62 63 2C 32 29
    000001A0 0A                     270 	.db 0x0a
    000001A1 2D 3E 20 25 64         271 	.ascii "-> %d"
    000001A6 0A                     272 	.db 0x0a
    000001A7 00                     273 	.db 0x00
    000001A8                        274 ___str_12:
    000001A8 67 62 63               275 	.ascii "gbc"
    000001AB 00                     276 	.db 0x00
    000001AC                        277 ___str_13:
    000001AC 73 74 72 63 70 79 28   278 	.ascii "strcpy(dst,src)"
             64 73 74 2C 73 72 63
             29
    000001BB 0A                     279 	.db 0x0a
    000001BC 2D 3E 20 25 73         280 	.ascii "-> %s"
    000001C1 0A                     281 	.db 0x0a
    000001C2 00                     282 	.db 0x00
    000001C3                        283 ___str_14:
    000001C3 73 74 72 6E 63 70 79   284 	.ascii "strncpy(dst,src,2)"
             28 64 73 74 2C 73 72
             63 2C 32 29
    000001D5 0A                     285 	.db 0x0a
    000001D6 2D 3E 20 25 73         286 	.ascii "-> %s"
    000001DB 0A                     287 	.db 0x0a
    000001DC 00                     288 	.db 0x00
    000001DD                        289 ___str_15:
    000001DD 73 74 72 63 61 74 28   290 	.ascii "strcat(gbdk,2020)"
             67 62 64 6B 2C 32 30
             32 30 29
    000001EE 0A                     291 	.db 0x0a
    000001EF 2D 3E 20 25 73         292 	.ascii "-> %s"
    000001F4 0A                     293 	.db 0x0a
    000001F5 00                     294 	.db 0x00
    000001F6                        295 ___str_16:
    000001F6 32 30 32 30            296 	.ascii "2020"
    000001FA 00                     297 	.db 0x00
    000001FB                        298 ___str_17:
    000001FB 73 74 72 6E 63 61 74   299 	.ascii "strncat(gbdk,lib,2)"
             28 67 62 64 6B 2C 6C
             69 62 2C 32 29
    0000020E 0A                     300 	.db 0x0a
    0000020F 2D 3E 20 25 73         301 	.ascii "-> %s"
    00000214 0A                     302 	.db 0x0a
    00000215 00                     303 	.db 0x00
    00000216                        304 ___str_18:
    00000216 6C 69 62               305 	.ascii "lib"
    00000219 00                     306 	.db 0x00
                                    307 	.area _CODE
                                    308 	.area _INITIALIZER
                                    309 	.area _CABS (ABS)
