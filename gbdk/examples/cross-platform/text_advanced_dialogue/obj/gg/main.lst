                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _ClearScreen
                                     12 	.globl _DrawTextAdvanced
                                     13 	.globl _vsyncMultiple
                                     14 	.globl _ResetLoadedCharacters
                                     15 	.globl _HideDialgoueBox
                                     16 	.globl _ShowDialgoueBox
                                     17 	.globl _ClearDialogueBox
                                     18 	.globl _WaitForAButton
                                     19 	.globl _BreakLineEarly
                                     20 	.globl _IsAlphaNumeric
                                     21 	.globl _GetTileForCharacter
                                     22 	.globl _MoveWindow
                                     23 	.globl _get_bkg_xy_addr
                                     24 	.globl _set_tile_xy
                                     25 	.globl _set_vram_byte
                                     26 	.globl _fill_rect_compat
                                     27 	.globl _set_tile_map_compat
                                     28 	.globl _set_native_tile_data
                                     29 	.globl _joypad
                                     30 	.globl _vsync
                                     31 	.globl _loadedCharacterCount
                                     32 	.globl _joypadPrevious
                                     33 	.globl _joypadCurrent
                                     34 	.globl _fontTilesStart
                                     35 	.globl _windowYPosition
                                     36 	.globl _loadedCharacters
                                     37 ;--------------------------------------------------------
                                     38 ; special function registers
                                     39 ;--------------------------------------------------------
                         00000000    40 _GG_STATE	=	0x0000
                         00000001    41 _GG_EXT_7BIT	=	0x0001
                         00000002    42 _GG_EXT_CTL	=	0x0002
                         00000003    43 _GG_SIO_SEND	=	0x0003
                         00000004    44 _GG_SIO_RECV	=	0x0004
                         00000005    45 _GG_SIO_CTL	=	0x0005
                         00000006    46 _GG_SOUND_PAN	=	0x0006
                         0000003E    47 _MEMORY_CTL	=	0x003e
                         0000003F    48 _JOY_CTL	=	0x003f
                         0000007E    49 _VCOUNTER	=	0x007e
                         0000007F    50 _PSG	=	0x007f
                         0000007F    51 _HCOUNTER	=	0x007f
                         000000BE    52 _VDP_DATA	=	0x00be
                         000000BF    53 _VDP_CMD	=	0x00bf
                         000000BF    54 _VDP_STATUS	=	0x00bf
                         000000DC    55 _JOY_PORT1	=	0x00dc
                         000000DD    56 _JOY_PORT2	=	0x00dd
                         000000F0    57 _FMADDRESS	=	0x00f0
                         000000F1    58 _FMDATA	=	0x00f1
                         000000F2    59 _AUDIOCTRL	=	0x00f2
                                     60 ;--------------------------------------------------------
                                     61 ; ram data
                                     62 ;--------------------------------------------------------
                                     63 	.area _DATA
                         0000FFFC    64 _RAM_CONTROL	=	0xfffc
                         0000FFF8    65 _GLASSES_3D	=	0xfff8
                         0000FFFD    66 _MAP_FRAME0	=	0xfffd
                         0000FFFE    67 _MAP_FRAME1	=	0xfffe
                         0000FFFF    68 _MAP_FRAME2	=	0xffff
    00000000                         69 _loadedCharacters::
    00000000                         70 	.ds 46
                                     71 ;--------------------------------------------------------
                                     72 ; ram data
                                     73 ;--------------------------------------------------------
                                     74 	.area _INITIALIZED
    00000000                         75 _windowYPosition::
    00000000                         76 	.ds 2
    00000002                         77 _fontTilesStart::
    00000002                         78 	.ds 1
    00000003                         79 _joypadCurrent::
    00000003                         80 	.ds 1
    00000004                         81 _joypadPrevious::
    00000004                         82 	.ds 1
    00000005                         83 _loadedCharacterCount::
    00000005                         84 	.ds 1
                                     85 ;--------------------------------------------------------
                                     86 ; absolute external ram data
                                     87 ;--------------------------------------------------------
                                     88 	.area _DABS (ABS)
                                     89 ;--------------------------------------------------------
                                     90 ; global & static initialisations
                                     91 ;--------------------------------------------------------
                                     92 	.area _HOME
                                     93 	.area _GSINIT
                                     94 	.area _GSFINAL
                                     95 	.area _GSINIT
                                     96 ;--------------------------------------------------------
                                     97 ; Home
                                     98 ;--------------------------------------------------------
                                     99 	.area _HOME
                                    100 	.area _HOME
                                    101 ;--------------------------------------------------------
                                    102 ; code
                                    103 ;--------------------------------------------------------
                                    104 	.area _CODE
                                    105 ;src/main.c:50: void MoveWindow(void){
                                    106 ;	---------------------------------
                                    107 ; Function MoveWindow
                                    108 ; ---------------------------------
    00000000                        109 _MoveWindow::
                                    110 ;src/main.c:57: }
    00000000 C9               [10]  111 	ret
                                    112 ;src/main.c:60: uint8_t GetTileForCharacter(char character) {
                                    113 ;	---------------------------------
                                    114 ; Function GetTileForCharacter
                                    115 ; ---------------------------------
    00000001                        116 _GetTileForCharacter::
    00000001 47               [ 4]  117 	ld	b, a
                                    118 ;src/main.c:62: uint8_t vramTile=0;
    00000002 0E 00            [ 7]  119 	ld	c, #0x00
                                    120 ;src/main.c:68: if      (character >= 'a' && character <= 'z') vramTile = (character - 'a') + 1;
    00000004 78               [ 4]  121 	ld	a, b
    00000005 EE 80            [ 7]  122 	xor	a, #0x80
    00000007 D6 E1            [ 7]  123 	sub	a, #0xe1
    00000009 38 11            [12]  124 	jr	C, 00120$
    0000000B 3E 7A            [ 7]  125 	ld	a, #0x7a
    0000000D 90               [ 4]  126 	sub	a, b
    0000000E E2r13r00         [10]  127 	jp	PO, 00230$
    00000011 EE 80            [ 7]  128 	xor	a, #0x80
    00000013                        129 00230$:
    00000013 FAr1Cr00         [10]  130 	jp	M, 00120$
    00000016 78               [ 4]  131 	ld	a, b
    00000017 C6 A0            [ 7]  132 	add	a, #0xa0
    00000019 4F               [ 4]  133 	ld	c, a
    0000001A 18 79            [12]  134 	jr	00121$
    0000001C                        135 00120$:
                                    136 ;src/main.c:69: else if (character >= 'A' && character <= 'Z') vramTile = (character - 'A') + 1;
    0000001C 78               [ 4]  137 	ld	a, b
    0000001D EE 80            [ 7]  138 	xor	a, #0x80
    0000001F D6 C1            [ 7]  139 	sub	a, #0xc1
    00000021 38 11            [12]  140 	jr	C, 00116$
    00000023 3E 5A            [ 7]  141 	ld	a, #0x5a
    00000025 90               [ 4]  142 	sub	a, b
    00000026 E2r2Br00         [10]  143 	jp	PO, 00231$
    00000029 EE 80            [ 7]  144 	xor	a, #0x80
    0000002B                        145 00231$:
    0000002B FAr34r00         [10]  146 	jp	M, 00116$
    0000002E 78               [ 4]  147 	ld	a, b
    0000002F C6 C0            [ 7]  148 	add	a, #0xc0
    00000031 4F               [ 4]  149 	ld	c, a
    00000032 18 61            [12]  150 	jr	00121$
    00000034                        151 00116$:
                                    152 ;src/main.c:70: else if (character >= '0' && character <= '9') vramTile = (character - '0') + 27;
    00000034 78               [ 4]  153 	ld	a, b
    00000035 EE 80            [ 7]  154 	xor	a, #0x80
    00000037 D6 B0            [ 7]  155 	sub	a, #0xb0
    00000039 38 11            [12]  156 	jr	C, 00112$
    0000003B 3E 39            [ 7]  157 	ld	a, #0x39
    0000003D 90               [ 4]  158 	sub	a, b
    0000003E E2r43r00         [10]  159 	jp	PO, 00232$
    00000041 EE 80            [ 7]  160 	xor	a, #0x80
    00000043                        161 00232$:
    00000043 FAr4Cr00         [10]  162 	jp	M, 00112$
    00000046 78               [ 4]  163 	ld	a, b
    00000047 C6 EB            [ 7]  164 	add	a, #0xeb
    00000049 4F               [ 4]  165 	ld	c, a
    0000004A 18 49            [12]  166 	jr	00121$
    0000004C                        167 00112$:
                                    168 ;src/main.c:72: switch(character) {
    0000004C 78               [ 4]  169 	ld	a,b
    0000004D FE 21            [ 7]  170 	cp	a,#0x21
    0000004F 28 22            [12]  171 	jr	Z, 00101$
    00000051 FE 2C            [ 7]  172 	cp	a,#0x2c
    00000053 28 32            [12]  173 	jr	Z, 00106$
    00000055 FE 2E            [ 7]  174 	cp	a,#0x2e
    00000057 28 32            [12]  175 	jr	Z, 00107$
    00000059 FE 2F            [ 7]  176 	cp	a,#0x2f
    0000005B 28 22            [12]  177 	jr	Z, 00104$
    0000005D FE 3A            [ 7]  178 	cp	a,#0x3a
    0000005F 28 16            [12]  179 	jr	Z, 00102$
    00000061 FE 3C            [ 7]  180 	cp	a,#0x3c
    00000063 28 2A            [12]  181 	jr	Z, 00108$
    00000065 FE 3D            [ 7]  182 	cp	a,#0x3d
    00000067 28 1A            [12]  183 	jr	Z, 00105$
    00000069 FE 3E            [ 7]  184 	cp	a,#0x3e
    0000006B 28 26            [12]  185 	jr	Z, 00109$
    0000006D D6 3F            [ 7]  186 	sub	a, #0x3f
    0000006F 28 0A            [12]  187 	jr	Z, 00103$
    00000071 18 22            [12]  188 	jr	00121$
                                    189 ;src/main.c:73: case '!': vramTile = 37; break;
    00000073                        190 00101$:
    00000073 0E 25            [ 7]  191 	ld	c, #0x25
    00000075 18 1E            [12]  192 	jr	00121$
                                    193 ;src/main.c:74: case ':': vramTile = 38; break;
    00000077                        194 00102$:
    00000077 0E 26            [ 7]  195 	ld	c, #0x26
    00000079 18 1A            [12]  196 	jr	00121$
                                    197 ;src/main.c:75: case '?': vramTile = 39; break;
    0000007B                        198 00103$:
    0000007B 0E 27            [ 7]  199 	ld	c, #0x27
    0000007D 18 16            [12]  200 	jr	00121$
                                    201 ;src/main.c:76: case '/': vramTile = 40; break;
    0000007F                        202 00104$:
    0000007F 0E 28            [ 7]  203 	ld	c, #0x28
    00000081 18 12            [12]  204 	jr	00121$
                                    205 ;src/main.c:77: case '=': vramTile = 41; break;
    00000083                        206 00105$:
    00000083 0E 29            [ 7]  207 	ld	c, #0x29
    00000085 18 0E            [12]  208 	jr	00121$
                                    209 ;src/main.c:78: case ',': vramTile = 42; break;
    00000087                        210 00106$:
    00000087 0E 2A            [ 7]  211 	ld	c, #0x2a
    00000089 18 0A            [12]  212 	jr	00121$
                                    213 ;src/main.c:79: case '.': vramTile = 43; break;
    0000008B                        214 00107$:
    0000008B 0E 2B            [ 7]  215 	ld	c, #0x2b
    0000008D 18 06            [12]  216 	jr	00121$
                                    217 ;src/main.c:80: case '<': vramTile = 44; break;
    0000008F                        218 00108$:
    0000008F 0E 2C            [ 7]  219 	ld	c, #0x2c
    00000091 18 02            [12]  220 	jr	00121$
                                    221 ;src/main.c:81: case '>': vramTile = 45; break;
    00000093                        222 00109$:
    00000093 0E 2D            [ 7]  223 	ld	c, #0x2d
                                    224 ;src/main.c:82: }
    00000095                        225 00121$:
                                    226 ;src/main.c:85: return vramTile;
    00000095 79               [ 4]  227 	ld	a, c
                                    228 ;src/main.c:87: }
    00000096 C9               [10]  229 	ret
                                    230 ;src/main.c:89: uint8_t IsAlphaNumeric(char character){
                                    231 ;	---------------------------------
                                    232 ; Function IsAlphaNumeric
                                    233 ; ---------------------------------
    00000097                        234 _IsAlphaNumeric::
                                    235 ;src/main.c:92: if(character>='a'&&character<='z')return TRUE;
    00000097 4F               [ 4]  236 	ld	c, a
    00000098 EE 80            [ 7]  237 	xor	a, #0x80
    0000009A D6 E1            [ 7]  238 	sub	a, #0xe1
    0000009C 38 0E            [12]  239 	jr	C, 00109$
    0000009E 3E 7A            [ 7]  240 	ld	a, #0x7a
    000000A0 91               [ 4]  241 	sub	a, c
    000000A1 E2rA6r00         [10]  242 	jp	PO, 00156$
    000000A4 EE 80            [ 7]  243 	xor	a, #0x80
    000000A6                        244 00156$:
    000000A6 FArACr00         [10]  245 	jp	M, 00109$
    000000A9 3E 01            [ 7]  246 	ld	a, #0x01
    000000AB C9               [10]  247 	ret
    000000AC                        248 00109$:
                                    249 ;src/main.c:93: else if(character>='A'&&character<='Z')return TRUE;
    000000AC 79               [ 4]  250 	ld	a, c
    000000AD EE 80            [ 7]  251 	xor	a, #0x80
    000000AF D6 C1            [ 7]  252 	sub	a, #0xc1
    000000B1 38 0E            [12]  253 	jr	C, 00105$
    000000B3 3E 5A            [ 7]  254 	ld	a, #0x5a
    000000B5 91               [ 4]  255 	sub	a, c
    000000B6 E2rBBr00         [10]  256 	jp	PO, 00157$
    000000B9 EE 80            [ 7]  257 	xor	a, #0x80
    000000BB                        258 00157$:
    000000BB FArC1r00         [10]  259 	jp	M, 00105$
    000000BE 3E 01            [ 7]  260 	ld	a, #0x01
    000000C0 C9               [10]  261 	ret
    000000C1                        262 00105$:
                                    263 ;src/main.c:94: else if(character>='0'&&character<='9')return TRUE;
    000000C1 79               [ 4]  264 	ld	a, c
    000000C2 EE 80            [ 7]  265 	xor	a, #0x80
    000000C4 D6 B0            [ 7]  266 	sub	a, #0xb0
    000000C6 38 0E            [12]  267 	jr	C, 00110$
    000000C8 3E 39            [ 7]  268 	ld	a, #0x39
    000000CA 91               [ 4]  269 	sub	a, c
    000000CB E2rD0r00         [10]  270 	jp	PO, 00158$
    000000CE EE 80            [ 7]  271 	xor	a, #0x80
    000000D0                        272 00158$:
    000000D0 FArD6r00         [10]  273 	jp	M, 00110$
    000000D3 3E 01            [ 7]  274 	ld	a, #0x01
    000000D5 C9               [10]  275 	ret
    000000D6                        276 00110$:
                                    277 ;src/main.c:96: return FALSE;
    000000D6 AF               [ 4]  278 	xor	a, a
                                    279 ;src/main.c:97: }
    000000D7 C9               [10]  280 	ret
                                    281 ;src/main.c:99: uint8_t BreakLineEarly(uint16_t index, uint8_t columnSize, char* text){
                                    282 ;	---------------------------------
                                    283 ; Function BreakLineEarly
                                    284 ; ---------------------------------
    000000D8                        285 _BreakLineEarly::
    000000D8 DD E5            [15]  286 	push	ix
    000000DA DD 21 00 00      [14]  287 	ld	ix,#0
    000000DE DD 39            [15]  288 	add	ix,sp
    000000E0 F5               [11]  289 	push	af
                                    290 ;src/main.c:101: char character = text[index++];
    000000E1 4D               [ 4]  291 	ld	c, l
    000000E2 44               [ 4]  292 	ld	b, h
    000000E3 23               [ 6]  293 	inc	hl
    000000E4 E3               [19]  294 	ex	(sp), hl
    000000E5 DD 6E 05         [19]  295 	ld	l, 5 (ix)
    000000E8 DD 66 06         [19]  296 	ld	h, 6 (ix)
    000000EB 09               [11]  297 	add	hl, bc
    000000EC 4E               [ 7]  298 	ld	c, (hl)
                                    299 ;src/main.c:104: if(columnSize>=INNER_DIALOGUE_BOX_WIDTH)return TRUE;
    000000ED DD 7E 04         [19]  300 	ld	a, 4 (ix)
    000000F0 D6 12            [ 7]  301 	sub	a, #0x12
    000000F2 38 04            [12]  302 	jr	C, 00102$
    000000F4 3E 01            [ 7]  303 	ld	a, #0x01
    000000F6 18 31            [12]  304 	jr	00110$
    000000F8                        305 00102$:
                                    306 ;src/main.c:107: if(IsAlphaNumeric(character))return FALSE;
    000000F8 79               [ 4]  307 	ld	a, c
    000000F9 CDr97r00         [17]  308 	call	_IsAlphaNumeric
    000000FC B7               [ 4]  309 	or	a, a
    000000FD 28 03            [12]  310 	jr	Z, 00104$
    000000FF AF               [ 4]  311 	xor	a, a
    00000100 18 27            [12]  312 	jr	00110$
    00000102                        313 00104$:
                                    314 ;src/main.c:111: uint8_t nextColumnSize=columnSize+1;
    00000102 DD 4E 04         [19]  315 	ld	c, 4 (ix)
    00000105 0C               [ 4]  316 	inc	c
                                    317 ;src/main.c:114: while((character=text[index++])!='\0'){
    00000106 D1               [10]  318 	pop	de
    00000107 D5               [11]  319 	push	de
    00000108                        320 00107$:
    00000108 DD 6E 05         [19]  321 	ld	l, 5 (ix)
    0000010B DD 66 06         [19]  322 	ld	h, 6 (ix)
    0000010E 19               [11]  323 	add	hl, de
    0000010F 13               [ 6]  324 	inc	de
    00000110 7E               [ 7]  325 	ld	a, (hl)
    00000111 47               [ 4]  326 	ld	b, a
    00000112 B7               [ 4]  327 	or	a, a
    00000113 28 0E            [12]  328 	jr	Z, 00109$
                                    329 ;src/main.c:117: if(!IsAlphaNumeric(character))break;
    00000115 C5               [11]  330 	push	bc
    00000116 D5               [11]  331 	push	de
    00000117 78               [ 4]  332 	ld	a, b
    00000118 CDr97r00         [17]  333 	call	_IsAlphaNumeric
    0000011B D1               [10]  334 	pop	de
    0000011C C1               [10]  335 	pop	bc
    0000011D B7               [ 4]  336 	or	a, a
    0000011E 28 03            [12]  337 	jr	Z, 00109$
                                    338 ;src/main.c:120: nextColumnSize++;
    00000120 0C               [ 4]  339 	inc	c
    00000121 18 E5            [12]  340 	jr	00107$
    00000123                        341 00109$:
                                    342 ;src/main.c:124: return nextColumnSize>INNER_DIALOGUE_BOX_WIDTH;
    00000123 3E 12            [ 7]  343 	ld	a, #0x12
    00000125 91               [ 4]  344 	sub	a, c
    00000126 3E 00            [ 7]  345 	ld	a, #0x00
    00000128 17               [ 4]  346 	rla
    00000129                        347 00110$:
                                    348 ;src/main.c:125: }   
    00000129 DD F9            [10]  349 	ld	sp, ix
    0000012B DD E1            [14]  350 	pop	ix
    0000012D E1               [10]  351 	pop	hl
    0000012E C1               [10]  352 	pop	bc
    0000012F 33               [ 6]  353 	inc	sp
    00000130 E9               [ 4]  354 	jp	(hl)
                                    355 ;src/main.c:128: void WaitForAButton(void){
                                    356 ;	---------------------------------
                                    357 ; Function WaitForAButton
                                    358 ; ---------------------------------
    00000131                        359 _WaitForAButton::
                                    360 ;src/main.c:129: while(TRUE){
    00000131                        361 00105$:
                                    362 ;src/main.c:131: joypadPrevious=joypadCurrent;
    00000131 3Ar03r00         [13]  363 	ld	a, (_joypadCurrent+0)
    00000134 32r04r00         [13]  364 	ld	(_joypadPrevious+0), a
                                    365 ;src/main.c:132: joypadCurrent = joypad();
    00000137 CDr00r00         [17]  366 	call	_joypad
    0000013A 7D               [ 4]  367 	ld	a, l
    0000013B 32r03r00         [13]  368 	ld	(_joypadCurrent+0), a
                                    369 ;src/main.c:134: if((joypadCurrent & J_A) && !(joypadPrevious & J_A))break;
    0000013E 3Ar03r00         [13]  370 	ld	a, (_joypadCurrent)
    00000141 CB 6F            [ 8]  371 	bit	5, a
    00000143 28 EC            [12]  372 	jr	Z, 00105$
    00000145 3Ar04r00         [13]  373 	ld	a, (_joypadPrevious)
    00000148 CB 6F            [ 8]  374 	bit	5, a
    0000014A 20 E5            [12]  375 	jr	NZ, 00105$
                                    376 ;src/main.c:137: }
    0000014C C9               [10]  377 	ret
                                    378 ;src/main.c:139: void ClearDialogueBox(void){
                                    379 ;	---------------------------------
                                    380 ; Function ClearDialogueBox
                                    381 ; ---------------------------------
    0000014D                        382 _ClearDialogueBox::
                                    383 ;src/main.c:142: fill_winbkg_rect(1,DIALOGUE_BOX_Y+1,DEVICE_SCREEN_WIDTH-2,DIALOG_BOX_HEIGHT-2,0);
    0000014D 21 00 00         [10]  384 	ld	hl, #0x0000
    00000150 E5               [11]  385 	push	hl
    00000151 21 12 05         [10]  386 	ld	hl, #0x512
    00000154 E5               [11]  387 	push	hl
    00000155 21 01 0C         [10]  388 	ld	hl, #0xc01
    00000158 E5               [11]  389 	push	hl
    00000159 CDr00r00         [17]  390 	call	_fill_rect_compat
                                    391 ;src/main.c:145: fill_winbkg_rect(1,DIALOGUE_BOX_Y,DEVICE_SCREEN_WIDTH-2,1,2);
    0000015C 21 02 00         [10]  392 	ld	hl, #0x0002
    0000015F E5               [11]  393 	push	hl
    00000160 21 12 01         [10]  394 	ld	hl, #0x112
    00000163 E5               [11]  395 	push	hl
    00000164 21 01 0B         [10]  396 	ld	hl, #0xb01
    00000167 E5               [11]  397 	push	hl
    00000168 CDr00r00         [17]  398 	call	_fill_rect_compat
                                    399 ;src/main.c:146: set_winbkg_tile_xy(DEVICE_SCREEN_WIDTH-1,DIALOGUE_BOX_Y+DIALOG_BOX_HEIGHT-1,6);
    0000016B 21 11 06         [10]  400 	ld	hl, #0x611
    0000016E E5               [11]  401 	push	hl
    0000016F 3E 13            [ 7]  402 	ld	a, #0x13
    00000171 F5               [11]  403 	push	af
    00000172 33               [ 6]  404 	inc	sp
    00000173 CDr00r00         [17]  405 	call	_set_tile_xy
                                    406 ;src/main.c:147: fill_winbkg_rect(1,DIALOGUE_BOX_Y+DIALOG_BOX_HEIGHT-1,DEVICE_SCREEN_WIDTH-2,1,2);
    00000176 21 02 00         [10]  407 	ld	hl, #0x0002
    00000179 E5               [11]  408 	push	hl
    0000017A 21 12 01         [10]  409 	ld	hl, #0x112
    0000017D E5               [11]  410 	push	hl
    0000017E 21 01 11         [10]  411 	ld	hl, #0x1101
    00000181 E5               [11]  412 	push	hl
    00000182 CDr00r00         [17]  413 	call	_fill_rect_compat
                                    414 ;src/main.c:150: fill_winbkg_rect(0,DIALOGUE_BOX_Y+1,1,DIALOG_BOX_HEIGHT-2,4);
    00000185 21 04 00         [10]  415 	ld	hl, #0x0004
    00000188 E5               [11]  416 	push	hl
    00000189 21 01 05         [10]  417 	ld	hl, #0x501
    0000018C E5               [11]  418 	push	hl
    0000018D 21 00 0C         [10]  419 	ld	hl, #0xc00
    00000190 E5               [11]  420 	push	hl
    00000191 CDr00r00         [17]  421 	call	_fill_rect_compat
                                    422 ;src/main.c:151: fill_winbkg_rect(DEVICE_SCREEN_WIDTH-1,DIALOGUE_BOX_Y+1,1,DIALOG_BOX_HEIGHT-2,4);
    00000194 21 04 00         [10]  423 	ld	hl, #0x0004
    00000197 E5               [11]  424 	push	hl
    00000198 21 01 05         [10]  425 	ld	hl, #0x501
    0000019B E5               [11]  426 	push	hl
    0000019C 21 13 0C         [10]  427 	ld	hl, #0xc13
    0000019F E5               [11]  428 	push	hl
    000001A0 CDr00r00         [17]  429 	call	_fill_rect_compat
                                    430 ;src/main.c:154: set_winbkg_tile_xy(0,DIALOGUE_BOX_Y,1);
    000001A3 21 0B 01         [10]  431 	ld	hl, #0x10b
    000001A6 E5               [11]  432 	push	hl
    000001A7 AF               [ 4]  433 	xor	a, a
    000001A8 F5               [11]  434 	push	af
    000001A9 33               [ 6]  435 	inc	sp
    000001AA CDr00r00         [17]  436 	call	_set_tile_xy
                                    437 ;src/main.c:155: set_winbkg_tile_xy(DEVICE_SCREEN_WIDTH-1,DIALOGUE_BOX_Y,3);
    000001AD 21 0B 03         [10]  438 	ld	hl, #0x30b
    000001B0 E5               [11]  439 	push	hl
    000001B1 3E 13            [ 7]  440 	ld	a, #0x13
    000001B3 F5               [11]  441 	push	af
    000001B4 33               [ 6]  442 	inc	sp
    000001B5 CDr00r00         [17]  443 	call	_set_tile_xy
                                    444 ;src/main.c:158: set_winbkg_tile_xy(0,DIALOGUE_BOX_Y+DIALOG_BOX_HEIGHT-1,5);
    000001B8 21 11 05         [10]  445 	ld	hl, #0x511
    000001BB E5               [11]  446 	push	hl
    000001BC AF               [ 4]  447 	xor	a, a
    000001BD F5               [11]  448 	push	af
    000001BE 33               [ 6]  449 	inc	sp
    000001BF CDr00r00         [17]  450 	call	_set_tile_xy
                                    451 ;src/main.c:159: set_winbkg_tile_xy(DEVICE_SCREEN_WIDTH-1,DIALOGUE_BOX_Y+DIALOG_BOX_HEIGHT-1,6);
    000001C2 21 11 06         [10]  452 	ld	hl, #0x611
    000001C5 E5               [11]  453 	push	hl
    000001C6 3E 13            [ 7]  454 	ld	a, #0x13
    000001C8 F5               [11]  455 	push	af
    000001C9 33               [ 6]  456 	inc	sp
    000001CA CDr00r00         [17]  457 	call	_set_tile_xy
                                    458 ;src/main.c:160: }
    000001CD C9               [10]  459 	ret
                                    460 ;src/main.c:162: void ShowDialgoueBox(void){
                                    461 ;	---------------------------------
                                    462 ; Function ShowDialgoueBox
                                    463 ; ---------------------------------
    000001CE                        464 _ShowDialgoueBox::
                                    465 ;src/main.c:164: ClearDialogueBox();
    000001CE CDr4Dr01         [17]  466 	call	_ClearDialogueBox
                                    467 ;src/main.c:168: while(windowYPosition>desiredWindowPosition){
    000001D1                        468 00101$:
    000001D1 3E 58            [ 7]  469 	ld	a, #0x58
    000001D3 FD 21r00r00      [14]  470 	ld	iy, #_windowYPosition
    000001D7 FD BE 00         [19]  471 	cp	a, 0 (iy)
    000001DA 3E 00            [ 7]  472 	ld	a, #0x00
    000001DC FD 9E 01         [19]  473 	sbc	a, 1 (iy)
    000001DF E2rE4r01         [10]  474 	jp	PO, 00120$
    000001E2 EE 80            [ 7]  475 	xor	a, #0x80
    000001E4                        476 00120$:
    000001E4 F0               [11]  477 	ret	P
                                    478 ;src/main.c:170: windowYPosition-=4;
    000001E5 2Ar00r00         [16]  479 	ld	hl, (_windowYPosition)
    000001E8 7D               [ 4]  480 	ld	a, l
    000001E9 C6 FC            [ 7]  481 	add	a, #0xfc
    000001EB 6F               [ 4]  482 	ld	l, a
    000001EC 7C               [ 4]  483 	ld	a, h
    000001ED CE FF            [ 7]  484 	adc	a, #0xff
    000001EF 67               [ 4]  485 	ld	h, a
    000001F0 22r00r00         [16]  486 	ld	(_windowYPosition), hl
                                    487 ;src/main.c:171: MoveWindow();
    000001F3 CDr00r00         [17]  488 	call	_MoveWindow
                                    489 ;src/main.c:172: vsync();
    000001F6 CDr00r00         [17]  490 	call	_vsync
                                    491 ;src/main.c:174: }
    000001F9 18 D6            [12]  492 	jr	00101$
                                    493 ;src/main.c:176: void HideDialgoueBox(void){
                                    494 ;	---------------------------------
                                    495 ; Function HideDialgoueBox
                                    496 ; ---------------------------------
    000001FB                        497 _HideDialgoueBox::
                                    498 ;src/main.c:180: while(windowYPosition<desiredWindowPosition){
    000001FB                        499 00101$:
    000001FB 3Ar00r00         [13]  500 	ld	a, (_windowYPosition+0)
    000001FE D6 90            [ 7]  501 	sub	a, #0x90
    00000200 3Ar01r00         [13]  502 	ld	a, (_windowYPosition+1)
    00000203 17               [ 4]  503 	rla
    00000204 3F               [ 4]  504 	ccf
    00000205 1F               [ 4]  505 	rra
    00000206 DE 80            [ 7]  506 	sbc	a, #0x80
    00000208 D0               [11]  507 	ret	NC
                                    508 ;src/main.c:182: windowYPosition+=4;
    00000209 2Ar00r00         [16]  509 	ld	hl, (_windowYPosition)
    0000020C 01 04 00         [10]  510 	ld	bc, #0x0004
    0000020F 09               [11]  511 	add	hl, bc
    00000210 22r00r00         [16]  512 	ld	(_windowYPosition), hl
                                    513 ;src/main.c:183: MoveWindow();
    00000213 CDr00r00         [17]  514 	call	_MoveWindow
                                    515 ;src/main.c:184: vsync();
    00000216 CDr00r00         [17]  516 	call	_vsync
                                    517 ;src/main.c:186: }
    00000219 18 E0            [12]  518 	jr	00101$
                                    519 ;src/main.c:188: void ResetLoadedCharacters(void){
                                    520 ;	---------------------------------
                                    521 ; Function ResetLoadedCharacters
                                    522 ; ---------------------------------
    0000021B                        523 _ResetLoadedCharacters::
                                    524 ;src/main.c:190: loadedCharacterCount=1;
    0000021B 21r05r00         [10]  525 	ld	hl, #_loadedCharacterCount
    0000021E 36 01            [10]  526 	ld	(hl), #0x01
                                    527 ;src/main.c:193: for(uint8_t i=0;i<45;i++)loadedCharacters[i]=255;
    00000220 0E 00            [ 7]  528 	ld	c, #0x00
    00000222                        529 00103$:
    00000222 79               [ 4]  530 	ld	a, c
    00000223 D6 2D            [ 7]  531 	sub	a, #0x2d
    00000225 D0               [11]  532 	ret	NC
    00000226 21r00r00         [10]  533 	ld	hl, #_loadedCharacters
    00000229 06 00            [ 7]  534 	ld	b, #0x00
    0000022B 09               [11]  535 	add	hl, bc
    0000022C 36 FF            [10]  536 	ld	(hl), #0xff
    0000022E 0C               [ 4]  537 	inc	c
                                    538 ;src/main.c:194: }
    0000022F 18 F1            [12]  539 	jr	00103$
                                    540 ;src/main.c:196: void vsyncMultiple(uint8_t count){
                                    541 ;	---------------------------------
                                    542 ; Function vsyncMultiple
                                    543 ; ---------------------------------
    00000231                        544 _vsyncMultiple::
    00000231 4F               [ 4]  545 	ld	c, a
                                    546 ;src/main.c:199: for(uint8_t i=0;i<count;i++){
    00000232 06 00            [ 7]  547 	ld	b, #0x00
    00000234                        548 00103$:
    00000234 78               [ 4]  549 	ld	a, b
    00000235 91               [ 4]  550 	sub	a, c
    00000236 D0               [11]  551 	ret	NC
                                    552 ;src/main.c:201: vsync();
    00000237 CDr00r00         [17]  553 	call	_vsync
                                    554 ;src/main.c:199: for(uint8_t i=0;i<count;i++){
    0000023A 04               [ 4]  555 	inc	b
                                    556 ;src/main.c:203: }
    0000023B 18 F7            [12]  557 	jr	00103$
                                    558 ;src/main.c:205: void DrawTextAdvanced(char* text){
                                    559 ;	---------------------------------
                                    560 ; Function DrawTextAdvanced
                                    561 ; ---------------------------------
    0000023D                        562 _DrawTextAdvanced::
    0000023D DD E5            [15]  563 	push	ix
    0000023F DD 21 00 00      [14]  564 	ld	ix,#0
    00000243 DD 39            [15]  565 	add	ix,sp
    00000245 FD 21 8A FF      [14]  566 	ld	iy, #-118
    00000249 FD 39            [15]  567 	add	iy, sp
    0000024B FD F9            [10]  568 	ld	sp, iy
    0000024D DD 75 F9         [19]  569 	ld	-7 (ix), l
    00000250 DD 74 FA         [19]  570 	ld	-6 (ix), h
                                    571 ;src/main.c:210: ShowDialgoueBox();
    00000253 CDrCEr01         [17]  572 	call	_ShowDialgoueBox
                                    573 ;src/main.c:212: ResetLoadedCharacters();
    00000256 CDr1Br02         [17]  574 	call	_ResetLoadedCharacters
                                    575 ;src/main.c:214: uint16_t index=0;
    00000259 AF               [ 4]  576 	xor	a, a
    0000025A DD 77 FB         [19]  577 	ld	-5 (ix), a
    0000025D DD 77 FC         [19]  578 	ld	-4 (ix), a
                                    579 ;src/main.c:215: uint8_t columnSize=0;
    00000260 DD 36 FF 00      [19]  580 	ld	-1 (ix), #0x00
                                    581 ;src/main.c:216: uint8_t rowCount=0;
    00000264 DD 36 8A 00      [19]  582 	ld	-118 (ix), #0x00
                                    583 ;src/main.c:221: uint8_t copyBufferCount=0;
    00000268 DD 36 FD 00      [19]  584 	ld	-3 (ix), #0x00
                                    585 ;src/main.c:224: for(uint8_t k=0;k<INNER_DIALOGUE_BOX_WIDTH;k++){
    0000026C 0E 00            [ 7]  586 	ld	c, #0x00
    0000026E                        587 00132$:
    0000026E 79               [ 4]  588 	ld	a, c
    0000026F D6 12            [ 7]  589 	sub	a, #0x12
    00000271 30 2B            [12]  590 	jr	NC, 00102$
                                    591 ;src/main.c:225: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT+1;t++){
    00000273 DD 36 FE 00      [19]  592 	ld	-2 (ix), #0x00
    00000277                        593 00129$:
    00000277 DD 7E FE         [19]  594 	ld	a, -2 (ix)
    0000027A D6 06            [ 7]  595 	sub	a, #0x06
    0000027C 30 1D            [12]  596 	jr	NC, 00133$
                                    597 ;src/main.c:226: copyBuffer[t][k]=0;
    0000027E DD 5E FE         [19]  598 	ld	e, -2 (ix)
    00000281 16 00            [ 7]  599 	ld	d, #0x00
    00000283 6B               [ 4]  600 	ld	l, e
    00000284 62               [ 4]  601 	ld	h, d
    00000285 29               [11]  602 	add	hl, hl
    00000286 29               [11]  603 	add	hl, hl
    00000287 29               [11]  604 	add	hl, hl
    00000288 19               [11]  605 	add	hl, de
    00000289 29               [11]  606 	add	hl, hl
    0000028A EB               [ 4]  607 	ex	de, hl
    0000028B 21 01 00         [10]  608 	ld	hl, #1
    0000028E 39               [11]  609 	add	hl, sp
    0000028F 19               [11]  610 	add	hl, de
    00000290 59               [ 4]  611 	ld	e, c
    00000291 16 00            [ 7]  612 	ld	d, #0x00
    00000293 19               [11]  613 	add	hl, de
    00000294 36 00            [10]  614 	ld	(hl), #0x00
                                    615 ;src/main.c:225: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT+1;t++){
    00000296 DD 34 FE         [23]  616 	inc	-2 (ix)
    00000299 18 DC            [12]  617 	jr	00129$
    0000029B                        618 00133$:
                                    619 ;src/main.c:224: for(uint8_t k=0;k<INNER_DIALOGUE_BOX_WIDTH;k++){
    0000029B 0C               [ 4]  620 	inc	c
    0000029C 18 D0            [12]  621 	jr	00132$
    0000029E                        622 00102$:
                                    623 ;src/main.c:232: uint8_t* vramAddress = get_winbkg_xy_addr(column,row);
    0000029E 21 01 0C         [10]  624 	ld	hl, #0xc01
    000002A1 E5               [11]  625 	push	hl
    000002A2 CDr00r00         [17]  626 	call	_get_bkg_xy_addr
    000002A5 DD 75 F7         [19]  627 	ld	-9 (ix), l
    000002A8 DD 74 F8         [19]  628 	ld	-8 (ix), h
                                    629 ;src/main.c:236: while((c=text[index])!='\0'){
    000002AB                        630 00125$:
    000002AB DD 7E F9         [19]  631 	ld	a, -7 (ix)
    000002AE DD 86 FB         [19]  632 	add	a, -5 (ix)
    000002B1 4F               [ 4]  633 	ld	c, a
    000002B2 DD 7E FA         [19]  634 	ld	a, -6 (ix)
    000002B5 DD 8E FC         [19]  635 	adc	a, -4 (ix)
    000002B8 69               [ 4]  636 	ld	l, c
    000002B9 67               [ 4]  637 	ld	h, a
    000002BA 4E               [ 7]  638 	ld	c, (hl)
    000002BB DD 71 FE         [19]  639 	ld	-2 (ix), c
    000002BE 79               [ 4]  640 	ld	a, c
    000002BF B7               [ 4]  641 	or	a, a
    000002C0 CArC1r04         [10]  642 	jp	Z, 00127$
                                    643 ;src/main.c:238: uint8_t vramTile = GetTileForCharacter(c);
    000002C3 DD 7E FE         [19]  644 	ld	a, -2 (ix)
    000002C6 CDr01r00         [17]  645 	call	_GetTileForCharacter
                                    646 ;src/main.c:241: if(loadedCharacters[vramTile]==255){
    000002C9 5F               [ 4]  647 	ld	e, a
    000002CA C6r00            [ 7]  648 	add	a,#<(_loadedCharacters)
    000002CC 4F               [ 4]  649 	ld	c, a
    000002CD 3Es00            [ 7]  650 	ld	a, #>(_loadedCharacters)
    000002CF CE 00            [ 7]  651 	adc	a, #0x00
    000002D1 47               [ 4]  652 	ld	b, a
    000002D2 0A               [ 7]  653 	ld	a, (bc)
    000002D3 3C               [ 4]  654 	inc	a
    000002D4 20 2B            [12]  655 	jr	NZ, 00104$
                                    656 ;src/main.c:244: loadedCharacters[vramTile]=fontTilesStart+loadedCharacterCount++;
    000002D6 3Ar05r00         [13]  657 	ld	a, (_loadedCharacterCount)
    000002D9 57               [ 4]  658 	ld	d, a
    000002DA 21r05r00         [10]  659 	ld	hl, #_loadedCharacterCount
    000002DD 34               [11]  660 	inc	(hl)
    000002DE 21r02r00         [10]  661 	ld	hl, #_fontTilesStart
    000002E1 7A               [ 4]  662 	ld	a, d
    000002E2 86               [ 7]  663 	add	a, (hl)
    000002E3 6F               [ 4]  664 	ld	l, a
    000002E4 02               [ 7]  665 	ld	(bc), a
                                    666 ;src/main.c:247: set_native_tile_data(loadedCharacters[vramTile],1,Font_tiles+vramTile*TILE_SIZE_BYTES);
    000002E5 16 00            [ 7]  667 	ld	d, #0x00
    000002E7 EB               [ 4]  668 	ex	de, hl
    000002E8 29               [11]  669 	add	hl, hl
    000002E9 29               [11]  670 	add	hl, hl
    000002EA 29               [11]  671 	add	hl, hl
    000002EB 29               [11]  672 	add	hl, hl
    000002EC 29               [11]  673 	add	hl, hl
    000002ED EB               [ 4]  674 	ex	de, hl
    000002EE 7B               [ 4]  675 	ld	a, e
    000002EF C6r00            [ 7]  676 	add	a, #<(_Font_tiles)
    000002F1 5F               [ 4]  677 	ld	e, a
    000002F2 7A               [ 4]  678 	ld	a, d
    000002F3 CEs00            [ 7]  679 	adc	a, #>(_Font_tiles)
    000002F5 57               [ 4]  680 	ld	d, a
    000002F6 26 00            [ 7]  681 	ld	h, #0x00
    000002F8 C5               [11]  682 	push	bc
    000002F9 D5               [11]  683 	push	de
    000002FA 11 01 00         [10]  684 	ld	de, #0x0001
    000002FD CDr00r00         [17]  685 	call	_set_native_tile_data
    00000300 C1               [10]  686 	pop	bc
    00000301                        687 00104$:
                                    688 ;src/main.c:253: set_vram_byte(vramAddress++,loadedCharacters[vramTile]);
    00000301 0A               [ 7]  689 	ld	a, (bc)
    00000302 DD 5E F7         [19]  690 	ld	e, -9 (ix)
    00000305 DD 56 F8         [19]  691 	ld	d, -8 (ix)
    00000308 DD 6E F7         [19]  692 	ld	l, -9 (ix)
    0000030B DD 66 F8         [19]  693 	ld	h, -8 (ix)
    0000030E 23               [ 6]  694 	inc	hl
    0000030F E5               [11]  695 	push	hl
    00000310 C5               [11]  696 	push	bc
    00000311 F5               [11]  697 	push	af
    00000312 33               [ 6]  698 	inc	sp
    00000313 D5               [11]  699 	push	de
    00000314 CDr00r00         [17]  700 	call	_set_vram_byte
    00000317 C1               [10]  701 	pop	bc
    00000318 E1               [10]  702 	pop	hl
                                    703 ;src/main.c:256: set_vram_byte(vramAddress++,0);
    00000319 5D               [ 4]  704 	ld	e, l
    0000031A 54               [ 4]  705 	ld	d, h
    0000031B 23               [ 6]  706 	inc	hl
    0000031C DD 75 F7         [19]  707 	ld	-9 (ix), l
    0000031F DD 74 F8         [19]  708 	ld	-8 (ix), h
    00000322 C5               [11]  709 	push	bc
    00000323 AF               [ 4]  710 	xor	a, a
    00000324 F5               [11]  711 	push	af
    00000325 33               [ 6]  712 	inc	sp
    00000326 D5               [11]  713 	push	de
    00000327 CDr00r00         [17]  714 	call	_set_vram_byte
    0000032A C1               [10]  715 	pop	bc
                                    716 ;src/main.c:261: if(rowCount<DIALOG_BOX_INNER_HEIGHT)copyBuffer[rowCount][copyBufferCount++] = loadedCharacters[vramTile];
    0000032B DD 5E 8A         [19]  717 	ld	e, -118 (ix)
    0000032E 16 00            [ 7]  718 	ld	d, #0x00
    00000330 6B               [ 4]  719 	ld	l, e
    00000331 62               [ 4]  720 	ld	h, d
    00000332 29               [11]  721 	add	hl, hl
    00000333 29               [11]  722 	add	hl, hl
    00000334 29               [11]  723 	add	hl, hl
    00000335 19               [11]  724 	add	hl, de
    00000336 29               [11]  725 	add	hl, hl
    00000337 EB               [ 4]  726 	ex	de, hl
    00000338 D5               [11]  727 	push	de
    00000339 21 03 00         [10]  728 	ld	hl, #3
    0000033C 39               [11]  729 	add	hl, sp
    0000033D 19               [11]  730 	add	hl, de
    0000033E D1               [10]  731 	pop	de
    0000033F EB               [ 4]  732 	ex	de, hl
    00000340 DD 7E FD         [19]  733 	ld	a, -3 (ix)
    00000343 DD 34 FD         [23]  734 	inc	-3 (ix)
    00000346 6F               [ 4]  735 	ld	l, a
    00000347 26 00            [ 7]  736 	ld	h, #0x00
    00000349 19               [11]  737 	add	hl, de
    0000034A 0A               [ 7]  738 	ld	a, (bc)
    0000034B 77               [ 7]  739 	ld	(hl), a
                                    740 ;src/main.c:263: index++;
    0000034C DD 34 FB         [23]  741 	inc	-5 (ix)
    0000034F 20 03            [12]  742 	jr	NZ, 00344$
    00000351 DD 34 FC         [23]  743 	inc	-4 (ix)
    00000354                        744 00344$:
                                    745 ;src/main.c:264: columnSize++;
    00000354 DD 34 FF         [23]  746 	inc	-1 (ix)
                                    747 ;src/main.c:267: if(BreakLineEarly(index,columnSize,text) || c=='.'){
    00000357 DD 6E F9         [19]  748 	ld	l, -7 (ix)
    0000035A DD 66 FA         [19]  749 	ld	h, -6 (ix)
    0000035D E5               [11]  750 	push	hl
    0000035E DD 7E FF         [19]  751 	ld	a, -1 (ix)
    00000361 F5               [11]  752 	push	af
    00000362 33               [ 6]  753 	inc	sp
    00000363 DD 6E FB         [19]  754 	ld	l, -5 (ix)
    00000366 DD 66 FC         [19]  755 	ld	h, -4 (ix)
    00000369 CDrD8r00         [17]  756 	call	_BreakLineEarly
    0000036C 47               [ 4]  757 	ld	b, a
    0000036D DD 7E FE         [19]  758 	ld	a, -2 (ix)
    00000370 D6 2E            [ 7]  759 	sub	a, #0x2e
    00000372 3E 01            [ 7]  760 	ld	a, #0x01
    00000374 28 01            [12]  761 	jr	Z, 00346$
    00000376 AF               [ 4]  762 	xor	a, a
    00000377                        763 00346$:
    00000377 4F               [ 4]  764 	ld	c, a
    00000378 78               [ 4]  765 	ld	a, b
    00000379 B7               [ 4]  766 	or	a, a
    0000037A 20 04            [12]  767 	jr	NZ, 00122$
    0000037C B1               [ 4]  768 	or	a, c
    0000037D CArB9r04         [10]  769 	jp	Z, 00123$
    00000380                        770 00122$:
                                    771 ;src/main.c:269: rowCount+=LINE_SKIP;
    00000380 DD 7E 8A         [19]  772 	ld	a, -118 (ix)
    00000383 C6 02            [ 7]  773 	add	a, #0x02
    00000385 DD 77 8A         [19]  774 	ld	-118 (ix), a
                                    775 ;src/main.c:272: copyBufferCount=0;
    00000388 DD 36 FD 00      [19]  776 	ld	-3 (ix), #0x00
                                    777 ;src/main.c:276: if(c=='.'||c=='?'){
    0000038C 79               [ 4]  778 	ld	a, c
    0000038D B7               [ 4]  779 	or	a, a
    0000038E 20 07            [12]  780 	jr	NZ, 00115$
    00000390 DD 7E FE         [19]  781 	ld	a, -2 (ix)
    00000393 D6 3F            [ 7]  782 	sub	a, #0x3f
    00000395 20 3D            [12]  783 	jr	NZ, 00116$
    00000397                        784 00115$:
                                    785 ;src/main.c:277: WaitForAButton();
    00000397 CDr31r01         [17]  786 	call	_WaitForAButton
                                    787 ;src/main.c:278: ClearDialogueBox();
    0000039A CDr4Dr01         [17]  788 	call	_ClearDialogueBox
                                    789 ;src/main.c:279: rowCount=0;
    0000039D DD 36 8A 00      [19]  790 	ld	-118 (ix), #0x00
                                    791 ;src/main.c:282: for(uint8_t k=0;k<INNER_DIALOGUE_BOX_WIDTH;k++){
    000003A1 0E 00            [ 7]  792 	ld	c, #0x00
    000003A3                        793 00138$:
    000003A3 79               [ 4]  794 	ld	a, c
    000003A4 D6 12            [ 7]  795 	sub	a, #0x12
    000003A6 D2r88r04         [10]  796 	jp	NC, 00117$
                                    797 ;src/main.c:283: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT+1;t++){
    000003A9 DD 36 FF 00      [19]  798 	ld	-1 (ix), #0x00
    000003AD                        799 00135$:
    000003AD DD 7E FF         [19]  800 	ld	a, -1 (ix)
    000003B0 D6 06            [ 7]  801 	sub	a, #0x06
    000003B2 30 1D            [12]  802 	jr	NC, 00139$
                                    803 ;src/main.c:284: copyBuffer[t][k]=0;
    000003B4 DD 5E FF         [19]  804 	ld	e, -1 (ix)
    000003B7 16 00            [ 7]  805 	ld	d, #0x00
    000003B9 6B               [ 4]  806 	ld	l, e
    000003BA 62               [ 4]  807 	ld	h, d
    000003BB 29               [11]  808 	add	hl, hl
    000003BC 29               [11]  809 	add	hl, hl
    000003BD 29               [11]  810 	add	hl, hl
    000003BE 19               [11]  811 	add	hl, de
    000003BF 29               [11]  812 	add	hl, hl
    000003C0 EB               [ 4]  813 	ex	de, hl
    000003C1 21 01 00         [10]  814 	ld	hl, #1
    000003C4 39               [11]  815 	add	hl, sp
    000003C5 19               [11]  816 	add	hl, de
    000003C6 59               [ 4]  817 	ld	e, c
    000003C7 16 00            [ 7]  818 	ld	d, #0x00
    000003C9 19               [11]  819 	add	hl, de
    000003CA 36 00            [10]  820 	ld	(hl), #0x00
                                    821 ;src/main.c:283: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT+1;t++){
    000003CC DD 34 FF         [23]  822 	inc	-1 (ix)
    000003CF 18 DC            [12]  823 	jr	00135$
    000003D1                        824 00139$:
                                    825 ;src/main.c:282: for(uint8_t k=0;k<INNER_DIALOGUE_BOX_WIDTH;k++){
    000003D1 0C               [ 4]  826 	inc	c
    000003D2 18 CF            [12]  827 	jr	00138$
    000003D4                        828 00116$:
                                    829 ;src/main.c:291: else if( rowCount>=DIALOG_BOX_INNER_HEIGHT){
    000003D4 DD 7E 8A         [19]  830 	ld	a, -118 (ix)
    000003D7 D6 05            [ 7]  831 	sub	a, #0x05
    000003D9 DAr88r04         [10]  832 	jp	C, 00117$
                                    833 ;src/main.c:294: uint8_t shiftCount = rowCount-LINE_SKIP;
    000003DC DD 7E 8A         [19]  834 	ld	a, -118 (ix)
    000003DF C6 FE            [ 7]  835 	add	a, #0xfe
    000003E1 DD 77 F7         [19]  836 	ld	-9 (ix), a
                                    837 ;src/main.c:296: for(uint8_t k=0;k<shiftCount;k++){
    000003E4 DD 36 FE 00      [19]  838 	ld	-2 (ix), #0x00
    000003E8                        839 00144$:
    000003E8 DD 7E FE         [19]  840 	ld	a, -2 (ix)
    000003EB DD 96 F7         [19]  841 	sub	a, -9 (ix)
    000003EE 30 6A            [12]  842 	jr	NC, 00110$
                                    843 ;src/main.c:298: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT;t++){
    000003F0 DD 36 FF 00      [19]  844 	ld	-1 (ix), #0x00
    000003F4                        845 00141$:
    000003F4 DD 7E FF         [19]  846 	ld	a, -1 (ix)
    000003F7 D6 05            [ 7]  847 	sub	a, #0x05
    000003F9 30 55            [12]  848 	jr	NC, 00109$
                                    849 ;src/main.c:300: uint8_t copyBufferIndex = MIN(1+t+k,DIALOG_BOX_INNER_HEIGHT);
    000003FB DD 4E FF         [19]  850 	ld	c, -1 (ix)
    000003FE 06 00            [ 7]  851 	ld	b, #0x00
    00000400 03               [ 6]  852 	inc	bc
    00000401 DD 6E FE         [19]  853 	ld	l, -2 (ix)
    00000404 26 00            [ 7]  854 	ld	h, #0x00
    00000406 09               [11]  855 	add	hl, bc
    00000407 4D               [ 4]  856 	ld	c, l
    00000408 DD 7E FF         [19]  857 	ld	a, -1 (ix)
    0000040B DD 77 F8         [19]  858 	ld	-8 (ix), a
    0000040E 79               [ 4]  859 	ld	a, c
    0000040F D6 05            [ 7]  860 	sub	a, #0x05
    00000411 7C               [ 4]  861 	ld	a, h
    00000412 17               [ 4]  862 	rla
    00000413 3F               [ 4]  863 	ccf
    00000414 1F               [ 4]  864 	rra
    00000415 DE 80            [ 7]  865 	sbc	a, #0x80
    00000417 30 0B            [12]  866 	jr	NC, 00154$
    00000419 DD 7E F8         [19]  867 	ld	a, -8 (ix)
    0000041C 3C               [ 4]  868 	inc	a
    0000041D DD 4E FE         [19]  869 	ld	c, -2 (ix)
    00000420 81               [ 4]  870 	add	a, c
    00000421 4F               [ 4]  871 	ld	c, a
    00000422 18 02            [12]  872 	jr	00155$
    00000424                        873 00154$:
    00000424 0E 05            [ 7]  874 	ld	c, #0x05
    00000426                        875 00155$:
                                    876 ;src/main.c:302: set_text_tiles(1,DIALOGUE_BOX_Y+1+t,INNER_DIALOGUE_BOX_WIDTH,1,copyBuffer[copyBufferIndex]);
    00000426 06 00            [ 7]  877 	ld	b, #0x00
    00000428 69               [ 4]  878 	ld	l, c
    00000429 60               [ 4]  879 	ld	h, b
    0000042A 29               [11]  880 	add	hl, hl
    0000042B 29               [11]  881 	add	hl, hl
    0000042C 29               [11]  882 	add	hl, hl
    0000042D 09               [11]  883 	add	hl, bc
    0000042E 29               [11]  884 	add	hl, hl
    0000042F EB               [ 4]  885 	ex	de, hl
    00000430 21 01 00         [10]  886 	ld	hl, #1
    00000433 39               [11]  887 	add	hl, sp
    00000434 19               [11]  888 	add	hl, de
    00000435 EB               [ 4]  889 	ex	de, hl
    00000436 DD 7E F8         [19]  890 	ld	a, -8 (ix)
    00000439 C6 0C            [ 7]  891 	add	a, #0x0c
    0000043B D5               [11]  892 	push	de
    0000043C 26 01            [ 7]  893 	ld	h, #0x01
    0000043E E5               [11]  894 	push	hl
    0000043F 33               [ 6]  895 	inc	sp
    00000440 26 12            [ 7]  896 	ld	h, #0x12
    00000442 E5               [11]  897 	push	hl
    00000443 33               [ 6]  898 	inc	sp
    00000444 67               [ 4]  899 	ld	h, a
    00000445 2E 01            [ 7]  900 	ld	l, #0x01
    00000447 E5               [11]  901 	push	hl
    00000448 CDr00r00         [17]  902 	call	_set_tile_map_compat
                                    903 ;src/main.c:298: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT;t++){
    0000044B DD 34 FF         [23]  904 	inc	-1 (ix)
    0000044E 18 A4            [12]  905 	jr	00141$
    00000450                        906 00109$:
                                    907 ;src/main.c:306: vsyncMultiple(LINE_SKIP_DELAY);
    00000450 3E 07            [ 7]  908 	ld	a, #0x07
    00000452 CDr31r02         [17]  909 	call	_vsyncMultiple
                                    910 ;src/main.c:296: for(uint8_t k=0;k<shiftCount;k++){
    00000455 DD 34 FE         [23]  911 	inc	-2 (ix)
    00000458 18 8E            [12]  912 	jr	00144$
    0000045A                        913 00110$:
                                    914 ;src/main.c:310: for(uint8_t k=0;k<INNER_DIALOGUE_BOX_WIDTH;k++){
    0000045A 0E 00            [ 7]  915 	ld	c, #0x00
    0000045C                        916 00150$:
    0000045C 79               [ 4]  917 	ld	a, c
    0000045D D6 12            [ 7]  918 	sub	a, #0x12
    0000045F 30 23            [12]  919 	jr	NC, 00112$
                                    920 ;src/main.c:311: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT;t++){
    00000461 06 00            [ 7]  921 	ld	b, #0x00
    00000463                        922 00147$:
    00000463 78               [ 4]  923 	ld	a, b
    00000464 D6 05            [ 7]  924 	sub	a, #0x05
    00000466 30 19            [12]  925 	jr	NC, 00151$
                                    926 ;src/main.c:312: copyBuffer[t][k]=0;
    00000468 58               [ 4]  927 	ld	e, b
    00000469 16 00            [ 7]  928 	ld	d, #0x00
    0000046B 6B               [ 4]  929 	ld	l, e
    0000046C 62               [ 4]  930 	ld	h, d
    0000046D 29               [11]  931 	add	hl, hl
    0000046E 29               [11]  932 	add	hl, hl
    0000046F 29               [11]  933 	add	hl, hl
    00000470 19               [11]  934 	add	hl, de
    00000471 29               [11]  935 	add	hl, hl
    00000472 EB               [ 4]  936 	ex	de, hl
    00000473 21 01 00         [10]  937 	ld	hl, #1
    00000476 39               [11]  938 	add	hl, sp
    00000477 19               [11]  939 	add	hl, de
    00000478 59               [ 4]  940 	ld	e, c
    00000479 16 00            [ 7]  941 	ld	d, #0x00
    0000047B 19               [11]  942 	add	hl, de
    0000047C 36 00            [10]  943 	ld	(hl), #0x00
                                    944 ;src/main.c:311: for(uint8_t t=0;t<DIALOG_BOX_INNER_HEIGHT;t++){
    0000047E 04               [ 4]  945 	inc	b
    0000047F 18 E2            [12]  946 	jr	00147$
    00000481                        947 00151$:
                                    948 ;src/main.c:310: for(uint8_t k=0;k<INNER_DIALOGUE_BOX_WIDTH;k++){
    00000481 0C               [ 4]  949 	inc	c
    00000482 18 D8            [12]  950 	jr	00150$
    00000484                        951 00112$:
                                    952 ;src/main.c:317: rowCount=LINE_SKIP;
    00000484 DD 36 8A 02      [19]  953 	ld	-118 (ix), #0x02
    00000488                        954 00117$:
                                    955 ;src/main.c:322: vramAddress = get_winbkg_xy_addr(column,row+rowCount);
    00000488 DD 7E 8A         [19]  956 	ld	a, -118 (ix)
    0000048B C6 0C            [ 7]  957 	add	a, #0x0c
    0000048D 67               [ 4]  958 	ld	h, a
    0000048E 2E 01            [ 7]  959 	ld	l, #0x01
    00000490 E5               [11]  960 	push	hl
    00000491 CDr00r00         [17]  961 	call	_get_bkg_xy_addr
    00000494 DD 75 F7         [19]  962 	ld	-9 (ix), l
    00000497 DD 74 F8         [19]  963 	ld	-8 (ix), h
                                    964 ;src/main.c:324: columnSize=0;
    0000049A DD 36 FF 00      [19]  965 	ld	-1 (ix), #0x00
                                    966 ;src/main.c:327: while(text[index]==' '){
    0000049E DD 5E FB         [19]  967 	ld	e, -5 (ix)
    000004A1 DD 56 FC         [19]  968 	ld	d, -4 (ix)
    000004A4                        969 00119$:
    000004A4 DD 6E F9         [19]  970 	ld	l, -7 (ix)
    000004A7 DD 66 FA         [19]  971 	ld	h, -6 (ix)
    000004AA 19               [11]  972 	add	hl, de
    000004AB 7E               [ 7]  973 	ld	a, (hl)
    000004AC D6 20            [ 7]  974 	sub	a, #0x20
    000004AE 20 03            [12]  975 	jr	NZ, 00186$
                                    976 ;src/main.c:328: index++;
    000004B0 13               [ 6]  977 	inc	de
    000004B1 18 F1            [12]  978 	jr	00119$
    000004B3                        979 00186$:
    000004B3 DD 73 FB         [19]  980 	ld	-5 (ix), e
    000004B6 DD 72 FC         [19]  981 	ld	-4 (ix), d
    000004B9                        982 00123$:
                                    983 ;src/main.c:332: vsyncMultiple(TYPEWRITER_DELAY);
    000004B9 3E 02            [ 7]  984 	ld	a, #0x02
    000004BB CDr31r02         [17]  985 	call	_vsyncMultiple
    000004BE C3rABr02         [10]  986 	jp	00125$
    000004C1                        987 00127$:
                                    988 ;src/main.c:335: HideDialgoueBox();
    000004C1 CDrFBr01         [17]  989 	call	_HideDialgoueBox
                                    990 ;src/main.c:337: }
    000004C4 DD F9            [10]  991 	ld	sp, ix
    000004C6 DD E1            [14]  992 	pop	ix
    000004C8 C9               [10]  993 	ret
                                    994 ;src/main.c:341: void ClearScreen(void){
                                    995 ;	---------------------------------
                                    996 ; Function ClearScreen
                                    997 ; ---------------------------------
    000004C9                        998 _ClearScreen::
                                    999 ;src/main.c:346: fill_bkg_rect(0,0,DEVICE_SCREEN_WIDTH,DEVICE_SCREEN_HEIGHT,0);
    000004C9 21 00 00         [10] 1000 	ld	hl, #0x0000
    000004CC E5               [11] 1001 	push	hl
    000004CD 21 14 12         [10] 1002 	ld	hl, #0x1214
    000004D0 E5               [11] 1003 	push	hl
    000004D1 21 00 00         [10] 1004 	ld	hl, #0x00
    000004D4 E5               [11] 1005 	push	hl
    000004D5 CDr00r00         [17] 1006 	call	_fill_rect_compat
                                   1007 ;src/main.c:347: }
    000004D8 C9               [10] 1008 	ret
                                   1009 ;src/main.c:349: void main(void)
                                   1010 ;	---------------------------------
                                   1011 ; Function main
                                   1012 ; ---------------------------------
    000004D9                       1013 _main::
    000004D9 21 E0 FF         [10] 1014 	ld	hl, #-32
    000004DC 39               [11] 1015 	add	hl, sp
    000004DD F9               [ 6] 1016 	ld	sp, hl
                                   1017 ;src/main.c:351: DISPLAY_ON;
    000004DE 3Ar00r00         [13] 1018 	ld	a, (_shadow_VDP_R1+0)
    000004E1 F6 40            [ 7] 1019 	or	a, #0x40
    000004E3 32r00r00         [13] 1020 	ld	(_shadow_VDP_R1+0), a
    000004E6 F3               [ 4] 1021 	di
    000004E7 3Ar00r00         [13] 1022 	ld	a, (_shadow_VDP_R1+0)
    000004EA D3 BF            [11] 1023 	out	(_VDP_CMD), a
    000004EC 3E 81            [ 7] 1024 	ld	a, #0x81
    000004EE D3 BF            [11] 1025 	out	(_VDP_CMD), a
    000004F0 FB               [ 4] 1026 	ei
                                   1027 ;src/main.c:358: fontTilesStart = DialogueBox_TILE_COUNT+1;
    000004F1 21r02r00         [10] 1028 	ld	hl, #_fontTilesStart
    000004F4 36 07            [10] 1029 	ld	(hl), #0x07
                                   1030 ;src/main.c:360: for(uint8_t i=0;i<TILE_SIZE_BYTES;i++)emptyTile[i]=0;
    000004F6 21 00 00         [10] 1031 	ld	hl, #0
    000004F9 39               [11] 1032 	add	hl, sp
    000004FA EB               [ 4] 1033 	ex	de, hl
    000004FB 0E 00            [ 7] 1034 	ld	c, #0x00
    000004FD                       1035 00106$:
    000004FD 79               [ 4] 1036 	ld	a, c
    000004FE D6 20            [ 7] 1037 	sub	a, #0x20
    00000500 30 09            [12] 1038 	jr	NC, 00101$
    00000502 69               [ 4] 1039 	ld	l, c
    00000503 26 00            [ 7] 1040 	ld	h, #0x00
    00000505 19               [11] 1041 	add	hl, de
    00000506 36 00            [10] 1042 	ld	(hl), #0x00
    00000508 0C               [ 4] 1043 	inc	c
    00000509 18 F2            [12] 1044 	jr	00106$
    0000050B                       1045 00101$:
                                   1046 ;src/main.c:362: set_native_tile_data(0,1,emptyTile);
    0000050B D5               [11] 1047 	push	de
    0000050C 11 01 00         [10] 1048 	ld	de, #0x0001
    0000050F 21 00 00         [10] 1049 	ld	hl, #0x0000
    00000512 CDr00r00         [17] 1050 	call	_set_native_tile_data
                                   1051 ;src/main.c:364: ClearScreen();
    00000515 CDrC9r04         [17] 1052 	call	_ClearScreen
                                   1053 ;src/main.c:366: set_native_tile_data(1,DialogueBox_TILE_COUNT,DialogueBox_tiles);
    00000518 21r00r00         [10] 1054 	ld	hl, #_DialogueBox_tiles
    0000051B E5               [11] 1055 	push	hl
    0000051C 11 06 00         [10] 1056 	ld	de, #0x0006
    0000051F 21 01 00         [10] 1057 	ld	hl, #0x0001
    00000522 CDr00r00         [17] 1058 	call	_set_native_tile_data
                                   1059 ;src/main.c:368: while(TRUE){
    00000525                       1060 00103$:
                                   1061 ;src/main.c:372: DrawTextAdvanced("When the code reaches a period or question mark, it will pause and wait for you to press the A button for it to continue. Afterwards, It will start a new page and continue.  The code will automatically jump to a new line, when it cannot fully draw a word.  When both rows of text are full, the code will slide the current text upwards and continue. For every page, the code will dynamically populate VRAM. Only letters and characters used, will be loaded into VRAM.");
    00000525 21r33r05         [10] 1062 	ld	hl, #___str_0
    00000528 CDr3Dr02         [17] 1063 	call	_DrawTextAdvanced
    0000052B 18 F8            [12] 1064 	jr	00103$
                                   1065 ;src/main.c:375: }
    0000052D 21 20 00         [10] 1066 	ld	hl, #32
    00000530 39               [11] 1067 	add	hl, sp
    00000531 F9               [ 6] 1068 	ld	sp, hl
    00000532 C9               [10] 1069 	ret
    00000533                       1070 ___str_0:
    00000533 57 68 65 6E 20 74 68  1071 	.ascii "When the code reaches a period or question mark, it will pau"
             65 20 63 6F 64 65 20
             72 65 61 63 68 65 73
             20 61 20 70 65 72 69
             6F 64 20 6F 72 20 71
             75 65 73 74 69 6F 6E
             20 6D 61 72 6B 2C 20
             69 74 20 77 69 6C 6C
             20 70 61 75
    0000056F 73 65 20 61 6E 64 20  1072 	.ascii "se and wait for you to press the A button for it to continue"
             77 61 69 74 20 66 6F
             72 20 79 6F 75 20 74
             6F 20 70 72 65 73 73
             20 74 68 65 20 41 20
             62 75 74 74 6F 6E 20
             66 6F 72 20 69 74 20
             74 6F 20 63 6F 6E 74
             69 6E 75 65
    000005AB 2E 20 41 66 74 65 72  1073 	.ascii ". Afterwards, It will start a new page and continue.  The co"
             77 61 72 64 73 2C 20
             49 74 20 77 69 6C 6C
             20 73 74 61 72 74 20
             61 20 6E 65 77 20 70
             61 67 65 20 61 6E 64
             20 63 6F 6E 74 69 6E
             75 65 2E 20 20 54 68
             65 20 63 6F
    000005E7 64 65 20 77 69 6C 6C  1074 	.ascii "de will automatically jump to a new line, when it cannot ful"
             20 61 75 74 6F 6D 61
             74 69 63 61 6C 6C 79
             20 6A 75 6D 70 20 74
             6F 20 61 20 6E 65 77
             20 6C 69 6E 65 2C 20
             77 68 65 6E 20 69 74
             20 63 61 6E 6E 6F 74
             20 66 75 6C
    00000623 6C 79 20 64 72 61 77  1075 	.ascii "ly draw a word.  When both rows of text are full, the code w"
             20 61 20 77 6F 72 64
             2E 20 20 57 68 65 6E
             20 62 6F 74 68 20 72
             6F 77 73 20 6F 66 20
             74 65 78 74 20 61 72
             65 20 66 75 6C 6C 2C
             20 74 68 65 20 63 6F
             64 65 20 77
    0000065F 69 6C 6C 20 73 6C 69  1076 	.ascii "ill slide the current text upwards and continue. For every p"
             64 65 20 74 68 65 20
             63 75 72 72 65 6E 74
             20 74 65 78 74 20 75
             70 77 61 72 64 73 20
             61 6E 64 20 63 6F 6E
             74 69 6E 75 65 2E 20
             46 6F 72 20 65 76 65
             72 79 20 70
    0000069B 61 67 65 2C 20 74 68  1077 	.ascii "age, the code will dynamically populate VRAM. Only letters a"
             65 20 63 6F 64 65 20
             77 69 6C 6C 20 64 79
             6E 61 6D 69 63 61 6C
             6C 79 20 70 6F 70 75
             6C 61 74 65 20 56 52
             41 4D 2E 20 4F 6E 6C
             79 20 6C 65 74 74 65
             72 73 20 61
    000006D7 6E 64 20 63 68 61 72  1078 	.ascii "nd characters used, will be loaded into VRAM."
             61 63 74 65 72 73 20
             75 73 65 64 2C 20 77
             69 6C 6C 20 62 65 20
             6C 6F 61 64 65 64 20
             69 6E 74 6F 20 56 52
             41 4D 2E
    00000704 00                    1079 	.db 0x00
                                   1080 	.area _CODE
                                   1081 	.area _INITIALIZER
    00000000                       1082 __xinit__windowYPosition:
    00000000 90 00                 1083 	.dw #0x0090
    00000002                       1084 __xinit__fontTilesStart:
    00000002 00                    1085 	.db #0x00	; 0
    00000003                       1086 __xinit__joypadCurrent:
    00000003 00                    1087 	.db #0x00	; 0
    00000004                       1088 __xinit__joypadPrevious:
    00000004 00                    1089 	.db #0x00	; 0
    00000005                       1090 __xinit__loadedCharacterCount:
    00000005 00                    1091 	.db #0x00	; 0
                                   1092 	.area _CABS (ABS)
