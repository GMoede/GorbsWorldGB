                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module bcd
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _bcd2text
                                     12 	.globl _bcd_sub
                                     13 	.globl _bcd_add
                                     14 	.globl _uint2bcd
                                     15 	.globl _font_set
                                     16 	.globl _font_load
                                     17 	.globl _font_init
                                     18 	.globl _set_tile_map_compat
                                     19 	.globl _len
                                     20 	.globl _bcd3
                                     21 	.globl _bcd2
                                     22 	.globl _bcd
                                     23 	.globl _buf
                                     24 ;--------------------------------------------------------
                                     25 ; special function registers
                                     26 ;--------------------------------------------------------
                         00000000    27 _GG_STATE	=	0x0000
                         00000001    28 _GG_EXT_7BIT	=	0x0001
                         00000002    29 _GG_EXT_CTL	=	0x0002
                         00000003    30 _GG_SIO_SEND	=	0x0003
                         00000004    31 _GG_SIO_RECV	=	0x0004
                         00000005    32 _GG_SIO_CTL	=	0x0005
                         00000006    33 _GG_SOUND_PAN	=	0x0006
                         0000003E    34 _MEMORY_CTL	=	0x003e
                         0000003F    35 _JOY_CTL	=	0x003f
                         0000007E    36 _VCOUNTER	=	0x007e
                         0000007F    37 _PSG	=	0x007f
                         0000007F    38 _HCOUNTER	=	0x007f
                         000000BE    39 _VDP_DATA	=	0x00be
                         000000BF    40 _VDP_CMD	=	0x00bf
                         000000BF    41 _VDP_STATUS	=	0x00bf
                         000000DC    42 _JOY_PORT1	=	0x00dc
                         000000DD    43 _JOY_PORT2	=	0x00dd
                         000000F0    44 _FMADDRESS	=	0x00f0
                         000000F1    45 _FMDATA	=	0x00f1
                         000000F2    46 _AUDIOCTRL	=	0x00f2
                                     47 ;--------------------------------------------------------
                                     48 ; ram data
                                     49 ;--------------------------------------------------------
                                     50 	.area _DATA
                         0000FFFC    51 _RAM_CONTROL	=	0xfffc
                         0000FFF8    52 _GLASSES_3D	=	0xfff8
                         0000FFFD    53 _MAP_FRAME0	=	0xfffd
                         0000FFFE    54 _MAP_FRAME1	=	0xfffe
                         0000FFFF    55 _MAP_FRAME2	=	0xffff
    00000000                         56 _buf::
    00000000                         57 	.ds 10
                                     58 ;--------------------------------------------------------
                                     59 ; ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area _INITIALIZED
    00000000                         62 _bcd::
    00000000                         63 	.ds 4
    00000004                         64 _bcd2::
    00000004                         65 	.ds 4
    00000008                         66 _bcd3::
    00000008                         67 	.ds 4
    0000000C                         68 _len::
    0000000C                         69 	.ds 1
                                     70 ;--------------------------------------------------------
                                     71 ; absolute external ram data
                                     72 ;--------------------------------------------------------
                                     73 	.area _DABS (ABS)
                                     74 ;--------------------------------------------------------
                                     75 ; global & static initialisations
                                     76 ;--------------------------------------------------------
                                     77 	.area _HOME
                                     78 	.area _GSINIT
                                     79 	.area _GSFINAL
                                     80 	.area _GSINIT
                                     81 ;--------------------------------------------------------
                                     82 ; Home
                                     83 ;--------------------------------------------------------
                                     84 	.area _HOME
                                     85 	.area _HOME
                                     86 ;--------------------------------------------------------
                                     87 ; code
                                     88 ;--------------------------------------------------------
                                     89 	.area _CODE
                                     90 ;src/bcd.c:15: void main(void) {
                                     91 ;	---------------------------------
                                     92 ; Function main
                                     93 ; ---------------------------------
    00000000                         94 _main::
                                     95 ;src/bcd.c:16: font_init();
    00000000 CDr00r00         [17]   96 	call	_font_init
                                     97 ;src/bcd.c:17: font_set(font_load(font_spect));
    00000003 21r00r00         [10]   98 	ld	hl, #_font_spect
    00000006 E5               [11]   99 	push	hl
    00000007 CDr00r00         [17]  100 	call	_font_load
    0000000A E3               [19]  101 	ex	(sp),hl
    0000000B CDr00r00         [17]  102 	call	_font_set
                                    103 ;src/bcd.c:19: len = bcd2text(&bcd, 0x10, buf);
    0000000E 21r00r00         [10]  104 	ld	hl, #_buf
    00000011 E3               [19]  105 	ex	(sp),hl
    00000012 3E 10            [ 7]  106 	ld	a, #0x10
    00000014 F5               [11]  107 	push	af
    00000015 33               [ 6]  108 	inc	sp
    00000016 21r00r00         [10]  109 	ld	hl, #_bcd
    00000019 CDr00r00         [17]  110 	call	_bcd2text
    0000001C 32r0Cr00         [13]  111 	ld	(_len+0), a
                                    112 ;src/bcd.c:20: set_bkg_tiles(5, 5, len, 1, buf);
    0000001F 21r00r00         [10]  113 	ld	hl, #_buf
    00000022 E5               [11]  114 	push	hl
    00000023 3E 01            [ 7]  115 	ld	a, #0x01
    00000025 F5               [11]  116 	push	af
    00000026 33               [ 6]  117 	inc	sp
    00000027 3Ar0Cr00         [13]  118 	ld	a, (_len)
    0000002A 67               [ 4]  119 	ld	h, a
    0000002B 2E 05            [ 7]  120 	ld	l, #0x05
    0000002D E5               [11]  121 	push	hl
    0000002E 3E 05            [ 7]  122 	ld	a, #0x05
    00000030 F5               [11]  123 	push	af
    00000031 33               [ 6]  124 	inc	sp
    00000032 CDr00r00         [17]  125 	call	_set_tile_map_compat
                                    126 ;src/bcd.c:22: bcd_add(&bcd, &bcd2);
    00000035 11r04r00         [10]  127 	ld	de, #_bcd2
    00000038 21r00r00         [10]  128 	ld	hl, #_bcd
    0000003B CDr00r00         [17]  129 	call	_bcd_add
                                    130 ;src/bcd.c:24: len = bcd2text(&bcd, 0x10, buf);
    0000003E 21r00r00         [10]  131 	ld	hl, #_buf
    00000041 E5               [11]  132 	push	hl
    00000042 3E 10            [ 7]  133 	ld	a, #0x10
    00000044 F5               [11]  134 	push	af
    00000045 33               [ 6]  135 	inc	sp
    00000046 21r00r00         [10]  136 	ld	hl, #_bcd
    00000049 CDr00r00         [17]  137 	call	_bcd2text
    0000004C 32r0Cr00         [13]  138 	ld	(_len+0), a
                                    139 ;src/bcd.c:25: set_bkg_tiles(5, 6, len, 1, buf);
    0000004F 21r00r00         [10]  140 	ld	hl, #_buf
    00000052 E5               [11]  141 	push	hl
    00000053 3E 01            [ 7]  142 	ld	a, #0x01
    00000055 F5               [11]  143 	push	af
    00000056 33               [ 6]  144 	inc	sp
    00000057 3Ar0Cr00         [13]  145 	ld	a, (_len)
    0000005A 67               [ 4]  146 	ld	h, a
    0000005B 2E 06            [ 7]  147 	ld	l, #0x06
    0000005D E5               [11]  148 	push	hl
    0000005E 3E 05            [ 7]  149 	ld	a, #0x05
    00000060 F5               [11]  150 	push	af
    00000061 33               [ 6]  151 	inc	sp
    00000062 CDr00r00         [17]  152 	call	_set_tile_map_compat
                                    153 ;src/bcd.c:27: bcd_sub(&bcd, &bcd3);
    00000065 11r08r00         [10]  154 	ld	de, #_bcd3
    00000068 21r00r00         [10]  155 	ld	hl, #_bcd
    0000006B CDr00r00         [17]  156 	call	_bcd_sub
                                    157 ;src/bcd.c:29: len = bcd2text(&bcd, 0x10, buf);
    0000006E 21r00r00         [10]  158 	ld	hl, #_buf
    00000071 E5               [11]  159 	push	hl
    00000072 3E 10            [ 7]  160 	ld	a, #0x10
    00000074 F5               [11]  161 	push	af
    00000075 33               [ 6]  162 	inc	sp
    00000076 21r00r00         [10]  163 	ld	hl, #_bcd
    00000079 CDr00r00         [17]  164 	call	_bcd2text
    0000007C 32r0Cr00         [13]  165 	ld	(_len+0), a
                                    166 ;src/bcd.c:30: set_bkg_tiles(5, 7, len, 1, buf);
    0000007F 21r00r00         [10]  167 	ld	hl, #_buf
    00000082 E5               [11]  168 	push	hl
    00000083 3E 01            [ 7]  169 	ld	a, #0x01
    00000085 F5               [11]  170 	push	af
    00000086 33               [ 6]  171 	inc	sp
    00000087 3Ar0Cr00         [13]  172 	ld	a, (_len)
    0000008A 67               [ 4]  173 	ld	h, a
    0000008B 2E 07            [ 7]  174 	ld	l, #0x07
    0000008D E5               [11]  175 	push	hl
    0000008E 3E 05            [ 7]  176 	ld	a, #0x05
    00000090 F5               [11]  177 	push	af
    00000091 33               [ 6]  178 	inc	sp
    00000092 CDr00r00         [17]  179 	call	_set_tile_map_compat
                                    180 ;src/bcd.c:32: uint2bcd(12345, &bcd);
    00000095 11r00r00         [10]  181 	ld	de, #_bcd
    00000098 21 39 30         [10]  182 	ld	hl, #0x3039
    0000009B CDr00r00         [17]  183 	call	_uint2bcd
                                    184 ;src/bcd.c:34: len = bcd2text(&bcd, 0x10, buf);
    0000009E 21r00r00         [10]  185 	ld	hl, #_buf
    000000A1 E5               [11]  186 	push	hl
    000000A2 3E 10            [ 7]  187 	ld	a, #0x10
    000000A4 F5               [11]  188 	push	af
    000000A5 33               [ 6]  189 	inc	sp
    000000A6 21r00r00         [10]  190 	ld	hl, #_bcd
    000000A9 CDr00r00         [17]  191 	call	_bcd2text
    000000AC 32r0Cr00         [13]  192 	ld	(_len+0), a
                                    193 ;src/bcd.c:35: set_bkg_tiles(5, 8, len, 1, buf);
    000000AF 21r00r00         [10]  194 	ld	hl, #_buf
    000000B2 E5               [11]  195 	push	hl
    000000B3 3E 01            [ 7]  196 	ld	a, #0x01
    000000B5 F5               [11]  197 	push	af
    000000B6 33               [ 6]  198 	inc	sp
    000000B7 3Ar0Cr00         [13]  199 	ld	a, (_len)
    000000BA 67               [ 4]  200 	ld	h, a
    000000BB 2E 08            [ 7]  201 	ld	l, #0x08
    000000BD E5               [11]  202 	push	hl
    000000BE 3E 05            [ 7]  203 	ld	a, #0x05
    000000C0 F5               [11]  204 	push	af
    000000C1 33               [ 6]  205 	inc	sp
    000000C2 CDr00r00         [17]  206 	call	_set_tile_map_compat
                                    207 ;src/bcd.c:36: }
    000000C5 C9               [10]  208 	ret
                                    209 	.area _CODE
                                    210 	.area _INITIALIZER
    00000000                        211 __xinit__bcd:
    00000000 40 30 20 10            212 	.byte #0x40, #0x30, #0x20, #0x10	; 270544960
    00000004                        213 __xinit__bcd2:
    00000004 08 07 06 05            214 	.byte #0x08, #0x07, #0x06, #0x05	; 84281096
    00000008                        215 __xinit__bcd3:
    00000008 11 11 11 11            216 	.byte #0x11, #0x11, #0x11, #0x11	; 286331153
    0000000C                        217 __xinit__len:
    0000000C 00                     218 	.db #0x00	; 0
                                    219 	.area _CABS (ABS)
