                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module bcd
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _bcd2text
                                     12 	.globl _bcd_sub
                                     13 	.globl _bcd_add
                                     14 	.globl _uint2bcd
                                     15 	.globl _font_set
                                     16 	.globl _font_load
                                     17 	.globl _font_init
                                     18 	.globl _set_bkg_tiles
                                     19 	.globl _len
                                     20 	.globl _bcd3
                                     21 	.globl _bcd2
                                     22 	.globl _bcd
                                     23 	.globl _buf
                                     24 ;--------------------------------------------------------
                                     25 ; special function registers
                                     26 ;--------------------------------------------------------
                                     27 ;--------------------------------------------------------
                                     28 ; ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area _DATA
    00000000                         31 _buf::
    00000000                         32 	.ds 10
                                     33 ;--------------------------------------------------------
                                     34 ; ram data
                                     35 ;--------------------------------------------------------
                                     36 	.area _INITIALIZED
    00000000                         37 _bcd::
    00000000                         38 	.ds 4
    00000004                         39 _bcd2::
    00000004                         40 	.ds 4
    00000008                         41 _bcd3::
    00000008                         42 	.ds 4
    0000000C                         43 _len::
    0000000C                         44 	.ds 1
                                     45 ;--------------------------------------------------------
                                     46 ; absolute external ram data
                                     47 ;--------------------------------------------------------
                                     48 	.area _DABS (ABS)
                                     49 ;--------------------------------------------------------
                                     50 ; global & static initialisations
                                     51 ;--------------------------------------------------------
                                     52 	.area _HOME
                                     53 	.area _GSINIT
                                     54 	.area _GSFINAL
                                     55 	.area _GSINIT
                                     56 ;--------------------------------------------------------
                                     57 ; Home
                                     58 ;--------------------------------------------------------
                                     59 	.area _HOME
                                     60 	.area _HOME
                                     61 ;--------------------------------------------------------
                                     62 ; code
                                     63 ;--------------------------------------------------------
                                     64 	.area _CODE
                                     65 ;src/bcd.c:15: void main(void) {
                                     66 ;	---------------------------------
                                     67 ; Function main
                                     68 ; ---------------------------------
    00000000                         69 _main::
                                     70 ;src/bcd.c:16: font_init();
    00000000 CDr00r00         [24]   71 	call	_font_init
                                     72 ;src/bcd.c:17: font_set(font_load(font_spect));
    00000003 11r00r00         [12]   73 	ld	de, #_font_spect
    00000006 D5               [16]   74 	push	de
    00000007 CDr00r00         [24]   75 	call	_font_load
    0000000A E1               [12]   76 	pop	hl
    0000000B D5               [16]   77 	push	de
    0000000C CDr00r00         [24]   78 	call	_font_set
    0000000F E1               [12]   79 	pop	hl
                                     80 ;src/bcd.c:19: len = bcd2text(&bcd, 0x10, buf);
    00000010 01r00r00         [12]   81 	ld	bc, #_buf+0
    00000013 C5               [16]   82 	push	bc
    00000014 C5               [16]   83 	push	bc
    00000015 3E 10            [ 8]   84 	ld	a, #0x10
    00000017 F5               [16]   85 	push	af
    00000018 33               [ 8]   86 	inc	sp
    00000019 11r00r00         [12]   87 	ld	de, #_bcd
    0000001C D5               [16]   88 	push	de
    0000001D CDr00r00         [24]   89 	call	_bcd2text
    00000020 E8 05            [16]   90 	add	sp, #5
    00000022 C1               [12]   91 	pop	bc
    00000023 21r0Cr00         [12]   92 	ld	hl, #_len
    00000026 73               [ 8]   93 	ld	(hl), e
                                     94 ;src/bcd.c:20: set_bkg_tiles(5, 5, len, 1, buf);
    00000027 C5               [16]   95 	push	bc
    00000028 3E 01            [ 8]   96 	ld	a, #0x01
    0000002A F5               [16]   97 	push	af
    0000002B 33               [ 8]   98 	inc	sp
    0000002C 66               [ 8]   99 	ld	h, (hl)
    0000002D 2E 05            [ 8]  100 	ld	l, #0x05
    0000002F E5               [16]  101 	push	hl
    00000030 3E 05            [ 8]  102 	ld	a, #0x05
    00000032 F5               [16]  103 	push	af
    00000033 33               [ 8]  104 	inc	sp
    00000034 CDr00r00         [24]  105 	call	_set_bkg_tiles
    00000037 E8 06            [16]  106 	add	sp, #6
                                    107 ;src/bcd.c:22: bcd_add(&bcd, &bcd2);
    00000039 C5               [16]  108 	push	bc
    0000003A 11r04r00         [12]  109 	ld	de, #_bcd2
    0000003D D5               [16]  110 	push	de
    0000003E 11r00r00         [12]  111 	ld	de, #_bcd
    00000041 D5               [16]  112 	push	de
    00000042 CDr00r00         [24]  113 	call	_bcd_add
    00000045 E8 04            [16]  114 	add	sp, #4
    00000047 C1               [12]  115 	pop	bc
                                    116 ;src/bcd.c:24: len = bcd2text(&bcd, 0x10, buf);
    00000048 C5               [16]  117 	push	bc
    00000049 C5               [16]  118 	push	bc
    0000004A 3E 10            [ 8]  119 	ld	a, #0x10
    0000004C F5               [16]  120 	push	af
    0000004D 33               [ 8]  121 	inc	sp
    0000004E 11r00r00         [12]  122 	ld	de, #_bcd
    00000051 D5               [16]  123 	push	de
    00000052 CDr00r00         [24]  124 	call	_bcd2text
    00000055 E8 05            [16]  125 	add	sp, #5
    00000057 C1               [12]  126 	pop	bc
    00000058 21r0Cr00         [12]  127 	ld	hl, #_len
    0000005B 73               [ 8]  128 	ld	(hl), e
                                    129 ;src/bcd.c:25: set_bkg_tiles(5, 6, len, 1, buf);
    0000005C C5               [16]  130 	push	bc
    0000005D 3E 01            [ 8]  131 	ld	a, #0x01
    0000005F F5               [16]  132 	push	af
    00000060 33               [ 8]  133 	inc	sp
    00000061 66               [ 8]  134 	ld	h, (hl)
    00000062 2E 06            [ 8]  135 	ld	l, #0x06
    00000064 E5               [16]  136 	push	hl
    00000065 3E 05            [ 8]  137 	ld	a, #0x05
    00000067 F5               [16]  138 	push	af
    00000068 33               [ 8]  139 	inc	sp
    00000069 CDr00r00         [24]  140 	call	_set_bkg_tiles
    0000006C E8 06            [16]  141 	add	sp, #6
                                    142 ;src/bcd.c:27: bcd_sub(&bcd, &bcd3);
    0000006E C5               [16]  143 	push	bc
    0000006F 11r08r00         [12]  144 	ld	de, #_bcd3
    00000072 D5               [16]  145 	push	de
    00000073 11r00r00         [12]  146 	ld	de, #_bcd
    00000076 D5               [16]  147 	push	de
    00000077 CDr00r00         [24]  148 	call	_bcd_sub
    0000007A E8 04            [16]  149 	add	sp, #4
    0000007C C1               [12]  150 	pop	bc
                                    151 ;src/bcd.c:29: len = bcd2text(&bcd, 0x10, buf);
    0000007D C5               [16]  152 	push	bc
    0000007E C5               [16]  153 	push	bc
    0000007F 3E 10            [ 8]  154 	ld	a, #0x10
    00000081 F5               [16]  155 	push	af
    00000082 33               [ 8]  156 	inc	sp
    00000083 11r00r00         [12]  157 	ld	de, #_bcd
    00000086 D5               [16]  158 	push	de
    00000087 CDr00r00         [24]  159 	call	_bcd2text
    0000008A E8 05            [16]  160 	add	sp, #5
    0000008C C1               [12]  161 	pop	bc
    0000008D 21r0Cr00         [12]  162 	ld	hl, #_len
    00000090 73               [ 8]  163 	ld	(hl), e
                                    164 ;src/bcd.c:30: set_bkg_tiles(5, 7, len, 1, buf);
    00000091 C5               [16]  165 	push	bc
    00000092 3E 01            [ 8]  166 	ld	a, #0x01
    00000094 F5               [16]  167 	push	af
    00000095 33               [ 8]  168 	inc	sp
    00000096 66               [ 8]  169 	ld	h, (hl)
    00000097 2E 07            [ 8]  170 	ld	l, #0x07
    00000099 E5               [16]  171 	push	hl
    0000009A 3E 05            [ 8]  172 	ld	a, #0x05
    0000009C F5               [16]  173 	push	af
    0000009D 33               [ 8]  174 	inc	sp
    0000009E CDr00r00         [24]  175 	call	_set_bkg_tiles
    000000A1 E8 06            [16]  176 	add	sp, #6
                                    177 ;src/bcd.c:32: uint2bcd(12345, &bcd);
    000000A3 C5               [16]  178 	push	bc
    000000A4 11r00r00         [12]  179 	ld	de, #_bcd
    000000A7 D5               [16]  180 	push	de
    000000A8 11 39 30         [12]  181 	ld	de, #0x3039
    000000AB D5               [16]  182 	push	de
    000000AC CDr00r00         [24]  183 	call	_uint2bcd
    000000AF E8 04            [16]  184 	add	sp, #4
    000000B1 C1               [12]  185 	pop	bc
                                    186 ;src/bcd.c:34: len = bcd2text(&bcd, 0x10, buf);
    000000B2 C5               [16]  187 	push	bc
    000000B3 C5               [16]  188 	push	bc
    000000B4 3E 10            [ 8]  189 	ld	a, #0x10
    000000B6 F5               [16]  190 	push	af
    000000B7 33               [ 8]  191 	inc	sp
    000000B8 11r00r00         [12]  192 	ld	de, #_bcd
    000000BB D5               [16]  193 	push	de
    000000BC CDr00r00         [24]  194 	call	_bcd2text
    000000BF E8 05            [16]  195 	add	sp, #5
    000000C1 C1               [12]  196 	pop	bc
    000000C2 21r0Cr00         [12]  197 	ld	hl, #_len
    000000C5 73               [ 8]  198 	ld	(hl), e
                                    199 ;src/bcd.c:35: set_bkg_tiles(5, 8, len, 1, buf);
    000000C6 C5               [16]  200 	push	bc
    000000C7 3E 01            [ 8]  201 	ld	a, #0x01
    000000C9 F5               [16]  202 	push	af
    000000CA 33               [ 8]  203 	inc	sp
    000000CB 66               [ 8]  204 	ld	h, (hl)
    000000CC 2E 08            [ 8]  205 	ld	l, #0x08
    000000CE E5               [16]  206 	push	hl
    000000CF 3E 05            [ 8]  207 	ld	a, #0x05
    000000D1 F5               [16]  208 	push	af
    000000D2 33               [ 8]  209 	inc	sp
    000000D3 CDr00r00         [24]  210 	call	_set_bkg_tiles
    000000D6 E8 06            [16]  211 	add	sp, #6
                                    212 ;src/bcd.c:36: }
    000000D8 C9               [16]  213 	ret
                                    214 	.area _CODE
                                    215 	.area _INITIALIZER
    00000000                        216 __xinit__bcd:
    00000000 40 30 20 10            217 	.byte #0x40, #0x30, #0x20, #0x10	; 270544960
    00000004                        218 __xinit__bcd2:
    00000004 08 07 06 05            219 	.byte #0x08, #0x07, #0x06, #0x05	; 84281096
    00000008                        220 __xinit__bcd3:
    00000008 11 11 11 11            221 	.byte #0x11, #0x11, #0x11, #0x11	; 286331153
    0000000C                        222 __xinit__len:
    0000000C 00                     223 	.db #0x00	; 0
                                    224 	.area _CABS (ABS)
