                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module banks_nonintrinsic
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _set_RAM_bank1
                                     12 	.globl _set_RAM_bank0
                                     13 	.globl _set_ROM_bank2
                                     14 	.globl _set_ROM_bank1
                                     15 	.globl _puts
                                     16 	.globl _printf
                                     17 	.globl _putchar
                                     18 	.globl _add_num__ptr
                                     19 	.globl _hello_rom_1
                                     20 	.globl _hello_rom_2
                                     21 	.globl _add_num_sram_0
                                     22 	.globl _hello_sram_0
                                     23 	.globl _add_num_sram_1b
                                     24 	.globl _add_num_sram_1a
                                     25 	.globl _hello_sram_1
                                     26 	.globl _add_num_wram
                                     27 	.globl _data
                                     28 	.globl __current_ram_bank
                                     29 	.globl ___dummy_variable
                                     30 	.globl _hello_code
                                     31 ;--------------------------------------------------------
                                     32 ; special function registers
                                     33 ;--------------------------------------------------------
                         00000000    34 _GG_STATE	=	0x0000
                         00000001    35 _GG_EXT_7BIT	=	0x0001
                         00000002    36 _GG_EXT_CTL	=	0x0002
                         00000003    37 _GG_SIO_SEND	=	0x0003
                         00000004    38 _GG_SIO_RECV	=	0x0004
                         00000005    39 _GG_SIO_CTL	=	0x0005
                         00000006    40 _GG_SOUND_PAN	=	0x0006
                         0000003E    41 _MEMORY_CTL	=	0x003e
                         0000003F    42 _JOY_CTL	=	0x003f
                         0000007E    43 _VCOUNTER	=	0x007e
                         0000007F    44 _PSG	=	0x007f
                         0000007F    45 _HCOUNTER	=	0x007f
                         000000BE    46 _VDP_DATA	=	0x00be
                         000000BF    47 _VDP_CMD	=	0x00bf
                         000000BF    48 _VDP_STATUS	=	0x00bf
                         000000DC    49 _JOY_PORT1	=	0x00dc
                         000000DD    50 _JOY_PORT2	=	0x00dd
                         000000F0    51 _FMADDRESS	=	0x00f0
                         000000F1    52 _FMDATA	=	0x00f1
                         000000F2    53 _AUDIOCTRL	=	0x00f2
                                     54 ;--------------------------------------------------------
                                     55 ; ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area _DATA
                         0000FFFC    58 _RAM_CONTROL	=	0xfffc
                         0000FFF8    59 _GLASSES_3D	=	0xfff8
                         0000FFFD    60 _MAP_FRAME0	=	0xfffd
                         0000FFFE    61 _MAP_FRAME1	=	0xfffe
                         0000FFFF    62 _MAP_FRAME2	=	0xffff
    00000000                         63 ___dummy_variable::
    00000000                         64 	.ds 1
                                     65 ;--------------------------------------------------------
                                     66 ; ram data
                                     67 ;--------------------------------------------------------
                                     68 	.area _INITIALIZED
    00000000                         69 __current_ram_bank::
    00000000                         70 	.ds 1
    00000001                         71 _data::
    00000001                         72 	.ds 20
    00000015                         73 _add_num_wram::
    00000015                         74 	.ds 2
                                     75 ;--------------------------------------------------------
                                     76 ; DATA_1 ram data
                                     77 ;--------------------------------------------------------
                                     78 	.area _DATA_1
    00000000                         79 _hello_sram_1::
    00000000                         80 	.ds 20
    00000014                         81 _add_num_sram_1a::
    00000014                         82 	.ds 2
    00000016                         83 _add_num_sram_1b::
    00000016                         84 	.ds 2
                                     85 ;--------------------------------------------------------
                                     86 ; DATA_0 ram data
                                     87 ;--------------------------------------------------------
                                     88 	.area _DATA_0
    00000000                         89 _hello_sram_0::
    00000000                         90 	.ds 20
    00000014                         91 _add_num_sram_0::
    00000014                         92 	.ds 2
                                     93 ;--------------------------------------------------------
                                     94 ; CODE_2 rom data
                                     95 ;--------------------------------------------------------
                                     96 	.area _CODE_2
    00000000                         97 _hello_rom_2:
    00000000 68 65 6C 6C 6F 20 66    98 	.ascii "hello from CODE_2"
             72 6F 6D 20 43 4F 44
             45 5F 32
    00000011 0A                      99 	.db 0x0a
    00000012 00                     100 	.db 0x00
                                    101 ;--------------------------------------------------------
                                    102 ; CODE_1 rom data
                                    103 ;--------------------------------------------------------
                                    104 	.area _CODE_1
    00000000                        105 _hello_rom_1:
    00000000 68 65 6C 6C 6F 20 66   106 	.ascii "hello from CODE_1"
             72 6F 6D 20 43 4F 44
             45 5F 31
    00000011 0A                     107 	.db 0x0a
    00000012 00                     108 	.db 0x00
    00000013                        109 _add_num__ptr:
    00000013r14r00                  110 	.dw _add_num_sram_1a
    00000015r16r00                  111 	.dw _add_num_sram_1b
                                    112 ;--------------------------------------------------------
                                    113 ; absolute external ram data
                                    114 ;--------------------------------------------------------
                                    115 	.area _DABS (ABS)
                                    116 ;--------------------------------------------------------
                                    117 ; global & static initialisations
                                    118 ;--------------------------------------------------------
                                    119 	.area _HOME
                                    120 	.area _GSINIT
                                    121 	.area _GSFINAL
                                    122 	.area _GSINIT
                                    123 ;--------------------------------------------------------
                                    124 ; Home
                                    125 ;--------------------------------------------------------
                                    126 	.area _HOME
                                    127 ;src/banks_nonintrinsic.c:21: void set_ROM_bank1(void) NONBANKED { SWITCH_ROM(1); }
                                    128 ;	---------------------------------
                                    129 ; Function set_ROM_bank1
                                    130 ; ---------------------------------
    00000000                        131 _set_ROM_bank1::
    00000000 21 FE FF         [10]  132 	ld	hl, #_MAP_FRAME1
    00000003 36 01            [10]  133 	ld	(hl), #0x01
    00000005 C9               [10]  134 	ret
    00000006                        135 _hello_code:
    00000006 68 65 6C 6C 6F 20 66   136 	.ascii "hello from CODE"
             72 6F 6D 20 43 4F 44
             45
    00000015 0A                     137 	.db 0x0a
    00000016 00                     138 	.db 0x00
                                    139 ;src/banks_nonintrinsic.c:22: void set_ROM_bank2(void) NONBANKED { SWITCH_ROM(2); }
                                    140 ;	---------------------------------
                                    141 ; Function set_ROM_bank2
                                    142 ; ---------------------------------
    00000017                        143 _set_ROM_bank2::
    00000017 21 FE FF         [10]  144 	ld	hl, #_MAP_FRAME1
    0000001A 36 02            [10]  145 	ld	(hl), #0x02
    0000001C C9               [10]  146 	ret
                                    147 ;src/banks_nonintrinsic.c:31: void set_RAM_bank0(void) NONBANKED { SWITCH_RAM_BANK(0); }
                                    148 ;	---------------------------------
                                    149 ; Function set_RAM_bank0
                                    150 ; ---------------------------------
    0000001D                        151 _set_RAM_bank0::
    0000001D 3A FC FF         [13]  152 	ld	a, (_RAM_CONTROL+0)
    00000020 E6 FB            [ 7]  153 	and	a, #0xfb
    00000022 32 FC FF         [13]  154 	ld	(_RAM_CONTROL+0), a
    00000025 AF               [ 4]  155 	xor	a, a
    00000026 32r00r00         [13]  156 	ld	(__current_ram_bank+0), a
    00000029 C9               [10]  157 	ret
                                    158 ;src/banks_nonintrinsic.c:32: void set_RAM_bank1(void) NONBANKED { SWITCH_RAM_BANK(1); }
                                    159 ;	---------------------------------
                                    160 ; Function set_RAM_bank1
                                    161 ; ---------------------------------
    0000002A                        162 _set_RAM_bank1::
    0000002A 3A FC FF         [13]  163 	ld	a, (_RAM_CONTROL+0)
    0000002D F6 04            [ 7]  164 	or	a, #0x04
    0000002F 32 FC FF         [13]  165 	ld	(_RAM_CONTROL+0), a
    00000032 21r00r00         [10]  166 	ld	hl, #__current_ram_bank
    00000035 36 01            [10]  167 	ld	(hl), #0x01
    00000037 C9               [10]  168 	ret
                                    169 	.area _HOME
                                    170 ;--------------------------------------------------------
                                    171 ; code
                                    172 ;--------------------------------------------------------
                                    173 	.area _CODE
                                    174 ;src/banks_nonintrinsic.c:50: void main(void) {
                                    175 ;	---------------------------------
                                    176 ; Function main
                                    177 ; ---------------------------------
    00000000                        178 _main::
    00000000 DD E5            [15]  179 	push	ix
    00000002 DD 21 00 00      [14]  180 	ld	ix,#0
    00000006 DD 39            [15]  181 	add	ix,sp
    00000008 3B               [ 6]  182 	dec	sp
                                    183 ;src/banks_nonintrinsic.c:51: ENABLE_RAM;
    00000009 CDr1Dr00         [17]  184 	call	_set_RAM_bank0
    0000000C 3A FC FF         [13]  185 	ld	a, (_RAM_CONTROL+0)
    0000000F F6 08            [ 7]  186 	or	a, #0x08
    00000011 32 FC FF         [13]  187 	ld	(_RAM_CONTROL+0), a
                                    188 ;src/banks_nonintrinsic.c:53: add_num_sram_0 = 2;
    00000014 21 02 00         [10]  189 	ld	hl, #0x0002
    00000017 22r14r00         [16]  190 	ld	(_add_num_sram_0), hl
                                    191 ;src/banks_nonintrinsic.c:54: add_num_sram_1a = 4;
    0000001A CDr2Ar00         [17]  192 	call	_set_RAM_bank1
    0000001D 21 04 00         [10]  193 	ld	hl, #0x0004
    00000020 22r14r00         [16]  194 	ld	(_add_num_sram_1a), hl
                                    195 ;src/banks_nonintrinsic.c:55: add_num_sram_1b = 8;
    00000023 2E 08            [ 7]  196 	ld	l, #0x08
    00000025 22r16r00         [16]  197 	ld	(_add_num_sram_1b), hl
                                    198 ;src/banks_nonintrinsic.c:58: for (int8_t i = 0; (hello_code[i]); i++) putchar(hello_code[i]);
    00000028 DD 36 FF 00      [19]  199 	ld	-1 (ix), #0x00
    0000002C                        200 00119$:
    0000002C DD 7E FF         [19]  201 	ld	a, -1 (ix)
    0000002F 4F               [ 4]  202 	ld	c, a
    00000030 07               [ 4]  203 	rlca
    00000031 9F               [ 4]  204 	sbc	a, a
    00000032 47               [ 4]  205 	ld	b, a
    00000033 21r06r00         [10]  206 	ld	hl, #_hello_code
    00000036 09               [11]  207 	add	hl, bc
    00000037 7E               [ 7]  208 	ld	a, (hl)
    00000038 B7               [ 4]  209 	or	a, a
    00000039 28 0B            [12]  210 	jr	Z, 00101$
    0000003B F5               [11]  211 	push	af
    0000003C 33               [ 6]  212 	inc	sp
    0000003D CDr00r00         [17]  213 	call	_putchar
    00000040 33               [ 6]  214 	inc	sp
    00000041 DD 34 FF         [23]  215 	inc	-1 (ix)
    00000044 18 E6            [12]  216 	jr	00119$
    00000046                        217 00101$:
                                    218 ;src/banks_nonintrinsic.c:59: for (int8_t i = 0; (hello_rom_1[i]); i++) putchar(hello_rom_1[i]);
    00000046 0E 00            [ 7]  219 	ld	c, #0x00
    00000048                        220 00122$:
    00000048 79               [ 4]  221 	ld	a, c
    00000049 5F               [ 4]  222 	ld	e, a
    0000004A 07               [ 4]  223 	rlca
    0000004B 9F               [ 4]  224 	sbc	a, a
    0000004C 57               [ 4]  225 	ld	d, a
    0000004D C5               [11]  226 	push	bc
    0000004E D5               [11]  227 	push	de
    0000004F CDr00r00         [17]  228 	call	_set_ROM_bank1
    00000052 D1               [10]  229 	pop	de
    00000053 C1               [10]  230 	pop	bc
    00000054 21r00r00         [10]  231 	ld	hl, #_hello_rom_1
    00000057 19               [11]  232 	add	hl, de
    00000058 7E               [ 7]  233 	ld	a, (hl)
    00000059 B7               [ 4]  234 	or	a, a
    0000005A 28 0B            [12]  235 	jr	Z, 00102$
    0000005C C5               [11]  236 	push	bc
    0000005D F5               [11]  237 	push	af
    0000005E 33               [ 6]  238 	inc	sp
    0000005F CDr00r00         [17]  239 	call	_putchar
    00000062 33               [ 6]  240 	inc	sp
    00000063 C1               [10]  241 	pop	bc
    00000064 0C               [ 4]  242 	inc	c
    00000065 18 E1            [12]  243 	jr	00122$
    00000067                        244 00102$:
                                    245 ;src/banks_nonintrinsic.c:60: for (int8_t i = 0; (hello_rom_2[i]); i++) putchar(hello_rom_2[i]);
    00000067 0E 00            [ 7]  246 	ld	c, #0x00
    00000069                        247 00125$:
    00000069 79               [ 4]  248 	ld	a, c
    0000006A 5F               [ 4]  249 	ld	e, a
    0000006B 07               [ 4]  250 	rlca
    0000006C 9F               [ 4]  251 	sbc	a, a
    0000006D 57               [ 4]  252 	ld	d, a
    0000006E C5               [11]  253 	push	bc
    0000006F D5               [11]  254 	push	de
    00000070 CDr17r00         [17]  255 	call	_set_ROM_bank2
    00000073 D1               [10]  256 	pop	de
    00000074 C1               [10]  257 	pop	bc
    00000075 21r00r00         [10]  258 	ld	hl, #_hello_rom_2
    00000078 19               [11]  259 	add	hl, de
    00000079 7E               [ 7]  260 	ld	a, (hl)
    0000007A B7               [ 4]  261 	or	a, a
    0000007B 28 0B            [12]  262 	jr	Z, 00103$
    0000007D C5               [11]  263 	push	bc
    0000007E F5               [11]  264 	push	af
    0000007F 33               [ 6]  265 	inc	sp
    00000080 CDr00r00         [17]  266 	call	_putchar
    00000083 33               [ 6]  267 	inc	sp
    00000084 C1               [10]  268 	pop	bc
    00000085 0C               [ 4]  269 	inc	c
    00000086 18 E1            [12]  270 	jr	00125$
    00000088                        271 00103$:
                                    272 ;src/banks_nonintrinsic.c:63: for (int8_t i = 0; (i < sizeof(hello_rom_1)); i++) hello_sram_0[i] = hello_rom_1[i];
    00000088 0E 00            [ 7]  273 	ld	c, #0x00
    0000008A                        274 00128$:
    0000008A 79               [ 4]  275 	ld	a, c
    0000008B EE 80            [ 7]  276 	xor	a, #0x80
    0000008D D6 93            [ 7]  277 	sub	a, #0x93
    0000008F 3E 00            [ 7]  278 	ld	a, #0x00
    00000091 17               [ 4]  279 	rla
    00000092 47               [ 4]  280 	ld	b, a
    00000093 C5               [11]  281 	push	bc
    00000094 CDr00r00         [17]  282 	call	_set_ROM_bank1
    00000097 C1               [10]  283 	pop	bc
    00000098 78               [ 4]  284 	ld	a, b
    00000099 B7               [ 4]  285 	or	a, a
    0000009A 28 1D            [12]  286 	jr	Z, 00104$
    0000009C 59               [ 4]  287 	ld	e, c
    0000009D 21r00r00         [10]  288 	ld	hl, #_hello_sram_0
    000000A0 16 00            [ 7]  289 	ld	d, #0x00
    000000A2 19               [11]  290 	add	hl, de
    000000A3 FD 21r00r00      [14]  291 	ld	iy, #_hello_rom_1
    000000A7 16 00            [ 7]  292 	ld	d, #0x00
    000000A9 FD 19            [15]  293 	add	iy, de
    000000AB FD 46 00         [19]  294 	ld	b, 0 (iy)
    000000AE E5               [11]  295 	push	hl
    000000AF C5               [11]  296 	push	bc
    000000B0 CDr1Dr00         [17]  297 	call	_set_RAM_bank0
    000000B3 C1               [10]  298 	pop	bc
    000000B4 E1               [10]  299 	pop	hl
    000000B5 70               [ 7]  300 	ld	(hl), b
    000000B6 0C               [ 4]  301 	inc	c
    000000B7 18 D1            [12]  302 	jr	00128$
    000000B9                        303 00104$:
                                    304 ;src/banks_nonintrinsic.c:64: for (int8_t i = 0; (i < 4); i++) hello_sram_0[i + 11] = data[i];
    000000B9 0E 00            [ 7]  305 	ld	c, #0x00
    000000BB C5               [11]  306 	push	bc
    000000BC CDr1Dr00         [17]  307 	call	_set_RAM_bank0
    000000BF C1               [10]  308 	pop	bc
    000000C0                        309 00131$:
    000000C0 79               [ 4]  310 	ld	a,c
    000000C1 FE 04            [ 7]  311 	cp	a,#0x04
    000000C3 30 17            [12]  312 	jr	NC, 00105$
    000000C5 C6 0B            [ 7]  313 	add	a, #0x0b
    000000C7 6F               [ 4]  314 	ld	l, a
    000000C8 26 00            [ 7]  315 	ld	h, #0x00
    000000CA 11r00r00         [10]  316 	ld	de, #_hello_sram_0
    000000CD 19               [11]  317 	add	hl, de
    000000CE 79               [ 4]  318 	ld	a, c
    000000CF C6r01            [ 7]  319 	add	a, #<(_data)
    000000D1 5F               [ 4]  320 	ld	e, a
    000000D2 3E 00            [ 7]  321 	ld	a, #0x00
    000000D4 CEs00            [ 7]  322 	adc	a, #>(_data)
    000000D6 57               [ 4]  323 	ld	d, a
    000000D7 1A               [ 7]  324 	ld	a, (de)
    000000D8 77               [ 7]  325 	ld	(hl), a
    000000D9 0C               [ 4]  326 	inc	c
    000000DA 18 E4            [12]  327 	jr	00131$
    000000DC                        328 00105$:
                                    329 ;src/banks_nonintrinsic.c:65: for (int8_t i = 0; (hello_sram_0[i]); i++) putchar(hello_sram_0[i]);
    000000DC 1E 00            [ 7]  330 	ld	e, #0x00
    000000DE                        331 00134$:
    000000DE 7B               [ 4]  332 	ld	a, e
    000000DF 4F               [ 4]  333 	ld	c, a
    000000E0 07               [ 4]  334 	rlca
    000000E1 9F               [ 4]  335 	sbc	a, a
    000000E2 47               [ 4]  336 	ld	b, a
    000000E3 21r00r00         [10]  337 	ld	hl, #_hello_sram_0
    000000E6 09               [11]  338 	add	hl, bc
    000000E7 7E               [ 7]  339 	ld	a, (hl)
    000000E8 B7               [ 4]  340 	or	a, a
    000000E9 28 0E            [12]  341 	jr	Z, 00106$
    000000EB D5               [11]  342 	push	de
    000000EC F5               [11]  343 	push	af
    000000ED 33               [ 6]  344 	inc	sp
    000000EE CDr00r00         [17]  345 	call	_putchar
    000000F1 33               [ 6]  346 	inc	sp
    000000F2 CDr1Dr00         [17]  347 	call	_set_RAM_bank0
    000000F5 D1               [10]  348 	pop	de
    000000F6 1C               [ 4]  349 	inc	e
    000000F7 18 E5            [12]  350 	jr	00134$
    000000F9                        351 00106$:
                                    352 ;src/banks_nonintrinsic.c:68: for (int8_t i = 0; (i < sizeof(hello_rom_2)); i++) hello_sram_1[i] = hello_rom_2[i];
    000000F9 0E 00            [ 7]  353 	ld	c, #0x00
    000000FB                        354 00137$:
    000000FB 79               [ 4]  355 	ld	a, c
    000000FC EE 80            [ 7]  356 	xor	a, #0x80
    000000FE D6 93            [ 7]  357 	sub	a, #0x93
    00000100 3E 00            [ 7]  358 	ld	a, #0x00
    00000102 17               [ 4]  359 	rla
    00000103 47               [ 4]  360 	ld	b, a
    00000104 C5               [11]  361 	push	bc
    00000105 CDr17r00         [17]  362 	call	_set_ROM_bank2
    00000108 C1               [10]  363 	pop	bc
    00000109 78               [ 4]  364 	ld	a, b
    0000010A B7               [ 4]  365 	or	a, a
    0000010B 28 1D            [12]  366 	jr	Z, 00107$
    0000010D 59               [ 4]  367 	ld	e, c
    0000010E 21r00r00         [10]  368 	ld	hl, #_hello_sram_1
    00000111 16 00            [ 7]  369 	ld	d, #0x00
    00000113 19               [11]  370 	add	hl, de
    00000114 FD 21r00r00      [14]  371 	ld	iy, #_hello_rom_2
    00000118 16 00            [ 7]  372 	ld	d, #0x00
    0000011A FD 19            [15]  373 	add	iy, de
    0000011C FD 46 00         [19]  374 	ld	b, 0 (iy)
    0000011F E5               [11]  375 	push	hl
    00000120 C5               [11]  376 	push	bc
    00000121 CDr2Ar00         [17]  377 	call	_set_RAM_bank1
    00000124 C1               [10]  378 	pop	bc
    00000125 E1               [10]  379 	pop	hl
    00000126 70               [ 7]  380 	ld	(hl), b
    00000127 0C               [ 4]  381 	inc	c
    00000128 18 D1            [12]  382 	jr	00137$
    0000012A                        383 00107$:
                                    384 ;src/banks_nonintrinsic.c:69: for (int8_t i = 0; (i < 4); i++) hello_sram_1[i + 11] = data[i];
    0000012A 0E 00            [ 7]  385 	ld	c, #0x00
    0000012C C5               [11]  386 	push	bc
    0000012D CDr2Ar00         [17]  387 	call	_set_RAM_bank1
    00000130 C1               [10]  388 	pop	bc
    00000131                        389 00140$:
    00000131 79               [ 4]  390 	ld	a,c
    00000132 FE 04            [ 7]  391 	cp	a,#0x04
    00000134 30 17            [12]  392 	jr	NC, 00108$
    00000136 C6 0B            [ 7]  393 	add	a, #0x0b
    00000138 6F               [ 4]  394 	ld	l, a
    00000139 26 00            [ 7]  395 	ld	h, #0x00
    0000013B 11r00r00         [10]  396 	ld	de, #_hello_sram_1
    0000013E 19               [11]  397 	add	hl, de
    0000013F 79               [ 4]  398 	ld	a, c
    00000140 C6r01            [ 7]  399 	add	a, #<(_data)
    00000142 5F               [ 4]  400 	ld	e, a
    00000143 3E 00            [ 7]  401 	ld	a, #0x00
    00000145 CEs00            [ 7]  402 	adc	a, #>(_data)
    00000147 57               [ 4]  403 	ld	d, a
    00000148 1A               [ 7]  404 	ld	a, (de)
    00000149 77               [ 7]  405 	ld	(hl), a
    0000014A 0C               [ 4]  406 	inc	c
    0000014B 18 E4            [12]  407 	jr	00140$
    0000014D                        408 00108$:
                                    409 ;src/banks_nonintrinsic.c:70: for (int8_t i = 0; (hello_sram_1[i]); i++) putchar(hello_sram_1[i]);
    0000014D 0E 00            [ 7]  410 	ld	c, #0x00
    0000014F                        411 00143$:
    0000014F 79               [ 4]  412 	ld	a, c
    00000150 5F               [ 4]  413 	ld	e, a
    00000151 07               [ 4]  414 	rlca
    00000152 9F               [ 4]  415 	sbc	a, a
    00000153 57               [ 4]  416 	ld	d, a
    00000154 21r00r00         [10]  417 	ld	hl, #_hello_sram_1
    00000157 19               [11]  418 	add	hl, de
    00000158 7E               [ 7]  419 	ld	a, (hl)
    00000159 B7               [ 4]  420 	or	a, a
    0000015A 28 0E            [12]  421 	jr	Z, 00109$
    0000015C C5               [11]  422 	push	bc
    0000015D F5               [11]  423 	push	af
    0000015E 33               [ 6]  424 	inc	sp
    0000015F CDr00r00         [17]  425 	call	_putchar
    00000162 33               [ 6]  426 	inc	sp
    00000163 CDr2Ar00         [17]  427 	call	_set_RAM_bank1
    00000166 C1               [10]  428 	pop	bc
    00000167 0C               [ 4]  429 	inc	c
    00000168 18 E5            [12]  430 	jr	00143$
    0000016A                        431 00109$:
                                    432 ;src/banks_nonintrinsic.c:72: printf("once more...\n");
    0000016A 21rC4r02         [10]  433 	ld	hl, #___str_2
    0000016D CDr00r00         [17]  434 	call	_puts
                                    435 ;src/banks_nonintrinsic.c:74: for (int8_t i = 0; (hello_code[i]); i++) putchar(hello_code[i]);
    00000170 0E 00            [ 7]  436 	ld	c, #0x00
    00000172                        437 00146$:
    00000172 79               [ 4]  438 	ld	a, c
    00000173 5F               [ 4]  439 	ld	e, a
    00000174 07               [ 4]  440 	rlca
    00000175 9F               [ 4]  441 	sbc	a, a
    00000176 57               [ 4]  442 	ld	d, a
    00000177 21r06r00         [10]  443 	ld	hl, #_hello_code
    0000017A 19               [11]  444 	add	hl, de
    0000017B 7E               [ 7]  445 	ld	a, (hl)
    0000017C B7               [ 4]  446 	or	a, a
    0000017D 28 0B            [12]  447 	jr	Z, 00110$
    0000017F C5               [11]  448 	push	bc
    00000180 F5               [11]  449 	push	af
    00000181 33               [ 6]  450 	inc	sp
    00000182 CDr00r00         [17]  451 	call	_putchar
    00000185 33               [ 6]  452 	inc	sp
    00000186 C1               [10]  453 	pop	bc
    00000187 0C               [ 4]  454 	inc	c
    00000188 18 E8            [12]  455 	jr	00146$
    0000018A                        456 00110$:
                                    457 ;src/banks_nonintrinsic.c:75: for (int8_t i = 0; (hello_rom_1[i]); i++) putchar(hello_rom_1[i]);
    0000018A 0E 00            [ 7]  458 	ld	c, #0x00
    0000018C                        459 00149$:
    0000018C 79               [ 4]  460 	ld	a, c
    0000018D 5F               [ 4]  461 	ld	e, a
    0000018E 07               [ 4]  462 	rlca
    0000018F 9F               [ 4]  463 	sbc	a, a
    00000190 57               [ 4]  464 	ld	d, a
    00000191 C5               [11]  465 	push	bc
    00000192 D5               [11]  466 	push	de
    00000193 CDr00r00         [17]  467 	call	_set_ROM_bank1
    00000196 D1               [10]  468 	pop	de
    00000197 C1               [10]  469 	pop	bc
    00000198 21r00r00         [10]  470 	ld	hl, #_hello_rom_1
    0000019B 19               [11]  471 	add	hl, de
    0000019C 7E               [ 7]  472 	ld	a, (hl)
    0000019D B7               [ 4]  473 	or	a, a
    0000019E 28 0B            [12]  474 	jr	Z, 00111$
    000001A0 C5               [11]  475 	push	bc
    000001A1 F5               [11]  476 	push	af
    000001A2 33               [ 6]  477 	inc	sp
    000001A3 CDr00r00         [17]  478 	call	_putchar
    000001A6 33               [ 6]  479 	inc	sp
    000001A7 C1               [10]  480 	pop	bc
    000001A8 0C               [ 4]  481 	inc	c
    000001A9 18 E1            [12]  482 	jr	00149$
    000001AB                        483 00111$:
                                    484 ;src/banks_nonintrinsic.c:76: for (int8_t i = 0; (hello_rom_2[i]); i++) putchar(hello_rom_2[i]);
    000001AB 0E 00            [ 7]  485 	ld	c, #0x00
    000001AD                        486 00152$:
    000001AD 79               [ 4]  487 	ld	a, c
    000001AE 5F               [ 4]  488 	ld	e, a
    000001AF 07               [ 4]  489 	rlca
    000001B0 9F               [ 4]  490 	sbc	a, a
    000001B1 57               [ 4]  491 	ld	d, a
    000001B2 C5               [11]  492 	push	bc
    000001B3 D5               [11]  493 	push	de
    000001B4 CDr17r00         [17]  494 	call	_set_ROM_bank2
    000001B7 D1               [10]  495 	pop	de
    000001B8 C1               [10]  496 	pop	bc
    000001B9 21r00r00         [10]  497 	ld	hl, #_hello_rom_2
    000001BC 19               [11]  498 	add	hl, de
    000001BD 7E               [ 7]  499 	ld	a, (hl)
    000001BE B7               [ 4]  500 	or	a, a
    000001BF 28 0B            [12]  501 	jr	Z, 00112$
    000001C1 C5               [11]  502 	push	bc
    000001C2 F5               [11]  503 	push	af
    000001C3 33               [ 6]  504 	inc	sp
    000001C4 CDr00r00         [17]  505 	call	_putchar
    000001C7 33               [ 6]  506 	inc	sp
    000001C8 C1               [10]  507 	pop	bc
    000001C9 0C               [ 4]  508 	inc	c
    000001CA 18 E1            [12]  509 	jr	00152$
    000001CC                        510 00112$:
                                    511 ;src/banks_nonintrinsic.c:77: for (int8_t i = 0; (hello_sram_0[i]); i++) putchar(hello_sram_0[i]);
    000001CC 0E 00            [ 7]  512 	ld	c, #0x00
    000001CE                        513 00155$:
    000001CE 79               [ 4]  514 	ld	a, c
    000001CF 5F               [ 4]  515 	ld	e, a
    000001D0 07               [ 4]  516 	rlca
    000001D1 9F               [ 4]  517 	sbc	a, a
    000001D2 57               [ 4]  518 	ld	d, a
    000001D3 C5               [11]  519 	push	bc
    000001D4 D5               [11]  520 	push	de
    000001D5 CDr1Dr00         [17]  521 	call	_set_RAM_bank0
    000001D8 D1               [10]  522 	pop	de
    000001D9 C1               [10]  523 	pop	bc
    000001DA 21r00r00         [10]  524 	ld	hl, #_hello_sram_0
    000001DD 19               [11]  525 	add	hl, de
    000001DE 7E               [ 7]  526 	ld	a, (hl)
    000001DF B7               [ 4]  527 	or	a, a
    000001E0 28 0B            [12]  528 	jr	Z, 00113$
    000001E2 C5               [11]  529 	push	bc
    000001E3 F5               [11]  530 	push	af
    000001E4 33               [ 6]  531 	inc	sp
    000001E5 CDr00r00         [17]  532 	call	_putchar
    000001E8 33               [ 6]  533 	inc	sp
    000001E9 C1               [10]  534 	pop	bc
    000001EA 0C               [ 4]  535 	inc	c
    000001EB 18 E1            [12]  536 	jr	00155$
    000001ED                        537 00113$:
                                    538 ;src/banks_nonintrinsic.c:78: for (int8_t i = 0; (hello_sram_1[i]); i++) putchar(hello_sram_1[i]);
    000001ED 0E 00            [ 7]  539 	ld	c, #0x00
    000001EF                        540 00158$:
    000001EF 79               [ 4]  541 	ld	a, c
    000001F0 5F               [ 4]  542 	ld	e, a
    000001F1 07               [ 4]  543 	rlca
    000001F2 9F               [ 4]  544 	sbc	a, a
    000001F3 57               [ 4]  545 	ld	d, a
    000001F4 C5               [11]  546 	push	bc
    000001F5 D5               [11]  547 	push	de
    000001F6 CDr2Ar00         [17]  548 	call	_set_RAM_bank1
    000001F9 D1               [10]  549 	pop	de
    000001FA C1               [10]  550 	pop	bc
    000001FB 21r00r00         [10]  551 	ld	hl, #_hello_sram_1
    000001FE 19               [11]  552 	add	hl, de
    000001FF 7E               [ 7]  553 	ld	a, (hl)
    00000200 B7               [ 4]  554 	or	a, a
    00000201 28 0B            [12]  555 	jr	Z, 00114$
    00000203 C5               [11]  556 	push	bc
    00000204 F5               [11]  557 	push	af
    00000205 33               [ 6]  558 	inc	sp
    00000206 CDr00r00         [17]  559 	call	_putchar
    00000209 33               [ 6]  560 	inc	sp
    0000020A C1               [10]  561 	pop	bc
    0000020B 0C               [ 4]  562 	inc	c
    0000020C 18 E1            [12]  563 	jr	00158$
    0000020E                        564 00114$:
                                    565 ;src/banks_nonintrinsic.c:80: printf("once more...\n");
    0000020E 21rC4r02         [10]  566 	ld	hl, #___str_2
    00000211 CDr00r00         [17]  567 	call	_puts
                                    568 ;src/banks_nonintrinsic.c:82: printf("%s", hello_code);
    00000214 21r06r00         [10]  569 	ld	hl, #_hello_code
    00000217 E5               [11]  570 	push	hl
    00000218 21rD1r02         [10]  571 	ld	hl, #___str_4
    0000021B E5               [11]  572 	push	hl
    0000021C CDr00r00         [17]  573 	call	_printf
    0000021F F1               [10]  574 	pop	af
    00000220 F1               [10]  575 	pop	af
                                    576 ;src/banks_nonintrinsic.c:83: printf("%s", switch_to(hello_rom_1));
    00000221 CDr00r00         [17]  577 	call	_set_ROM_bank1
    00000224 3Ar00r00         [13]  578 	ld	a, (#_hello_rom_1 + 0)
    00000227 32r00r00         [13]  579 	ld	(___dummy_variable+0), a
    0000022A 21r00r00         [10]  580 	ld	hl, #_hello_rom_1
    0000022D E5               [11]  581 	push	hl
    0000022E 21rD1r02         [10]  582 	ld	hl, #___str_4
    00000231 E5               [11]  583 	push	hl
    00000232 CDr00r00         [17]  584 	call	_printf
    00000235 F1               [10]  585 	pop	af
    00000236 F1               [10]  586 	pop	af
                                    587 ;src/banks_nonintrinsic.c:84: printf("%s", switch_to(hello_rom_2));
    00000237 CDr17r00         [17]  588 	call	_set_ROM_bank2
    0000023A 3Ar00r00         [13]  589 	ld	a, (#_hello_rom_2 + 0)
    0000023D 32r00r00         [13]  590 	ld	(___dummy_variable+0), a
    00000240 21r00r00         [10]  591 	ld	hl, #_hello_rom_2
    00000243 E5               [11]  592 	push	hl
    00000244 21rD1r02         [10]  593 	ld	hl, #___str_4
    00000247 E5               [11]  594 	push	hl
    00000248 CDr00r00         [17]  595 	call	_printf
    0000024B F1               [10]  596 	pop	af
    0000024C F1               [10]  597 	pop	af
                                    598 ;src/banks_nonintrinsic.c:85: printf("%s", switch_to(hello_sram_0));
    0000024D CDr1Dr00         [17]  599 	call	_set_RAM_bank0
    00000250 3Ar00r00         [13]  600 	ld	a, (#_hello_sram_0 + 0)
    00000253 32r00r00         [13]  601 	ld	(___dummy_variable+0), a
    00000256 01r00r00         [10]  602 	ld	bc, #_hello_sram_0
    00000259 C5               [11]  603 	push	bc
    0000025A 21rD1r02         [10]  604 	ld	hl, #___str_4
    0000025D E5               [11]  605 	push	hl
    0000025E CDr00r00         [17]  606 	call	_printf
    00000261 F1               [10]  607 	pop	af
    00000262 F1               [10]  608 	pop	af
                                    609 ;src/banks_nonintrinsic.c:86: printf("%s", switch_to(hello_sram_1));
    00000263 CDr2Ar00         [17]  610 	call	_set_RAM_bank1
    00000266 3Ar00r00         [13]  611 	ld	a, (#_hello_sram_1 + 0)
    00000269 32r00r00         [13]  612 	ld	(___dummy_variable+0), a
    0000026C 01r00r00         [10]  613 	ld	bc, #_hello_sram_1
    0000026F C5               [11]  614 	push	bc
    00000270 21rD1r02         [10]  615 	ld	hl, #___str_4
    00000273 E5               [11]  616 	push	hl
    00000274 CDr00r00         [17]  617 	call	_printf
    00000277 F1               [10]  618 	pop	af
    00000278 F1               [10]  619 	pop	af
                                    620 ;src/banks_nonintrinsic.c:89: printf("1+2+4+8=0x%x", (int)(add_num_wram + add_num_sram_0 + (*add_num__ptr[0]) + (*add_num__ptr[1])));
    00000279 CDr1Dr00         [17]  621 	call	_set_RAM_bank0
    0000027C 21r14r00         [10]  622 	ld	hl, #_add_num_sram_0
    0000027F 3Ar15r00         [13]  623 	ld	a, (_add_num_wram+0)
    00000282 86               [ 7]  624 	add	a, (hl)
    00000283 23               [ 6]  625 	inc	hl
    00000284 4F               [ 4]  626 	ld	c, a
    00000285 3Ar16r00         [13]  627 	ld	a, (_add_num_wram+1)
    00000288 8E               [ 7]  628 	adc	a, (hl)
    00000289 47               [ 4]  629 	ld	b, a
    0000028A C5               [11]  630 	push	bc
    0000028B CDr00r00         [17]  631 	call	_set_ROM_bank1
    0000028E C1               [10]  632 	pop	bc
    0000028F 2Ar13r00         [16]  633 	ld	hl, (#_add_num__ptr + 0)
    00000292 E5               [11]  634 	push	hl
    00000293 C5               [11]  635 	push	bc
    00000294 CDr2Ar00         [17]  636 	call	_set_RAM_bank1
    00000297 C1               [10]  637 	pop	bc
    00000298 E1               [10]  638 	pop	hl
    00000299 5E               [ 7]  639 	ld	e, (hl)
    0000029A 23               [ 6]  640 	inc	hl
    0000029B 56               [ 7]  641 	ld	d, (hl)
    0000029C D5               [11]  642 	push	de
    0000029D C5               [11]  643 	push	bc
    0000029E CDr00r00         [17]  644 	call	_set_ROM_bank1
    000002A1 C1               [10]  645 	pop	bc
    000002A2 E1               [10]  646 	pop	hl
    000002A3 09               [11]  647 	add	hl, bc
    000002A4 EB               [ 4]  648 	ex	de, hl
    000002A5 2Ar15r00         [16]  649 	ld	hl, (#_add_num__ptr + 2)
    000002A8 E5               [11]  650 	push	hl
    000002A9 D5               [11]  651 	push	de
    000002AA CDr2Ar00         [17]  652 	call	_set_RAM_bank1
    000002AD D1               [10]  653 	pop	de
    000002AE E1               [10]  654 	pop	hl
    000002AF 7E               [ 7]  655 	ld	a, (hl)
    000002B0 23               [ 6]  656 	inc	hl
    000002B1 66               [ 7]  657 	ld	h, (hl)
    000002B2 6F               [ 4]  658 	ld	l, a
    000002B3 19               [11]  659 	add	hl, de
    000002B4 01rD4r02         [10]  660 	ld	bc, #___str_5+0
    000002B7 E5               [11]  661 	push	hl
    000002B8 C5               [11]  662 	push	bc
    000002B9 CDr00r00         [17]  663 	call	_printf
    000002BC F1               [10]  664 	pop	af
    000002BD F1               [10]  665 	pop	af
                                    666 ;src/banks_nonintrinsic.c:92: while(1);
    000002BE                        667 00116$:
    000002BE 18 FE            [12]  668 	jr	00116$
                                    669 ;src/banks_nonintrinsic.c:93: }
    000002C0 33               [ 6]  670 	inc	sp
    000002C1 DD E1            [14]  671 	pop	ix
    000002C3 C9               [10]  672 	ret
    000002C4                        673 ___str_2:
    000002C4 6F 6E 63 65 20 6D 6F   674 	.ascii "once more..."
             72 65 2E 2E 2E
    000002D0 00                     675 	.db 0x00
    000002D1                        676 ___str_4:
    000002D1 25 73                  677 	.ascii "%s"
    000002D3 00                     678 	.db 0x00
    000002D4                        679 ___str_5:
    000002D4 31 2B 32 2B 34 2B 38   680 	.ascii "1+2+4+8=0x%x"
             3D 30 78 25 78
    000002E0 00                     681 	.db 0x00
                                    682 	.area _CODE
                                    683 	.area _INITIALIZER
    00000000                        684 __xinit___current_ram_bank:
    00000000 00                     685 	.db #0x00	; 0
    00000001                        686 __xinit__data:
    00000001 44 41 54 41            687 	.ascii "DATA"
    00000005 00                     688 	.db 0x00
    00000006 00                     689 	.db 0x00
    00000007 00                     690 	.db 0x00
    00000008 00                     691 	.db 0x00
    00000009 00                     692 	.db 0x00
    0000000A 00                     693 	.db 0x00
    0000000B 00                     694 	.db 0x00
    0000000C 00                     695 	.db 0x00
    0000000D 00                     696 	.db 0x00
    0000000E 00                     697 	.db 0x00
    0000000F 00                     698 	.db 0x00
    00000010 00                     699 	.db 0x00
    00000011 00                     700 	.db 0x00
    00000012 00                     701 	.db 0x00
    00000013 00                     702 	.db 0x00
    00000014 00                     703 	.db 0x00
    00000015                        704 __xinit__add_num_wram:
    00000015 01 00                  705 	.dw #0x0001
                                    706 	.area _CABS (ABS)
