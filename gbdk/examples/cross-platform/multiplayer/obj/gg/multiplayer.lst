                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module multiplayer
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _set_tile_2bpp_data
                                     12 	.globl _joypad_ex
                                     13 	.globl _joypad_init
                                     14 	.globl _vsync
                                     15 	.globl _joypads
                                     16 	.globl _sprite_data
                                     17 ;--------------------------------------------------------
                                     18 ; special function registers
                                     19 ;--------------------------------------------------------
                         00000000    20 _GG_STATE	=	0x0000
                         00000001    21 _GG_EXT_7BIT	=	0x0001
                         00000002    22 _GG_EXT_CTL	=	0x0002
                         00000003    23 _GG_SIO_SEND	=	0x0003
                         00000004    24 _GG_SIO_RECV	=	0x0004
                         00000005    25 _GG_SIO_CTL	=	0x0005
                         00000006    26 _GG_SOUND_PAN	=	0x0006
                         0000003E    27 _MEMORY_CTL	=	0x003e
                         0000003F    28 _JOY_CTL	=	0x003f
                         0000007E    29 _VCOUNTER	=	0x007e
                         0000007F    30 _PSG	=	0x007f
                         0000007F    31 _HCOUNTER	=	0x007f
                         000000BE    32 _VDP_DATA	=	0x00be
                         000000BF    33 _VDP_CMD	=	0x00bf
                         000000BF    34 _VDP_STATUS	=	0x00bf
                         000000DC    35 _JOY_PORT1	=	0x00dc
                         000000DD    36 _JOY_PORT2	=	0x00dd
                         000000F0    37 _FMADDRESS	=	0x00f0
                         000000F1    38 _FMDATA	=	0x00f1
                         000000F2    39 _AUDIOCTRL	=	0x00f2
                                     40 ;--------------------------------------------------------
                                     41 ; ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area _DATA
                         0000FFFC    44 _RAM_CONTROL	=	0xfffc
                         0000FFF8    45 _GLASSES_3D	=	0xfff8
                         0000FFFD    46 _MAP_FRAME0	=	0xfffd
                         0000FFFE    47 _MAP_FRAME1	=	0xfffe
                         0000FFFF    48 _MAP_FRAME2	=	0xffff
    00000000                         49 _joypads::
    00000000                         50 	.ds 5
                                     51 ;--------------------------------------------------------
                                     52 ; ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area _INITIALIZED
                                     55 ;--------------------------------------------------------
                                     56 ; absolute external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area _DABS (ABS)
                                     59 ;--------------------------------------------------------
                                     60 ; global & static initialisations
                                     61 ;--------------------------------------------------------
                                     62 	.area _HOME
                                     63 	.area _GSINIT
                                     64 	.area _GSFINAL
                                     65 	.area _GSINIT
                                     66 ;--------------------------------------------------------
                                     67 ; Home
                                     68 ;--------------------------------------------------------
                                     69 	.area _HOME
                                     70 	.area _HOME
                                     71 ;--------------------------------------------------------
                                     72 ; code
                                     73 ;--------------------------------------------------------
                                     74 	.area _CODE
                                     75 ;src/multiplayer.c:14: void main(void) {
                                     76 ;	---------------------------------
                                     77 ; Function main
                                     78 ; ---------------------------------
    00000000                         79 _main::
    00000000 DD E5            [15]   80 	push	ix
    00000002 DD 21 00 00      [14]   81 	ld	ix,#0
    00000006 DD 39            [15]   82 	add	ix,sp
    00000008 21 F9 FF         [10]   83 	ld	hl, #-7
    0000000B 39               [11]   84 	add	hl, sp
    0000000C F9               [ 6]   85 	ld	sp, hl
                                     86 ;src/multiplayer.c:15: set_sprite_data(0, 4, sprite_data);
                                     87 ;../../../include/sms/sms.h:644: set_tile_2bpp_data((uint8_t)(start) + 0x100u, ntiles, src, _current_2bpp_palette);
    0000000D 2Ar00r00         [16]   88 	ld	hl, (__current_2bpp_palette)
    00000010 E5               [11]   89 	push	hl
    00000011 21r32r02         [10]   90 	ld	hl, #_sprite_data
    00000014 E5               [11]   91 	push	hl
    00000015 21 04 00         [10]   92 	ld	hl, #0x0004
    00000018 E5               [11]   93 	push	hl
    00000019 21 00 01         [10]   94 	ld	hl, #0x0100
    0000001C E5               [11]   95 	push	hl
    0000001D CDr00r00         [17]   96 	call	_set_tile_2bpp_data
                                     97 ;src/multiplayer.c:16: for (uint8_t i = 0; i < 4; i++) {
    00000020 0E 00            [ 7]   98 	ld	c, #0x00
    00000022                         99 00127$:
    00000022 79               [ 4]  100 	ld	a, c
    00000023 D6 04            [ 7]  101 	sub	a, #0x04
    00000025 30 31            [12]  102 	jr	NC, 00101$
                                    103 ;../../../include/sms/sms.h:815: shadow_OAM[0x41+(nb << 1)] = tile;
    00000027 59               [ 4]  104 	ld	e, c
    00000028 16 00            [ 7]  105 	ld	d, #0x00
    0000002A EB               [ 4]  106 	ex	de, hl
    0000002B 29               [11]  107 	add	hl, hl
    0000002C EB               [ 4]  108 	ex	de, hl
    0000002D 21 41 00         [10]  109 	ld	hl, #0x0041
    00000030 19               [11]  110 	add	hl, de
    00000031 7D               [ 4]  111 	ld	a, l
    00000032 C6r00            [ 7]  112 	add	a, #<(_shadow_OAM)
    00000034 6F               [ 4]  113 	ld	l, a
    00000035 7C               [ 4]  114 	ld	a, h
    00000036 CEs00            [ 7]  115 	adc	a, #>(_shadow_OAM)
    00000038 67               [ 4]  116 	ld	h, a
    00000039 71               [ 7]  117 	ld	(hl), c
                                    118 ;src/multiplayer.c:19: DEVICE_SPRITE_PX_OFFSET_X + (i << 3) + ((DEVICE_SCREEN_PX_WIDTH - (4 * 8)) / 2), 
    0000003A 79               [ 4]  119 	ld	a, c
    0000003B 87               [ 4]  120 	add	a, a
    0000003C 87               [ 4]  121 	add	a, a
    0000003D 87               [ 4]  122 	add	a, a
    0000003E C6 70            [ 7]  123 	add	a, #0x70
    00000040 47               [ 4]  124 	ld	b, a
                                    125 ;../../../include/sms/sms.h:856: shadow_OAM[nb] = (y < VDP_SAT_TERM) ? y : 0xC0;
    00000041 79               [ 4]  126 	ld	a, c
    00000042 C6r00            [ 7]  127 	add	a, #<(_shadow_OAM)
    00000044 6F               [ 4]  128 	ld	l, a
    00000045 3E 00            [ 7]  129 	ld	a, #0x00
    00000047 CEs00            [ 7]  130 	adc	a, #>(_shadow_OAM)
    00000049 67               [ 4]  131 	ld	h, a
    0000004A 36 5B            [10]  132 	ld	(hl), #0x5b
                                    133 ;../../../include/sms/sms.h:857: shadow_OAM[0x40+(nb << 1)] = x;
    0000004C 21 40 00         [10]  134 	ld	hl, #0x0040
    0000004F 19               [11]  135 	add	hl, de
    00000050 11r00r00         [10]  136 	ld	de, #_shadow_OAM
    00000053 19               [11]  137 	add	hl, de
    00000054 70               [ 7]  138 	ld	(hl), b
                                    139 ;src/multiplayer.c:16: for (uint8_t i = 0; i < 4; i++) {
    00000055 0C               [ 4]  140 	inc	c
    00000056 18 CA            [12]  141 	jr	00127$
    00000058                        142 00101$:
                                    143 ;src/multiplayer.c:22: SHOW_SPRITES;
    00000058 AF               [ 4]  144 	xor	a, a
    00000059 32r00r00         [13]  145 	ld	(__sprites_OFF+0), a
                                    146 ;src/multiplayer.c:26: for (uint8_t i = 4; i != 0; i--) vsync();
    0000005C 0E 04            [ 7]  147 	ld	c, #0x04
    0000005E                        148 00130$:
    0000005E 79               [ 4]  149 	ld	a, c
    0000005F B7               [ 4]  150 	or	a, a
    00000060 28 06            [12]  151 	jr	Z, 00102$
    00000062 CDr00r00         [17]  152 	call	_vsync
    00000065 0D               [ 4]  153 	dec	c
    00000066 18 F6            [12]  154 	jr	00130$
    00000068                        155 00102$:
                                    156 ;src/multiplayer.c:29: joypad_init(4, &joypads);
    00000068 21r00r00         [10]  157 	ld	hl, #_joypads
    0000006B E5               [11]  158 	push	hl
    0000006C 3E 04            [ 7]  159 	ld	a, #0x04
    0000006E F5               [11]  160 	push	af
    0000006F 33               [ 6]  161 	inc	sp
    00000070 CDr00r00         [17]  162 	call	_joypad_init
                                    163 ;src/multiplayer.c:31: while(1) {
    00000073                        164 00116$:
                                    165 ;src/multiplayer.c:33: joypad_ex(&joypads);
    00000073 21r00r00         [10]  166 	ld	hl, #_joypads
    00000076 CDr00r00         [17]  167 	call	_joypad_ex
                                    168 ;src/multiplayer.c:35: for (uint8_t i = 0; i < joypads.npads; i++) {
    00000079 DD 36 FF 00      [19]  169 	ld	-1 (ix), #0x00
    0000007D                        170 00133$:
    0000007D 21r00r00         [10]  171 	ld	hl, #_joypads
    00000080 DD 7E FF         [19]  172 	ld	a,-1 (ix)
    00000083 96               [ 7]  173 	sub	a,(hl)
    00000084 D2rFFr01         [10]  174 	jp	NC, 00111$
                                    175 ;src/multiplayer.c:36: uint8_t joy = joypads.joypads[i];
    00000087 DD 6E FF         [19]  176 	ld	l, -1 (ix)
    0000008A 26 00            [ 7]  177 	ld	h, #0x00
    0000008C 11r01r00         [10]  178 	ld	de, #(_joypads + 1)
    0000008F 19               [11]  179 	add	hl, de
    00000090 7E               [ 7]  180 	ld	a, (hl)
    00000091 DD 77 FA         [19]  181 	ld	-6 (ix), a
                                    182 ;src/multiplayer.c:37: if (joy & J_LEFT) scroll_sprite(i, -1, 0);
    00000094 DD CB FA 56      [20]  183 	bit	2, -6 (ix)
    00000098 28 36            [12]  184 	jr	Z, 00104$
    0000009A DD 4E FF         [19]  185 	ld	c, -1 (ix)
                                    186 ;../../../include/sms/sms.h:872: uint8_t new_y = shadow_OAM[nb] + y;
    0000009D 11r00r00         [10]  187 	ld	de, #_shadow_OAM+0
    000000A0 DD 6E FF         [19]  188 	ld	l, -1 (ix)
    000000A3 26 00            [ 7]  189 	ld	h, #0x00
    000000A5 19               [11]  190 	add	hl, de
    000000A6 46               [ 7]  191 	ld	b, (hl)
                                    192 ;../../../include/sms/sms.h:873: shadow_OAM[nb] = (new_y < VDP_SAT_TERM) ? new_y : 0xC0;
    000000A7 11r00r00         [10]  193 	ld	de, #_shadow_OAM+0
    000000AA DD 6E FF         [19]  194 	ld	l, -1 (ix)
    000000AD 26 00            [ 7]  195 	ld	h, #0x00
    000000AF 19               [11]  196 	add	hl, de
    000000B0 78               [ 4]  197 	ld	a, b
    000000B1 D6 D0            [ 7]  198 	sub	a, #0xd0
    000000B3 38 02            [12]  199 	jr	C, 00143$
    000000B5 06 C0            [ 7]  200 	ld	b, #0xc0
    000000B7                        201 00143$:
    000000B7 70               [ 7]  202 	ld	(hl), b
                                    203 ;../../../include/sms/sms.h:874: shadow_OAM[0x40+(nb << 1)] += x;
    000000B8 06 00            [ 7]  204 	ld	b, #0x00
    000000BA 79               [ 4]  205 	ld	a, c
    000000BB 87               [ 4]  206 	add	a, a
    000000BC CB 10            [ 8]  207 	rl	b
    000000BE C6 40            [ 7]  208 	add	a, #0x40
    000000C0 4F               [ 4]  209 	ld	c, a
    000000C1 30 01            [12]  210 	jr	NC, 00286$
    000000C3 04               [ 4]  211 	inc	b
    000000C4                        212 00286$:
    000000C4 21r00r00         [10]  213 	ld	hl, #_shadow_OAM
    000000C7 09               [11]  214 	add	hl, bc
    000000C8 EB               [ 4]  215 	ex	de, hl
    000000C9 21r00r00         [10]  216 	ld	hl, #_shadow_OAM+0
    000000CC 09               [11]  217 	add	hl, bc
    000000CD 7E               [ 7]  218 	ld	a, (hl)
    000000CE 3D               [ 4]  219 	dec	a
    000000CF 12               [ 7]  220 	ld	(de), a
                                    221 ;src/multiplayer.c:37: if (joy & J_LEFT) scroll_sprite(i, -1, 0);
    000000D0                        222 00104$:
                                    223 ;src/multiplayer.c:38: if (joy & J_RIGHT) scroll_sprite(i, 1, 0);
    000000D0 DD CB FA 5E      [20]  224 	bit	3, -6 (ix)
    000000D4 28 4F            [12]  225 	jr	Z, 00106$
    000000D6 DD 7E FF         [19]  226 	ld	a, -1 (ix)
    000000D9 DD 77 FB         [19]  227 	ld	-5 (ix), a
                                    228 ;../../../include/sms/sms.h:872: uint8_t new_y = shadow_OAM[nb] + y;
    000000DC 01r00r00         [10]  229 	ld	bc, #_shadow_OAM+0
    000000DF DD 6E FF         [19]  230 	ld	l, -1 (ix)
    000000E2 26 00            [ 7]  231 	ld	h, #0x00
    000000E4 09               [11]  232 	add	hl, bc
    000000E5 4E               [ 7]  233 	ld	c, (hl)
                                    234 ;../../../include/sms/sms.h:873: shadow_OAM[nb] = (new_y < VDP_SAT_TERM) ? new_y : 0xC0;
    000000E6 DD 7E FF         [19]  235 	ld	a, -1 (ix)
    000000E9 C6r00            [ 7]  236 	add	a, #<(_shadow_OAM)
    000000EB DD 77 FC         [19]  237 	ld	-4 (ix), a
    000000EE 3E 00            [ 7]  238 	ld	a, #0x00
    000000F0 CEs00            [ 7]  239 	adc	a, #>(_shadow_OAM)
    000000F2 DD 77 FD         [19]  240 	ld	-3 (ix), a
    000000F5 79               [ 4]  241 	ld	a, c
    000000F6 D6 D0            [ 7]  242 	sub	a, #0xd0
    000000F8 30 05            [12]  243 	jr	NC, 00144$
    000000FA DD 71 FE         [19]  244 	ld	-2 (ix), c
    000000FD 18 04            [12]  245 	jr	00145$
    000000FF                        246 00144$:
    000000FF DD 36 FE C0      [19]  247 	ld	-2 (ix), #0xc0
    00000103                        248 00145$:
    00000103 DD 7E FE         [19]  249 	ld	a, -2 (ix)
    00000106 DD 6E FC         [19]  250 	ld	l, -4 (ix)
    00000109 DD 66 FD         [19]  251 	ld	h, -3 (ix)
    0000010C 77               [ 7]  252 	ld	(hl), a
                                    253 ;../../../include/sms/sms.h:874: shadow_OAM[0x40+(nb << 1)] += x;
    0000010D DD 6E FB         [19]  254 	ld	l, -5 (ix)
    00000110 26 00            [ 7]  255 	ld	h, #0x00
    00000112 29               [11]  256 	add	hl, hl
    00000113 01 40 00         [10]  257 	ld	bc, #0x40
    00000116 09               [11]  258 	add	hl,bc
    00000117 4D               [ 4]  259 	ld	c, l
    00000118 44               [ 4]  260 	ld	b, h
    00000119 21r00r00         [10]  261 	ld	hl, #_shadow_OAM
    0000011C 09               [11]  262 	add	hl, bc
    0000011D EB               [ 4]  263 	ex	de, hl
    0000011E 21r00r00         [10]  264 	ld	hl, #_shadow_OAM+0
    00000121 09               [11]  265 	add	hl, bc
    00000122 7E               [ 7]  266 	ld	a, (hl)
    00000123 3C               [ 4]  267 	inc	a
    00000124 12               [ 7]  268 	ld	(de), a
                                    269 ;src/multiplayer.c:38: if (joy & J_RIGHT) scroll_sprite(i, 1, 0);
    00000125                        270 00106$:
                                    271 ;src/multiplayer.c:39: if (joy & J_UP) scroll_sprite(i, 0, -1);
    00000125 DD CB FA 46      [20]  272 	bit	0, -6 (ix)
    00000129 28 37            [12]  273 	jr	Z, 00108$
    0000012B DD 4E FF         [19]  274 	ld	c, -1 (ix)
                                    275 ;../../../include/sms/sms.h:872: uint8_t new_y = shadow_OAM[nb] + y;
    0000012E 11r00r00         [10]  276 	ld	de, #_shadow_OAM+0
    00000131 DD 6E FF         [19]  277 	ld	l, -1 (ix)
    00000134 26 00            [ 7]  278 	ld	h, #0x00
    00000136 19               [11]  279 	add	hl, de
    00000137 7E               [ 7]  280 	ld	a, (hl)
    00000138 3D               [ 4]  281 	dec	a
    00000139 47               [ 4]  282 	ld	b, a
                                    283 ;../../../include/sms/sms.h:873: shadow_OAM[nb] = (new_y < VDP_SAT_TERM) ? new_y : 0xC0;
    0000013A 11r00r00         [10]  284 	ld	de, #_shadow_OAM+0
    0000013D DD 6E FF         [19]  285 	ld	l, -1 (ix)
    00000140 26 00            [ 7]  286 	ld	h, #0x00
    00000142 19               [11]  287 	add	hl, de
    00000143 78               [ 4]  288 	ld	a, b
    00000144 D6 D0            [ 7]  289 	sub	a, #0xd0
    00000146 38 02            [12]  290 	jr	C, 00147$
    00000148 06 C0            [ 7]  291 	ld	b, #0xc0
    0000014A                        292 00147$:
    0000014A 70               [ 7]  293 	ld	(hl), b
                                    294 ;../../../include/sms/sms.h:874: shadow_OAM[0x40+(nb << 1)] += x;
    0000014B 06 00            [ 7]  295 	ld	b, #0x00
    0000014D 79               [ 4]  296 	ld	a, c
    0000014E 87               [ 4]  297 	add	a, a
    0000014F CB 10            [ 8]  298 	rl	b
    00000151 C6 40            [ 7]  299 	add	a, #0x40
    00000153 4F               [ 4]  300 	ld	c, a
    00000154 30 01            [12]  301 	jr	NC, 00290$
    00000156 04               [ 4]  302 	inc	b
    00000157                        303 00290$:
    00000157 21r00r00         [10]  304 	ld	hl, #_shadow_OAM
    0000015A 09               [11]  305 	add	hl, bc
    0000015B EB               [ 4]  306 	ex	de, hl
    0000015C 21r00r00         [10]  307 	ld	hl, #_shadow_OAM
    0000015F 09               [11]  308 	add	hl, bc
    00000160 7E               [ 7]  309 	ld	a, (hl)
    00000161 12               [ 7]  310 	ld	(de), a
                                    311 ;src/multiplayer.c:39: if (joy & J_UP) scroll_sprite(i, 0, -1);
    00000162                        312 00108$:
                                    313 ;src/multiplayer.c:40: if (joy & J_DOWN) scroll_sprite(i, 0, 1);
    00000162 DD CB FA 4E      [20]  314 	bit	1, -6 (ix)
    00000166 CArF9r01         [10]  315 	jp	Z, 00134$
    00000169 DD 7E FF         [19]  316 	ld	a, -1 (ix)
    0000016C DD 77 FE         [19]  317 	ld	-2 (ix), a
                                    318 ;../../../include/sms/sms.h:872: uint8_t new_y = shadow_OAM[nb] + y;
    0000016F DD 7E FF         [19]  319 	ld	a, -1 (ix)
    00000172 C6r00            [ 7]  320 	add	a, #<(_shadow_OAM)
    00000174 DD 77 FC         [19]  321 	ld	-4 (ix), a
    00000177 3E 00            [ 7]  322 	ld	a, #0x00
    00000179 CEs00            [ 7]  323 	adc	a, #>(_shadow_OAM)
    0000017B DD 77 FD         [19]  324 	ld	-3 (ix), a
    0000017E DD 6E FC         [19]  325 	ld	l, -4 (ix)
    00000181 DD 66 FD         [19]  326 	ld	h, -3 (ix)
    00000184 4E               [ 7]  327 	ld	c, (hl)
    00000185 0C               [ 4]  328 	inc	c
                                    329 ;../../../include/sms/sms.h:873: shadow_OAM[nb] = (new_y < VDP_SAT_TERM) ? new_y : 0xC0;
    00000186 DD 7E FF         [19]  330 	ld	a, -1 (ix)
    00000189 C6r00            [ 7]  331 	add	a, #<(_shadow_OAM)
    0000018B DD 77 FB         [19]  332 	ld	-5 (ix), a
    0000018E 3E 00            [ 7]  333 	ld	a, #0x00
    00000190 CEs00            [ 7]  334 	adc	a, #>(_shadow_OAM)
    00000192 DD 77 FC         [19]  335 	ld	-4 (ix), a
    00000195 79               [ 4]  336 	ld	a, c
    00000196 D6 D0            [ 7]  337 	sub	a, #0xd0
    00000198 30 05            [12]  338 	jr	NC, 00148$
    0000019A DD 71 FD         [19]  339 	ld	-3 (ix), c
    0000019D 18 04            [12]  340 	jr	00149$
    0000019F                        341 00148$:
    0000019F DD 36 FD C0      [19]  342 	ld	-3 (ix), #0xc0
    000001A3                        343 00149$:
    000001A3 DD 7E FD         [19]  344 	ld	a, -3 (ix)
    000001A6 D1               [10]  345 	pop	de
    000001A7 E1               [10]  346 	pop	hl
    000001A8 E5               [11]  347 	push	hl
    000001A9 D5               [11]  348 	push	de
    000001AA 77               [ 7]  349 	ld	(hl), a
                                    350 ;../../../include/sms/sms.h:874: shadow_OAM[0x40+(nb << 1)] += x;
    000001AB DD 7E FE         [19]  351 	ld	a, -2 (ix)
    000001AE DD 77 FD         [19]  352 	ld	-3 (ix), a
    000001B1 DD 36 FE 00      [19]  353 	ld	-2 (ix), #0x00
    000001B5 DD CB FD 26      [23]  354 	sla	-3 (ix)
    000001B9 DD CB FE 16      [23]  355 	rl	-2 (ix)
    000001BD DD 7E FD         [19]  356 	ld	a, -3 (ix)
    000001C0 C6 40            [ 7]  357 	add	a, #0x40
    000001C2 DD 77 F9         [19]  358 	ld	-7 (ix), a
    000001C5 DD 7E FE         [19]  359 	ld	a, -2 (ix)
    000001C8 CE 00            [ 7]  360 	adc	a, #0x00
    000001CA DD 77 FA         [19]  361 	ld	-6 (ix), a
    000001CD DD 7E F9         [19]  362 	ld	a, -7 (ix)
    000001D0 C6r00            [ 7]  363 	add	a, #<(_shadow_OAM)
    000001D2 DD 77 FB         [19]  364 	ld	-5 (ix), a
    000001D5 DD 7E FA         [19]  365 	ld	a, -6 (ix)
    000001D8 CEs00            [ 7]  366 	adc	a, #>(_shadow_OAM)
    000001DA DD 77 FC         [19]  367 	ld	-4 (ix), a
    000001DD DD 7E F9         [19]  368 	ld	a, -7 (ix)
    000001E0 C6r00            [ 7]  369 	add	a, #<(_shadow_OAM)
    000001E2 DD 77 FD         [19]  370 	ld	-3 (ix), a
    000001E5 DD 7E FA         [19]  371 	ld	a, -6 (ix)
    000001E8 CEs00            [ 7]  372 	adc	a, #>(_shadow_OAM)
    000001EA DD 77 FE         [19]  373 	ld	-2 (ix), a
    000001ED DD 6E FD         [19]  374 	ld	l, -3 (ix)
    000001F0 DD 66 FE         [19]  375 	ld	h, -2 (ix)
    000001F3 7E               [ 7]  376 	ld	a, (hl)
    000001F4 D1               [10]  377 	pop	de
    000001F5 E1               [10]  378 	pop	hl
    000001F6 E5               [11]  379 	push	hl
    000001F7 D5               [11]  380 	push	de
    000001F8 77               [ 7]  381 	ld	(hl), a
                                    382 ;src/multiplayer.c:40: if (joy & J_DOWN) scroll_sprite(i, 0, 1);
    000001F9                        383 00134$:
                                    384 ;src/multiplayer.c:35: for (uint8_t i = 0; i < joypads.npads; i++) {
    000001F9 DD 34 FF         [23]  385 	inc	-1 (ix)
    000001FC C3r7Dr00         [10]  386 	jp	00133$
    000001FF                        387 00111$:
                                    388 ;src/multiplayer.c:43: if (joypads.joy0 & J_START) {
    000001FF 3Ar01r00         [13]  389 	ld	a, (#_joypads + 1)
    00000202 CB 77            [ 8]  390 	bit	6, a
    00000204 28 26            [12]  391 	jr	Z, 00114$
                                    392 ;src/multiplayer.c:44: for (uint8_t i = 0; i < 4; i++) move_sprite(i, (i << 3) + 64, 64);
    00000206 0E 00            [ 7]  393 	ld	c, #0x00
    00000208                        394 00136$:
    00000208 79               [ 4]  395 	ld	a,c
    00000209 FE 04            [ 7]  396 	cp	a,#0x04
    0000020B 30 1F            [12]  397 	jr	NC, 00114$
    0000020D 87               [ 4]  398 	add	a, a
    0000020E 87               [ 4]  399 	add	a, a
    0000020F 87               [ 4]  400 	add	a, a
    00000210 C6 40            [ 7]  401 	add	a, #0x40
    00000212 47               [ 4]  402 	ld	b, a
                                    403 ;../../../include/sms/sms.h:856: shadow_OAM[nb] = (y < VDP_SAT_TERM) ? y : 0xC0;
    00000213 11r00r00         [10]  404 	ld	de, #_shadow_OAM+0
    00000216 69               [ 4]  405 	ld	l, c
    00000217 26 00            [ 7]  406 	ld	h, #0x00
    00000219 19               [11]  407 	add	hl, de
    0000021A 36 40            [10]  408 	ld	(hl), #0x40
                                    409 ;../../../include/sms/sms.h:857: shadow_OAM[0x40+(nb << 1)] = x;
    0000021C 69               [ 4]  410 	ld	l, c
    0000021D 26 00            [ 7]  411 	ld	h, #0x00
    0000021F 29               [11]  412 	add	hl, hl
    00000220 11 40 00         [10]  413 	ld	de, #0x0040
    00000223 19               [11]  414 	add	hl, de
    00000224 11r00r00         [10]  415 	ld	de, #_shadow_OAM
    00000227 19               [11]  416 	add	hl, de
    00000228 70               [ 7]  417 	ld	(hl), b
                                    418 ;src/multiplayer.c:44: for (uint8_t i = 0; i < 4; i++) move_sprite(i, (i << 3) + 64, 64);
    00000229 0C               [ 4]  419 	inc	c
    0000022A 18 DC            [12]  420 	jr	00136$
    0000022C                        421 00114$:
                                    422 ;src/multiplayer.c:46: vsync();
    0000022C CDr00r00         [17]  423 	call	_vsync
                                    424 ;src/multiplayer.c:48: }
    0000022F C3r73r00         [10]  425 	jp	00116$
    00000232                        426 _sprite_data:
    00000232 3C                     427 	.db #0x3c	; 60
    00000233 3C                     428 	.db #0x3c	; 60
    00000234 42                     429 	.db #0x42	; 66	'B'
    00000235 7E                     430 	.db #0x7e	; 126
    00000236 99                     431 	.db #0x99	; 153
    00000237 FF                     432 	.db #0xff	; 255
    00000238 A9                     433 	.db #0xa9	; 169
    00000239 FF                     434 	.db #0xff	; 255
    0000023A 89                     435 	.db #0x89	; 137
    0000023B FF                     436 	.db #0xff	; 255
    0000023C 89                     437 	.db #0x89	; 137
    0000023D FF                     438 	.db #0xff	; 255
    0000023E 42                     439 	.db #0x42	; 66	'B'
    0000023F 7E                     440 	.db #0x7e	; 126
    00000240 3C                     441 	.db #0x3c	; 60
    00000241 3C                     442 	.db #0x3c	; 60
    00000242 3C                     443 	.db #0x3c	; 60
    00000243 3C                     444 	.db #0x3c	; 60
    00000244 42                     445 	.db #0x42	; 66	'B'
    00000245 7E                     446 	.db #0x7e	; 126
    00000246 B9                     447 	.db #0xb9	; 185
    00000247 FF                     448 	.db #0xff	; 255
    00000248 89                     449 	.db #0x89	; 137
    00000249 FF                     450 	.db #0xff	; 255
    0000024A 91                     451 	.db #0x91	; 145
    0000024B FF                     452 	.db #0xff	; 255
    0000024C B9                     453 	.db #0xb9	; 185
    0000024D FF                     454 	.db #0xff	; 255
    0000024E 42                     455 	.db #0x42	; 66	'B'
    0000024F 7E                     456 	.db #0x7e	; 126
    00000250 3C                     457 	.db #0x3c	; 60
    00000251 3C                     458 	.db #0x3c	; 60
    00000252 3C                     459 	.db #0x3c	; 60
    00000253 3C                     460 	.db #0x3c	; 60
    00000254 42                     461 	.db #0x42	; 66	'B'
    00000255 7E                     462 	.db #0x7e	; 126
    00000256 99                     463 	.db #0x99	; 153
    00000257 FF                     464 	.db #0xff	; 255
    00000258 89                     465 	.db #0x89	; 137
    00000259 FF                     466 	.db #0xff	; 255
    0000025A 99                     467 	.db #0x99	; 153
    0000025B FF                     468 	.db #0xff	; 255
    0000025C 89                     469 	.db #0x89	; 137
    0000025D FF                     470 	.db #0xff	; 255
    0000025E 5A                     471 	.db #0x5a	; 90	'Z'
    0000025F 7E                     472 	.db #0x7e	; 126
    00000260 3C                     473 	.db #0x3c	; 60
    00000261 3C                     474 	.db #0x3c	; 60
    00000262 3C                     475 	.db #0x3c	; 60
    00000263 3C                     476 	.db #0x3c	; 60
    00000264 42                     477 	.db #0x42	; 66	'B'
    00000265 7E                     478 	.db #0x7e	; 126
    00000266 A9                     479 	.db #0xa9	; 169
    00000267 FF                     480 	.db #0xff	; 255
    00000268 A9                     481 	.db #0xa9	; 169
    00000269 FF                     482 	.db #0xff	; 255
    0000026A B9                     483 	.db #0xb9	; 185
    0000026B FF                     484 	.db #0xff	; 255
    0000026C 89                     485 	.db #0x89	; 137
    0000026D FF                     486 	.db #0xff	; 255
    0000026E 42                     487 	.db #0x42	; 66	'B'
    0000026F 7E                     488 	.db #0x7e	; 126
    00000270 3C                     489 	.db #0x3c	; 60
    00000271 3C                     490 	.db #0x3c	; 60
                                    491 	.area _CODE
                                    492 	.area _INITIALIZER
                                    493 	.area _CABS (ABS)
