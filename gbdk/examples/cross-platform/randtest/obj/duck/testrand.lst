                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module testrand
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _main
                                     11 	.globl _waitpadup
                                     12 	.globl _waitpad
                                     13 	.globl _arand
                                     14 	.globl _initarand
                                     15 	.globl _rand
                                     16 	.globl _puts
                                     17 	.globl _printf
                                     18 ;--------------------------------------------------------
                                     19 ; special function registers
                                     20 ;--------------------------------------------------------
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _DATA
                                     25 ;--------------------------------------------------------
                                     26 ; ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _INITIALIZED
                                     29 ;--------------------------------------------------------
                                     30 ; absolute external ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _DABS (ABS)
                                     33 ;--------------------------------------------------------
                                     34 ; global & static initialisations
                                     35 ;--------------------------------------------------------
                                     36 	.area _HOME
                                     37 	.area _GSINIT
                                     38 	.area _GSFINAL
                                     39 	.area _GSINIT
                                     40 ;--------------------------------------------------------
                                     41 ; Home
                                     42 ;--------------------------------------------------------
                                     43 	.area _HOME
                                     44 	.area _HOME
                                     45 ;--------------------------------------------------------
                                     46 ; code
                                     47 ;--------------------------------------------------------
                                     48 	.area _CODE
                                     49 ;src/testrand.c:14: void main(void)
                                     50 ;	---------------------------------
                                     51 ; Function main
                                     52 ; ---------------------------------
    00000000                         53 _main::
    00000000 3B               [ 8]   54 	dec	sp
                                     55 ;src/testrand.c:16: puts("press A...");
    00000001 11r51r00         [12]   56 	ld	de, #___str_0
    00000004 CDr00r00         [24]   57 	call	_puts
                                     58 ;src/testrand.c:17: waitpad(J_A);
    00000007 3E 10            [ 8]   59 	ld	a, #0x10
    00000009 CDr00r00         [24]   60 	call	_waitpad
                                     61 ;src/testrand.c:18: initarand(sys_time);
    0000000C FAr00r00         [16]   62 	ld	a, (_sys_time)
    0000000F 5F               [ 4]   63 	ld	e, a
    00000010 21r01r00         [12]   64 	ld	hl, #_sys_time + 1
    00000013 56               [ 8]   65 	ld	d, (hl)
    00000014 D5               [16]   66 	push	de
    00000015 CDr00r00         [24]   67 	call	_initarand
    00000018 E1               [12]   68 	pop	hl
                                     69 ;src/testrand.c:19: while(TRUE) {
    00000019                         70 00103$:
                                     71 ;src/testrand.c:20: waitpadup();
    00000019 CDr00r00         [24]   72 	call	_waitpadup
                                     73 ;src/testrand.c:21: for (uint8_t i = 0; i != 16; i++) 
    0000001C F8 00            [12]   74 	ldhl	sp,	#0
    0000001E 36 00            [12]   75 	ld	(hl), #0x00
    00000020                         76 00106$:
    00000020 F8 00            [12]   77 	ldhl	sp,	#0
    00000022 7E               [ 8]   78 	ld	a, (hl)
    00000023 D6 10            [ 8]   79 	sub	a, #0x10
    00000025 28 1B            [12]   80 	jr	Z, 00101$
                                     81 ;src/testrand.c:22: printf("r=%x a=%x\n", (uint16_t)rand(), (uint16_t)arand());
    00000027 CDr00r00         [24]   82 	call	_arand
    0000002A 4B               [ 4]   83 	ld	c, e
    0000002B 06 00            [ 8]   84 	ld	b, #0x00
    0000002D CDr00r00         [24]   85 	call	_rand
    00000030 AF               [ 4]   86 	xor	a, a
    00000031 C5               [16]   87 	push	bc
    00000032 57               [ 4]   88 	ld	d, a
    00000033 D5               [16]   89 	push	de
    00000034 11r5Cr00         [12]   90 	ld	de, #___str_1
    00000037 D5               [16]   91 	push	de
    00000038 CDr00r00         [24]   92 	call	_printf
    0000003B E8 06            [16]   93 	add	sp, #6
                                     94 ;src/testrand.c:21: for (uint8_t i = 0; i != 16; i++) 
    0000003D F8 00            [12]   95 	ldhl	sp,	#0
    0000003F 34               [12]   96 	inc	(hl)
    00000040 18 DE            [12]   97 	jr	00106$
    00000042                         98 00101$:
                                     99 ;src/testrand.c:23: puts("press A...");
    00000042 11r51r00         [12]  100 	ld	de, #___str_0
    00000045 CDr00r00         [24]  101 	call	_puts
                                    102 ;src/testrand.c:24: waitpad(J_A);
    00000048 3E 10            [ 8]  103 	ld	a, #0x10
    0000004A CDr00r00         [24]  104 	call	_waitpad
    0000004D 18 CA            [12]  105 	jr	00103$
                                    106 ;src/testrand.c:26: }
    0000004F 33               [ 8]  107 	inc	sp
    00000050 C9               [16]  108 	ret
    00000051                        109 ___str_0:
    00000051 70 72 65 73 73 20 41   110 	.ascii "press A..."
             2E 2E 2E
    0000005B 00                     111 	.db 0x00
    0000005C                        112 ___str_1:
    0000005C 72 3D 25 78 20 61 3D   113 	.ascii "r=%x a=%x"
             25 78
    00000065 0A                     114 	.db 0x0a
    00000066 00                     115 	.db 0x00
                                    116 	.area _CODE
                                    117 	.area _INITIALIZER
                                    118 	.area _CABS (ABS)
