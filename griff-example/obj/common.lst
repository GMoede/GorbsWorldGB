                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module common
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _getPlayerInput
                                     11 	.globl _strlen
                                     12 	.globl _get_bkg_xy_addr
                                     13 	.globl _set_vram_byte
                                     14 	.globl _joypad
                                     15 	.globl _increment
                                     16 	.globl _isIntroSequence
                                     17 	.globl _frameRealValue
                                     18 	.globl _frameCounter
                                     19 	.globl _joypadCurrent
                                     20 	.globl _playerY
                                     21 	.globl _playerX
                                     22 	.globl _fourFrameLaggingAnimation
                                     23 	.globl _updateFrameCounter
                                     24 	.globl _getCharacterVRamTile
                                     25 	.globl _drawTextCentered
                                     26 	.globl _drawText
                                     27 ;--------------------------------------------------------
                                     28 ; special function registers
                                     29 ;--------------------------------------------------------
                                     30 ;--------------------------------------------------------
                                     31 ; ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _DATA
    00000000                         34 _playerX::
    00000000                         35 	.ds 2
    00000002                         36 _playerY::
    00000002                         37 	.ds 2
                                     38 ;--------------------------------------------------------
                                     39 ; ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area _INITIALIZED
    00000000                         42 _joypadCurrent::
    00000000                         43 	.ds 1
    00000001                         44 _frameCounter::
    00000001                         45 	.ds 1
    00000002                         46 _frameRealValue::
    00000002                         47 	.ds 1
    00000003                         48 _isIntroSequence::
    00000003                         49 	.ds 1
    00000004                         50 _increment::
    00000004                         51 	.ds 1
                                     52 ;--------------------------------------------------------
                                     53 ; absolute external ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area _DABS (ABS)
                                     56 ;--------------------------------------------------------
                                     57 ; global & static initialisations
                                     58 ;--------------------------------------------------------
                                     59 	.area _HOME
                                     60 	.area _GSINIT
                                     61 	.area _GSFINAL
                                     62 	.area _GSINIT
                                     63 ;--------------------------------------------------------
                                     64 ; Home
                                     65 ;--------------------------------------------------------
                                     66 	.area _HOME
                                     67 	.area _HOME
                                     68 ;--------------------------------------------------------
                                     69 ; code
                                     70 ;--------------------------------------------------------
                                     71 	.area _CODE
                                     72 ;src/common.c:23: void getPlayerInput(uint16_t *nextPlayerX, uint16_t *nextPlayerY, int8_t *directionX, int8_t *directionY)
                                     73 ;	---------------------------------
                                     74 ; Function getPlayerInput
                                     75 ; ---------------------------------
    00000000                         76 _getPlayerInput::
    00000000 E8 F9            [16]   77 	add	sp, #-7
    00000002 F8 05            [12]   78 	ldhl	sp,	#5
    00000004 7B               [ 4]   79 	ld	a, e
    00000005 22               [ 8]   80 	ld	(hl+), a
    00000006 72               [ 8]   81 	ld	(hl), d
                                     82 ;src/common.c:27: uint8_t joypadCurrent = joypad();
    00000007 CDr00r00         [24]   83 	call	_joypad
    0000000A F8 00            [12]   84 	ldhl	sp,	#0
    0000000C 77               [ 8]   85 	ld	(hl), a
                                     86 ;src/common.c:29: *nextPlayerX = playerX;
    0000000D F8 05            [12]   87 	ldhl	sp,	#5
    0000000F 2A               [ 8]   88 	ld	a, (hl+)
    00000010 5F               [ 4]   89 	ld	e, a
    00000011 56               [ 8]   90 	ld	d, (hl)
    00000012 FAr00r00         [16]   91 	ld	a, (_playerX)
    00000015 12               [ 8]   92 	ld	(de), a
    00000016 13               [ 8]   93 	inc	de
    00000017 FAr01r00         [16]   94 	ld	a, (_playerX + 1)
    0000001A 12               [ 8]   95 	ld	(de), a
                                     96 ;src/common.c:30: *nextPlayerY = playerY;
    0000001B 59               [ 4]   97 	ld	e, c
    0000001C 50               [ 4]   98 	ld	d, b
    0000001D FAr02r00         [16]   99 	ld	a, (_playerY)
    00000020 12               [ 8]  100 	ld	(de), a
    00000021 13               [ 8]  101 	inc	de
    00000022 FAr03r00         [16]  102 	ld	a, (_playerY + 1)
    00000025 12               [ 8]  103 	ld	(de), a
                                    104 ;src/common.c:31: *directionY = 0;
    00000026 F8 0B            [12]  105 	ldhl	sp,	#11
    00000028 2A               [ 8]  106 	ld	a, (hl+)
    00000029 66               [ 8]  107 	ld	h, (hl)
    0000002A 6F               [ 4]  108 	ld	l, a
    0000002B 36 00            [12]  109 	ld	(hl), #0x00
                                    110 ;src/common.c:32: *directionX = 0;
    0000002D F8 09            [12]  111 	ldhl	sp,	#9
    0000002F 7E               [ 8]  112 	ld	a, (hl)
    00000030 F8 01            [12]  113 	ldhl	sp,	#1
    00000032 77               [ 8]  114 	ld	(hl), a
    00000033 F8 0A            [12]  115 	ldhl	sp,	#10
    00000035 7E               [ 8]  116 	ld	a, (hl)
    00000036 F8 02            [12]  117 	ldhl	sp,	#2
    00000038 32               [ 8]  118 	ld	(hl-), a
    00000039 2A               [ 8]  119 	ld	a, (hl+)
    0000003A 66               [ 8]  120 	ld	h, (hl)
    0000003B 6F               [ 4]  121 	ld	l, a
    0000003C 36 00            [12]  122 	ld	(hl), #0x00
                                    123 ;src/common.c:34: if (joypadCurrent & J_RIGHT)
    0000003E E5               [16]  124 	push	hl
    0000003F F8 02            [12]  125 	ldhl	sp,	#2
    00000041 CB 46            [12]  126 	bit	0, (hl)
    00000043 E1               [12]  127 	pop	hl
    00000044 28 23            [12]  128 	jr	Z, 00102$
                                    129 ;src/common.c:36: *nextPlayerX += 1;
    00000046 F8 05            [12]  130 	ldhl	sp,#5
    00000048 2A               [ 8]  131 	ld	a, (hl+)
    00000049 5F               [ 4]  132 	ld	e, a
    0000004A 56               [ 8]  133 	ld	d, (hl)
    0000004B 1A               [ 8]  134 	ld	a, (de)
    0000004C 6F               [ 4]  135 	ld	l, a
    0000004D 13               [ 8]  136 	inc	de
    0000004E 1A               [ 8]  137 	ld	a, (de)
    0000004F 67               [ 4]  138 	ld	h, a
    00000050 23               [ 8]  139 	inc	hl
    00000051 5D               [ 4]  140 	ld	e, l
    00000052 7C               [ 4]  141 	ld	a, h
    00000053 F8 03            [12]  142 	ldhl	sp,	#3
    00000055 73               [ 8]  143 	ld	(hl), e
    00000056 23               [ 8]  144 	inc	hl
    00000057 22               [ 8]  145 	ld	(hl+), a
    00000058 2A               [ 8]  146 	ld	a, (hl+)
    00000059 5F               [ 4]  147 	ld	e, a
    0000005A 56               [ 8]  148 	ld	d, (hl)
    0000005B F8 03            [12]  149 	ldhl	sp,	#3
    0000005D 2A               [ 8]  150 	ld	a, (hl+)
    0000005E 12               [ 8]  151 	ld	(de), a
    0000005F 13               [ 8]  152 	inc	de
    00000060 7E               [ 8]  153 	ld	a, (hl)
    00000061 12               [ 8]  154 	ld	(de), a
                                    155 ;src/common.c:37: *directionX = 1;
    00000062 F8 01            [12]  156 	ldhl	sp,	#1
    00000064 2A               [ 8]  157 	ld	a, (hl+)
    00000065 66               [ 8]  158 	ld	h, (hl)
    00000066 6F               [ 4]  159 	ld	l, a
    00000067 36 01            [12]  160 	ld	(hl), #0x01
    00000069                        161 00102$:
                                    162 ;src/common.c:39: if (joypadCurrent & J_LEFT)
    00000069 E5               [16]  163 	push	hl
    0000006A F8 02            [12]  164 	ldhl	sp,	#2
    0000006C CB 4E            [12]  165 	bit	1, (hl)
    0000006E E1               [12]  166 	pop	hl
    0000006F 28 23            [12]  167 	jr	Z, 00104$
                                    168 ;src/common.c:41: *nextPlayerX -= 1;
    00000071 F8 05            [12]  169 	ldhl	sp,#5
    00000073 2A               [ 8]  170 	ld	a, (hl+)
    00000074 5F               [ 4]  171 	ld	e, a
    00000075 56               [ 8]  172 	ld	d, (hl)
    00000076 1A               [ 8]  173 	ld	a, (de)
    00000077 6F               [ 4]  174 	ld	l, a
    00000078 13               [ 8]  175 	inc	de
    00000079 1A               [ 8]  176 	ld	a, (de)
    0000007A 5D               [ 4]  177 	ld	e, l
    0000007B 57               [ 4]  178 	ld	d, a
    0000007C 1B               [ 8]  179 	dec	de
    0000007D F8 03            [12]  180 	ldhl	sp,	#3
    0000007F 7B               [ 4]  181 	ld	a, e
    00000080 22               [ 8]  182 	ld	(hl+), a
    00000081 7A               [ 4]  183 	ld	a, d
    00000082 22               [ 8]  184 	ld	(hl+), a
    00000083 2A               [ 8]  185 	ld	a, (hl+)
    00000084 5F               [ 4]  186 	ld	e, a
    00000085 56               [ 8]  187 	ld	d, (hl)
    00000086 F8 03            [12]  188 	ldhl	sp,	#3
    00000088 2A               [ 8]  189 	ld	a, (hl+)
    00000089 12               [ 8]  190 	ld	(de), a
    0000008A 13               [ 8]  191 	inc	de
    0000008B 7E               [ 8]  192 	ld	a, (hl)
    0000008C 12               [ 8]  193 	ld	(de), a
                                    194 ;src/common.c:42: *directionX = -1;
    0000008D F8 01            [12]  195 	ldhl	sp,	#1
    0000008F 2A               [ 8]  196 	ld	a, (hl+)
    00000090 66               [ 8]  197 	ld	h, (hl)
    00000091 6F               [ 4]  198 	ld	l, a
    00000092 36 FF            [12]  199 	ld	(hl), #0xff
    00000094                        200 00104$:
                                    201 ;src/common.c:44: if (joypadCurrent & J_DOWN)
    00000094 E5               [16]  202 	push	hl
    00000095 F8 02            [12]  203 	ldhl	sp,	#2
    00000097 CB 5E            [12]  204 	bit	3, (hl)
    00000099 E1               [12]  205 	pop	hl
    0000009A 28 13            [12]  206 	jr	Z, 00106$
                                    207 ;src/common.c:46: *nextPlayerY += 1;
    0000009C 69               [ 4]  208 	ld	l, c
    0000009D 60               [ 4]  209 	ld	h, b
    0000009E 2A               [ 8]  210 	ld	a,	(hl+)
    0000009F 66               [ 8]  211 	ld	h, (hl)
    000000A0 5F               [ 4]  212 	ld	e, a
    000000A1 54               [ 4]  213 	ld	d, h
    000000A2 13               [ 8]  214 	inc	de
    000000A3 69               [ 4]  215 	ld	l, c
    000000A4 60               [ 4]  216 	ld	h, b
    000000A5 7B               [ 4]  217 	ld	a, e
    000000A6 22               [ 8]  218 	ld	(hl+), a
    000000A7 72               [ 8]  219 	ld	(hl), d
                                    220 ;src/common.c:47: *directionY = 1;
    000000A8 F8 0B            [12]  221 	ldhl	sp,	#11
    000000AA 2A               [ 8]  222 	ld	a, (hl+)
    000000AB 66               [ 8]  223 	ld	h, (hl)
    000000AC 6F               [ 4]  224 	ld	l, a
    000000AD 36 01            [12]  225 	ld	(hl), #0x01
    000000AF                        226 00106$:
                                    227 ;src/common.c:49: if (joypadCurrent & J_UP)
    000000AF E5               [16]  228 	push	hl
    000000B0 F8 02            [12]  229 	ldhl	sp,	#2
    000000B2 CB 56            [12]  230 	bit	2, (hl)
    000000B4 E1               [12]  231 	pop	hl
    000000B5 28 12            [12]  232 	jr	Z, 00109$
                                    233 ;src/common.c:51: *nextPlayerY -= 1;
    000000B7 69               [ 4]  234 	ld	l, c
    000000B8 60               [ 4]  235 	ld	h, b
    000000B9 2A               [ 8]  236 	ld	a,	(hl+)
    000000BA 66               [ 8]  237 	ld	h, (hl)
    000000BB 6F               [ 4]  238 	ld	l, a
    000000BC 2B               [ 8]  239 	dec	hl
    000000BD 7D               [ 4]  240 	ld	a, l
    000000BE 02               [ 8]  241 	ld	(bc), a
    000000BF 03               [ 8]  242 	inc	bc
    000000C0 7C               [ 4]  243 	ld	a, h
    000000C1 02               [ 8]  244 	ld	(bc), a
                                    245 ;src/common.c:52: *directionY = -1;
    000000C2 F8 0B            [12]  246 	ldhl	sp,	#11
    000000C4 2A               [ 8]  247 	ld	a, (hl+)
    000000C5 66               [ 8]  248 	ld	h, (hl)
    000000C6 6F               [ 4]  249 	ld	l, a
    000000C7 36 FF            [12]  250 	ld	(hl), #0xff
    000000C9                        251 00109$:
                                    252 ;src/common.c:54: }
    000000C9 E8 07            [16]  253 	add	sp, #7
    000000CB E1               [12]  254 	pop	hl
    000000CC E8 04            [16]  255 	add	sp, #4
    000000CE E9               [ 4]  256 	jp	(hl)
                                    257 ;src/common.c:89: void fourFrameLaggingAnimation(void){
                                    258 ;	---------------------------------
                                    259 ; Function fourFrameLaggingAnimation
                                    260 ; ---------------------------------
    000000CF                        261 _fourFrameLaggingAnimation::
                                    262 ;src/common.c:90: increment = 2;
    000000CF 21r04r00         [12]  263 	ld	hl, #_increment
    000000D2 36 02            [12]  264 	ld	(hl), #0x02
                                    265 ;src/common.c:91: frameCounter += increment;
    000000D4 21r01r00         [12]  266 	ld	hl, #_frameCounter
    000000D7 34               [12]  267 	inc	(hl)
    000000D8 34               [12]  268 	inc	(hl)
                                    269 ;src/common.c:92: frameRealValue = frameCounter >> 4;
    000000D9 7E               [ 8]  270 	ld	a, (hl)
    000000DA CB 37            [ 8]  271 	swap	a
    000000DC E6 0F            [ 8]  272 	and	a, #0x0f
    000000DE 21r02r00         [12]  273 	ld	hl, #_frameRealValue
                                    274 ;src/common.c:94: if (frameRealValue >= 4 && frameRealValue <= 5)
    000000E1 77               [ 8]  275 	ld	(hl), a
    000000E2 D6 04            [ 8]  276 	sub	a, #0x04
    000000E4 38 08            [12]  277 	jr	C, 00110$
    000000E6 3E 05            [ 8]  278 	ld	a, #0x05
    000000E8 96               [ 8]  279 	sub	a, (hl)
    000000E9 38 03            [12]  280 	jr	C, 00110$
                                    281 ;src/common.c:96: frameRealValue = 3;
    000000EB 36 03            [12]  282 	ld	(hl), #0x03
    000000ED C9               [16]  283 	ret
    000000EE                        284 00110$:
                                    285 ;src/common.c:98: else if (frameRealValue >= 10)
    000000EE 21r02r00         [12]  286 	ld	hl, #_frameRealValue
    000000F1 7E               [ 8]  287 	ld	a, (hl)
    000000F2 D6 0A            [ 8]  288 	sub	a, #0x0a
    000000F4 38 07            [12]  289 	jr	C, 00107$
                                    290 ;src/common.c:100: frameRealValue = 0;
    000000F6 36 00            [12]  291 	ld	(hl), #0x00
                                    292 ;src/common.c:101: frameCounter = 0;
    000000F8 AF               [ 4]  293 	xor	a, a
    000000F9 EAr01r00         [16]  294 	ld	(#_frameCounter),a
    000000FC C9               [16]  295 	ret
    000000FD                        296 00107$:
                                    297 ;src/common.c:103: else if (frameRealValue >= 9){
    000000FD 21r02r00         [12]  298 	ld	hl, #_frameRealValue
    00000100 7E               [ 8]  299 	ld	a, (hl)
    00000101 D6 09            [ 8]  300 	sub	a, #0x09
    00000103 38 03            [12]  301 	jr	C, 00104$
                                    302 ;src/common.c:104: frameRealValue = 0;
    00000105 36 00            [12]  303 	ld	(hl), #0x00
    00000107 C9               [16]  304 	ret
    00000108                        305 00104$:
                                    306 ;src/common.c:106: else if (frameRealValue >= 6)
    00000108 21r02r00         [12]  307 	ld	hl, #_frameRealValue
    0000010B 7E               [ 8]  308 	ld	a, (hl)
    0000010C D6 06            [ 8]  309 	sub	a, #0x06
    0000010E D8               [20]  310 	ret	C
                                    311 ;src/common.c:108: frameRealValue = 8 - frameRealValue;
    0000010F 3E 08            [ 8]  312 	ld	a, #0x08
    00000111 96               [ 8]  313 	sub	a, (hl)
    00000112 77               [ 8]  314 	ld	(hl), a
                                    315 ;src/common.c:110: }
    00000113 C9               [16]  316 	ret
                                    317 ;src/common.c:116: void updateFrameCounter(void)
                                    318 ;	---------------------------------
                                    319 ; Function updateFrameCounter
                                    320 ; ---------------------------------
    00000114                        321 _updateFrameCounter::
                                    322 ;src/common.c:119: if (isIntroSequence)
    00000114 FAr03r00         [16]  323 	ld	a, (#_isIntroSequence)
    00000117 B7               [ 4]  324 	or	a, a
                                    325 ;src/common.c:121: fourFrameLaggingAnimation();
    00000118 C2rCFr00         [16]  326 	jp	NZ, _fourFrameLaggingAnimation
                                    327 ;src/common.c:125: increment = 3;
    0000011B 21r04r00         [12]  328 	ld	hl, #_increment
    0000011E 36 03            [12]  329 	ld	(hl), #0x03
                                    330 ;src/common.c:126: frameCounter += increment;
    00000120 21r01r00         [12]  331 	ld	hl, #_frameCounter
    00000123 34               [12]  332 	inc	(hl)
    00000124 34               [12]  333 	inc	(hl)
    00000125 34               [12]  334 	inc	(hl)
                                    335 ;src/common.c:127: frameRealValue = frameCounter >> 4;
    00000126 7E               [ 8]  336 	ld	a, (hl)
    00000127 CB 37            [ 8]  337 	swap	a
    00000129 E6 0F            [ 8]  338 	and	a, #0x0f
    0000012B 21r02r00         [12]  339 	ld	hl, #_frameRealValue
                                    340 ;src/common.c:128: if (frameRealValue >= 10)
    0000012E 77               [ 8]  341 	ld	(hl), a
    0000012F D6 0A            [ 8]  342 	sub	a, #0x0a
    00000131 D8               [20]  343 	ret	C
                                    344 ;src/common.c:130: frameRealValue = 0;
    00000132 36 00            [12]  345 	ld	(hl), #0x00
                                    346 ;src/common.c:131: frameCounter = 0;
    00000134 AF               [ 4]  347 	xor	a, a
    00000135 EAr01r00         [16]  348 	ld	(#_frameCounter),a
                                    349 ;src/common.c:134: }
    00000138 C9               [16]  350 	ret
                                    351 ;src/common.c:136: uint8_t getCharacterVRamTile(char character)
                                    352 ;	---------------------------------
                                    353 ; Function getCharacterVRamTile
                                    354 ; ---------------------------------
    00000139                        355 _getCharacterVRamTile::
    00000139 47               [ 4]  356 	ld	b, a
                                    357 ;src/common.c:139: uint8_t vramTile = 0;
    0000013A 0E 00            [ 8]  358 	ld	c, #0x00
                                    359 ;src/common.c:144: if (character >= 'a' && character <= 'z')
    0000013C 78               [ 4]  360 	ld	a, b
    0000013D EE 80            [ 8]  361 	xor	a, #0x80
    0000013F D6 E1            [ 8]  362 	sub	a, #0xe1
    00000141 38 1E            [12]  363 	jr	C, 00120$
    00000143 58               [ 4]  364 	ld	e, b
    00000144 3E 7A            [ 8]  365 	ld	a,#0x7a
    00000146 57               [ 4]  366 	ld	d,a
    00000147 90               [ 4]  367 	sub	a, b
    00000148 CB 7B            [ 8]  368 	bit	7, e
    0000014A 28 07            [12]  369 	jr	Z, 00230$
    0000014C CB 7A            [ 8]  370 	bit	7, d
    0000014E 20 08            [12]  371 	jr	NZ, 00231$
    00000150 BF               [ 4]  372 	cp	a, a
    00000151 18 05            [12]  373 	jr	00231$
    00000153                        374 00230$:
    00000153 CB 7A            [ 8]  375 	bit	7, d
    00000155 28 01            [12]  376 	jr	Z, 00231$
    00000157 37               [ 4]  377 	scf
    00000158                        378 00231$:
    00000158 38 07            [12]  379 	jr	C, 00120$
                                    380 ;src/common.c:145: vramTile = (character - 'a') + 1;
    0000015A 78               [ 4]  381 	ld	a, b
    0000015B C6 A0            [ 8]  382 	add	a, #0xa0
    0000015D 4F               [ 4]  383 	ld	c, a
    0000015E C3rF2r01         [16]  384 	jp	00121$
    00000161                        385 00120$:
                                    386 ;src/common.c:146: else if (character >= 'A' && character <= 'Z')
    00000161 78               [ 4]  387 	ld	a, b
    00000162 EE 80            [ 8]  388 	xor	a, #0x80
    00000164 D6 C1            [ 8]  389 	sub	a, #0xc1
    00000166 38 1D            [12]  390 	jr	C, 00116$
    00000168 58               [ 4]  391 	ld	e, b
    00000169 3E 5A            [ 8]  392 	ld	a,#0x5a
    0000016B 57               [ 4]  393 	ld	d,a
    0000016C 90               [ 4]  394 	sub	a, b
    0000016D CB 7B            [ 8]  395 	bit	7, e
    0000016F 28 07            [12]  396 	jr	Z, 00232$
    00000171 CB 7A            [ 8]  397 	bit	7, d
    00000173 20 08            [12]  398 	jr	NZ, 00233$
    00000175 BF               [ 4]  399 	cp	a, a
    00000176 18 05            [12]  400 	jr	00233$
    00000178                        401 00232$:
    00000178 CB 7A            [ 8]  402 	bit	7, d
    0000017A 28 01            [12]  403 	jr	Z, 00233$
    0000017C 37               [ 4]  404 	scf
    0000017D                        405 00233$:
    0000017D 38 06            [12]  406 	jr	C, 00116$
                                    407 ;src/common.c:147: vramTile = (character - 'A') + 1;
    0000017F 78               [ 4]  408 	ld	a, b
    00000180 C6 C0            [ 8]  409 	add	a, #0xc0
    00000182 4F               [ 4]  410 	ld	c, a
    00000183 18 6D            [12]  411 	jr	00121$
    00000185                        412 00116$:
                                    413 ;src/common.c:148: else if (character >= '0' && character <= '9')
    00000185 78               [ 4]  414 	ld	a, b
    00000186 EE 80            [ 8]  415 	xor	a, #0x80
    00000188 D6 B0            [ 8]  416 	sub	a, #0xb0
    0000018A 38 1D            [12]  417 	jr	C, 00112$
    0000018C 58               [ 4]  418 	ld	e, b
    0000018D 3E 39            [ 8]  419 	ld	a,#0x39
    0000018F 57               [ 4]  420 	ld	d,a
    00000190 90               [ 4]  421 	sub	a, b
    00000191 CB 7B            [ 8]  422 	bit	7, e
    00000193 28 07            [12]  423 	jr	Z, 00234$
    00000195 CB 7A            [ 8]  424 	bit	7, d
    00000197 20 08            [12]  425 	jr	NZ, 00235$
    00000199 BF               [ 4]  426 	cp	a, a
    0000019A 18 05            [12]  427 	jr	00235$
    0000019C                        428 00234$:
    0000019C CB 7A            [ 8]  429 	bit	7, d
    0000019E 28 01            [12]  430 	jr	Z, 00235$
    000001A0 37               [ 4]  431 	scf
    000001A1                        432 00235$:
    000001A1 38 06            [12]  433 	jr	C, 00112$
                                    434 ;src/common.c:149: vramTile = (character - '0') + 27;
    000001A3 78               [ 4]  435 	ld	a, b
    000001A4 C6 EB            [ 8]  436 	add	a, #0xeb
    000001A6 4F               [ 4]  437 	ld	c, a
    000001A7 18 49            [12]  438 	jr	00121$
    000001A9                        439 00112$:
                                    440 ;src/common.c:152: switch (character)
    000001A9 78               [ 4]  441 	ld	a,b
    000001AA FE 21            [ 8]  442 	cp	a,#0x21
    000001AC 28 22            [12]  443 	jr	Z, 00101$
    000001AE FE 2C            [ 8]  444 	cp	a,#0x2c
    000001B0 28 32            [12]  445 	jr	Z, 00106$
    000001B2 FE 2E            [ 8]  446 	cp	a,#0x2e
    000001B4 28 32            [12]  447 	jr	Z, 00107$
    000001B6 FE 2F            [ 8]  448 	cp	a,#0x2f
    000001B8 28 22            [12]  449 	jr	Z, 00104$
    000001BA FE 3A            [ 8]  450 	cp	a,#0x3a
    000001BC 28 16            [12]  451 	jr	Z, 00102$
    000001BE FE 3C            [ 8]  452 	cp	a,#0x3c
    000001C0 28 2A            [12]  453 	jr	Z, 00108$
    000001C2 FE 3D            [ 8]  454 	cp	a,#0x3d
    000001C4 28 1A            [12]  455 	jr	Z, 00105$
    000001C6 FE 3E            [ 8]  456 	cp	a,#0x3e
    000001C8 28 26            [12]  457 	jr	Z, 00109$
    000001CA D6 3F            [ 8]  458 	sub	a, #0x3f
    000001CC 28 0A            [12]  459 	jr	Z, 00103$
    000001CE 18 22            [12]  460 	jr	00121$
                                    461 ;src/common.c:154: case '!':
    000001D0                        462 00101$:
                                    463 ;src/common.c:155: vramTile = 37;
    000001D0 0E 25            [ 8]  464 	ld	c, #0x25
                                    465 ;src/common.c:156: break;
    000001D2 18 1E            [12]  466 	jr	00121$
                                    467 ;src/common.c:157: case ':':
    000001D4                        468 00102$:
                                    469 ;src/common.c:158: vramTile = 38;
    000001D4 0E 26            [ 8]  470 	ld	c, #0x26
                                    471 ;src/common.c:159: break;
    000001D6 18 1A            [12]  472 	jr	00121$
                                    473 ;src/common.c:160: case '?':
    000001D8                        474 00103$:
                                    475 ;src/common.c:161: vramTile = 39;
    000001D8 0E 27            [ 8]  476 	ld	c, #0x27
                                    477 ;src/common.c:162: break;
    000001DA 18 16            [12]  478 	jr	00121$
                                    479 ;src/common.c:163: case '/':
    000001DC                        480 00104$:
                                    481 ;src/common.c:164: vramTile = 40;
    000001DC 0E 28            [ 8]  482 	ld	c, #0x28
                                    483 ;src/common.c:165: break;
    000001DE 18 12            [12]  484 	jr	00121$
                                    485 ;src/common.c:166: case '=':
    000001E0                        486 00105$:
                                    487 ;src/common.c:167: vramTile = 41;
    000001E0 0E 29            [ 8]  488 	ld	c, #0x29
                                    489 ;src/common.c:168: break;
    000001E2 18 0E            [12]  490 	jr	00121$
                                    491 ;src/common.c:169: case ',':
    000001E4                        492 00106$:
                                    493 ;src/common.c:170: vramTile = 42;
    000001E4 0E 2A            [ 8]  494 	ld	c, #0x2a
                                    495 ;src/common.c:171: break;
    000001E6 18 0A            [12]  496 	jr	00121$
                                    497 ;src/common.c:172: case '.':
    000001E8                        498 00107$:
                                    499 ;src/common.c:173: vramTile = 43;
    000001E8 0E 2B            [ 8]  500 	ld	c, #0x2b
                                    501 ;src/common.c:174: break;
    000001EA 18 06            [12]  502 	jr	00121$
                                    503 ;src/common.c:175: case '<':
    000001EC                        504 00108$:
                                    505 ;src/common.c:176: vramTile = 44;
    000001EC 0E 2C            [ 8]  506 	ld	c, #0x2c
                                    507 ;src/common.c:177: break;
    000001EE 18 02            [12]  508 	jr	00121$
                                    509 ;src/common.c:178: case '>':
    000001F0                        510 00109$:
                                    511 ;src/common.c:179: vramTile = 45;
    000001F0 0E 2D            [ 8]  512 	ld	c, #0x2d
                                    513 ;src/common.c:181: }
    000001F2                        514 00121$:
                                    515 ;src/common.c:184: return vramTile + splashscreen3_TILE_COUNT;
    000001F2 79               [ 4]  516 	ld	a, c
    000001F3 C6 B3            [ 8]  517 	add	a, #0xb3
                                    518 ;src/common.c:185: }
    000001F5 C9               [16]  519 	ret
                                    520 ;src/common.c:187: void drawTextCentered(uint8_t row, char *text)
                                    521 ;	---------------------------------
                                    522 ; Function drawTextCentered
                                    523 ; ---------------------------------
    000001F6                        524 _drawTextCentered::
    000001F6 4F               [ 4]  525 	ld	c, a
                                    526 ;src/common.c:189: uint8_t column = (20 - (uint8_t)strlen(text)) >> 1;
    000001F7 D5               [16]  527 	push	de
    000001F8 D5               [16]  528 	push	de
    000001F9 CDr00r00         [24]  529 	call	_strlen
    000001FC E1               [12]  530 	pop	hl
    000001FD 6B               [ 4]  531 	ld	l, e
    000001FE D1               [12]  532 	pop	de
    000001FF 26 00            [ 8]  533 	ld	h, #0x00
    00000201 3E 14            [ 8]  534 	ld	a, #0x14
    00000203 95               [ 4]  535 	sub	a, l
    00000204 6F               [ 4]  536 	ld	l, a
    00000205 9F               [ 4]  537 	sbc	a, a
    00000206 94               [ 4]  538 	sub	a, h
    00000207 47               [ 4]  539 	ld	b, a
    00000208 CB 28            [ 8]  540 	sra	b
    0000020A CB 1D            [ 8]  541 	rr	l
    0000020C 7D               [ 4]  542 	ld	a, l
                                    543 ;src/common.c:190: drawText(column, row, text);
    0000020D D5               [16]  544 	push	de
    0000020E 59               [ 4]  545 	ld	e, c
    0000020F CDr13r02         [24]  546 	call	_drawText
                                    547 ;src/common.c:191: }
    00000212 C9               [16]  548 	ret
                                    549 ;src/common.c:193: void drawText(uint8_t column, uint8_t row, char *text)
                                    550 ;	---------------------------------
                                    551 ; Function drawText
                                    552 ; ---------------------------------
    00000213                        553 _drawText::
    00000213 3B               [ 8]  554 	dec	sp
    00000214 3B               [ 8]  555 	dec	sp
    00000215 43               [ 4]  556 	ld	b, e
                                    557 ;src/common.c:197: uint8_t *vramAddress = get_bkg_xy_addr(column, row);
    00000216 C5               [16]  558 	push	bc
    00000217 33               [ 8]  559 	inc	sp
    00000218 F5               [16]  560 	push	af
    00000219 33               [ 8]  561 	inc	sp
    0000021A CDr00r00         [24]  562 	call	_get_bkg_xy_addr
    0000021D E8 04            [16]  563 	add	sp, #4
    0000021F D5               [16]  564 	push	de
                                    565 ;src/common.c:201: while (text[index] != '\0')
    00000220 01 00 00         [12]  566 	ld	bc, #0x0000
    00000223                        567 00101$:
    00000223 F8 04            [12]  568 	ldhl	sp,	#4
    00000225 2A               [ 8]  569 	ld	a,	(hl+)
    00000226 66               [ 8]  570 	ld	h, (hl)
    00000227 6F               [ 4]  571 	ld	l, a
    00000228 09               [ 8]  572 	add	hl, bc
    00000229 5D               [ 4]  573 	ld	e, l
    0000022A 54               [ 4]  574 	ld	d, h
    0000022B 1A               [ 8]  575 	ld	a, (de)
    0000022C B7               [ 4]  576 	or	a, a
    0000022D 28 14            [12]  577 	jr	Z, 00104$
                                    578 ;src/common.c:204: char character = text[index];
                                    579 ;src/common.c:208: uint8_t vramTile = getCharacterVRamTile(character);
    0000022F C5               [16]  580 	push	bc
    00000230 CDr39r01         [24]  581 	call	_getCharacterVRamTile
    00000233 C1               [12]  582 	pop	bc
                                    583 ;src/common.c:210: set_vram_byte(vramAddress++, vramTile);
    00000234 D1               [12]  584 	pop	de
    00000235 D5               [16]  585 	push	de
    00000236 F8 00            [12]  586 	ldhl	sp,	#0
    00000238 34               [12]  587 	inc	(hl)
    00000239 20 02            [12]  588 	jr	NZ, 00121$
    0000023B 23               [ 8]  589 	inc	hl
    0000023C 34               [12]  590 	inc	(hl)
    0000023D                        591 00121$:
    0000023D CDr00r00         [24]  592 	call	_set_vram_byte
                                    593 ;src/common.c:212: index++;
    00000240 03               [ 8]  594 	inc	bc
    00000241 18 E0            [12]  595 	jr	00101$
    00000243                        596 00104$:
                                    597 ;src/common.c:214: }
    00000243 33               [ 8]  598 	inc	sp
    00000244 33               [ 8]  599 	inc	sp
    00000245 E1               [12]  600 	pop	hl
    00000246 F1               [12]  601 	pop	af
    00000247 E9               [ 4]  602 	jp	(hl)
                                    603 	.area _CODE
                                    604 	.area _INITIALIZER
    00000000                        605 __xinit__joypadCurrent:
    00000000 00                     606 	.db #0x00	; 0
    00000001                        607 __xinit__frameCounter:
    00000001 00                     608 	.db #0x00	; 0
    00000002                        609 __xinit__frameRealValue:
    00000002 00                     610 	.db #0x00	; 0
    00000003                        611 __xinit__isIntroSequence:
    00000003 01                     612 	.db #0x01	; 1
    00000004                        613 __xinit__increment:
    00000004 01                     614 	.db #0x01	; 1
                                    615 	.area _CABS (ABS)
