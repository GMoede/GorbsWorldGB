                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module common
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _getPlayerInput
                                     11 	.globl _get_bkg_xy_addr
                                     12 	.globl _set_vram_byte
                                     13 	.globl _joypad
                                     14 	.globl _increment
                                     15 	.globl _isIntroSequence
                                     16 	.globl _frameRealValue
                                     17 	.globl _frameCounter
                                     18 	.globl _joypadCurrent
                                     19 	.globl _playerY
                                     20 	.globl _playerX
                                     21 	.globl _fourFrameLaggingAnimation
                                     22 	.globl _updateFrameCounter
                                     23 	.globl _getCharacterVRamTile
                                     24 	.globl _drawText
                                     25 ;--------------------------------------------------------
                                     26 ; special function registers
                                     27 ;--------------------------------------------------------
                                     28 ;--------------------------------------------------------
                                     29 ; ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _DATA
    00000000                         32 _playerX::
    00000000                         33 	.ds 2
    00000002                         34 _playerY::
    00000002                         35 	.ds 2
                                     36 ;--------------------------------------------------------
                                     37 ; ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area _INITIALIZED
    00000000                         40 _joypadCurrent::
    00000000                         41 	.ds 1
    00000001                         42 _frameCounter::
    00000001                         43 	.ds 1
    00000002                         44 _frameRealValue::
    00000002                         45 	.ds 1
    00000003                         46 _isIntroSequence::
    00000003                         47 	.ds 1
    00000004                         48 _increment::
    00000004                         49 	.ds 1
                                     50 ;--------------------------------------------------------
                                     51 ; absolute external ram data
                                     52 ;--------------------------------------------------------
                                     53 	.area _DABS (ABS)
                                     54 ;--------------------------------------------------------
                                     55 ; global & static initialisations
                                     56 ;--------------------------------------------------------
                                     57 	.area _HOME
                                     58 	.area _GSINIT
                                     59 	.area _GSFINAL
                                     60 	.area _GSINIT
                                     61 ;--------------------------------------------------------
                                     62 ; Home
                                     63 ;--------------------------------------------------------
                                     64 	.area _HOME
                                     65 	.area _HOME
                                     66 ;--------------------------------------------------------
                                     67 ; code
                                     68 ;--------------------------------------------------------
                                     69 	.area _CODE
                                     70 ;src/common.c:22: void getPlayerInput(uint16_t *nextPlayerX, uint16_t *nextPlayerY, int8_t *directionX, int8_t *directionY)
                                     71 ;	---------------------------------
                                     72 ; Function getPlayerInput
                                     73 ; ---------------------------------
    00000000                         74 _getPlayerInput::
    00000000 E8 F9            [16]   75 	add	sp, #-7
    00000002 F8 05            [12]   76 	ldhl	sp,	#5
    00000004 7B               [ 4]   77 	ld	a, e
    00000005 22               [ 8]   78 	ld	(hl+), a
    00000006 72               [ 8]   79 	ld	(hl), d
                                     80 ;src/common.c:26: uint8_t joypadCurrent = joypad();
    00000007 CDr00r00         [24]   81 	call	_joypad
    0000000A F8 00            [12]   82 	ldhl	sp,	#0
    0000000C 77               [ 8]   83 	ld	(hl), a
                                     84 ;src/common.c:28: *nextPlayerX = playerX;
    0000000D F8 05            [12]   85 	ldhl	sp,	#5
    0000000F 2A               [ 8]   86 	ld	a, (hl+)
    00000010 5F               [ 4]   87 	ld	e, a
    00000011 56               [ 8]   88 	ld	d, (hl)
    00000012 FAr00r00         [16]   89 	ld	a, (_playerX)
    00000015 12               [ 8]   90 	ld	(de), a
    00000016 13               [ 8]   91 	inc	de
    00000017 FAr01r00         [16]   92 	ld	a, (_playerX + 1)
    0000001A 12               [ 8]   93 	ld	(de), a
                                     94 ;src/common.c:29: *nextPlayerY = playerY;
    0000001B 59               [ 4]   95 	ld	e, c
    0000001C 50               [ 4]   96 	ld	d, b
    0000001D FAr02r00         [16]   97 	ld	a, (_playerY)
    00000020 12               [ 8]   98 	ld	(de), a
    00000021 13               [ 8]   99 	inc	de
    00000022 FAr03r00         [16]  100 	ld	a, (_playerY + 1)
    00000025 12               [ 8]  101 	ld	(de), a
                                    102 ;src/common.c:30: *directionY = 0;
    00000026 F8 0B            [12]  103 	ldhl	sp,	#11
    00000028 2A               [ 8]  104 	ld	a, (hl+)
    00000029 66               [ 8]  105 	ld	h, (hl)
    0000002A 6F               [ 4]  106 	ld	l, a
    0000002B 36 00            [12]  107 	ld	(hl), #0x00
                                    108 ;src/common.c:31: *directionX = 0;
    0000002D F8 09            [12]  109 	ldhl	sp,	#9
    0000002F 7E               [ 8]  110 	ld	a, (hl)
    00000030 F8 01            [12]  111 	ldhl	sp,	#1
    00000032 77               [ 8]  112 	ld	(hl), a
    00000033 F8 0A            [12]  113 	ldhl	sp,	#10
    00000035 7E               [ 8]  114 	ld	a, (hl)
    00000036 F8 02            [12]  115 	ldhl	sp,	#2
    00000038 32               [ 8]  116 	ld	(hl-), a
    00000039 2A               [ 8]  117 	ld	a, (hl+)
    0000003A 66               [ 8]  118 	ld	h, (hl)
    0000003B 6F               [ 4]  119 	ld	l, a
    0000003C 36 00            [12]  120 	ld	(hl), #0x00
                                    121 ;src/common.c:33: if (joypadCurrent & J_RIGHT)
    0000003E E5               [16]  122 	push	hl
    0000003F F8 02            [12]  123 	ldhl	sp,	#2
    00000041 CB 46            [12]  124 	bit	0, (hl)
    00000043 E1               [12]  125 	pop	hl
    00000044 28 23            [12]  126 	jr	Z, 00102$
                                    127 ;src/common.c:35: *nextPlayerX += 1;
    00000046 F8 05            [12]  128 	ldhl	sp,#5
    00000048 2A               [ 8]  129 	ld	a, (hl+)
    00000049 5F               [ 4]  130 	ld	e, a
    0000004A 56               [ 8]  131 	ld	d, (hl)
    0000004B 1A               [ 8]  132 	ld	a, (de)
    0000004C 6F               [ 4]  133 	ld	l, a
    0000004D 13               [ 8]  134 	inc	de
    0000004E 1A               [ 8]  135 	ld	a, (de)
    0000004F 67               [ 4]  136 	ld	h, a
    00000050 23               [ 8]  137 	inc	hl
    00000051 5D               [ 4]  138 	ld	e, l
    00000052 7C               [ 4]  139 	ld	a, h
    00000053 F8 03            [12]  140 	ldhl	sp,	#3
    00000055 73               [ 8]  141 	ld	(hl), e
    00000056 23               [ 8]  142 	inc	hl
    00000057 22               [ 8]  143 	ld	(hl+), a
    00000058 2A               [ 8]  144 	ld	a, (hl+)
    00000059 5F               [ 4]  145 	ld	e, a
    0000005A 56               [ 8]  146 	ld	d, (hl)
    0000005B F8 03            [12]  147 	ldhl	sp,	#3
    0000005D 2A               [ 8]  148 	ld	a, (hl+)
    0000005E 12               [ 8]  149 	ld	(de), a
    0000005F 13               [ 8]  150 	inc	de
    00000060 7E               [ 8]  151 	ld	a, (hl)
    00000061 12               [ 8]  152 	ld	(de), a
                                    153 ;src/common.c:36: *directionX = 1;
    00000062 F8 01            [12]  154 	ldhl	sp,	#1
    00000064 2A               [ 8]  155 	ld	a, (hl+)
    00000065 66               [ 8]  156 	ld	h, (hl)
    00000066 6F               [ 4]  157 	ld	l, a
    00000067 36 01            [12]  158 	ld	(hl), #0x01
    00000069                        159 00102$:
                                    160 ;src/common.c:38: if (joypadCurrent & J_LEFT)
    00000069 E5               [16]  161 	push	hl
    0000006A F8 02            [12]  162 	ldhl	sp,	#2
    0000006C CB 4E            [12]  163 	bit	1, (hl)
    0000006E E1               [12]  164 	pop	hl
    0000006F 28 23            [12]  165 	jr	Z, 00104$
                                    166 ;src/common.c:40: *nextPlayerX -= 1;
    00000071 F8 05            [12]  167 	ldhl	sp,#5
    00000073 2A               [ 8]  168 	ld	a, (hl+)
    00000074 5F               [ 4]  169 	ld	e, a
    00000075 56               [ 8]  170 	ld	d, (hl)
    00000076 1A               [ 8]  171 	ld	a, (de)
    00000077 6F               [ 4]  172 	ld	l, a
    00000078 13               [ 8]  173 	inc	de
    00000079 1A               [ 8]  174 	ld	a, (de)
    0000007A 5D               [ 4]  175 	ld	e, l
    0000007B 57               [ 4]  176 	ld	d, a
    0000007C 1B               [ 8]  177 	dec	de
    0000007D F8 03            [12]  178 	ldhl	sp,	#3
    0000007F 7B               [ 4]  179 	ld	a, e
    00000080 22               [ 8]  180 	ld	(hl+), a
    00000081 7A               [ 4]  181 	ld	a, d
    00000082 22               [ 8]  182 	ld	(hl+), a
    00000083 2A               [ 8]  183 	ld	a, (hl+)
    00000084 5F               [ 4]  184 	ld	e, a
    00000085 56               [ 8]  185 	ld	d, (hl)
    00000086 F8 03            [12]  186 	ldhl	sp,	#3
    00000088 2A               [ 8]  187 	ld	a, (hl+)
    00000089 12               [ 8]  188 	ld	(de), a
    0000008A 13               [ 8]  189 	inc	de
    0000008B 7E               [ 8]  190 	ld	a, (hl)
    0000008C 12               [ 8]  191 	ld	(de), a
                                    192 ;src/common.c:41: *directionX = -1;
    0000008D F8 01            [12]  193 	ldhl	sp,	#1
    0000008F 2A               [ 8]  194 	ld	a, (hl+)
    00000090 66               [ 8]  195 	ld	h, (hl)
    00000091 6F               [ 4]  196 	ld	l, a
    00000092 36 FF            [12]  197 	ld	(hl), #0xff
    00000094                        198 00104$:
                                    199 ;src/common.c:43: if (joypadCurrent & J_DOWN)
    00000094 E5               [16]  200 	push	hl
    00000095 F8 02            [12]  201 	ldhl	sp,	#2
    00000097 CB 5E            [12]  202 	bit	3, (hl)
    00000099 E1               [12]  203 	pop	hl
    0000009A 28 13            [12]  204 	jr	Z, 00106$
                                    205 ;src/common.c:45: *nextPlayerY += 1;
    0000009C 69               [ 4]  206 	ld	l, c
    0000009D 60               [ 4]  207 	ld	h, b
    0000009E 2A               [ 8]  208 	ld	a,	(hl+)
    0000009F 66               [ 8]  209 	ld	h, (hl)
    000000A0 5F               [ 4]  210 	ld	e, a
    000000A1 54               [ 4]  211 	ld	d, h
    000000A2 13               [ 8]  212 	inc	de
    000000A3 69               [ 4]  213 	ld	l, c
    000000A4 60               [ 4]  214 	ld	h, b
    000000A5 7B               [ 4]  215 	ld	a, e
    000000A6 22               [ 8]  216 	ld	(hl+), a
    000000A7 72               [ 8]  217 	ld	(hl), d
                                    218 ;src/common.c:46: *directionY = 1;
    000000A8 F8 0B            [12]  219 	ldhl	sp,	#11
    000000AA 2A               [ 8]  220 	ld	a, (hl+)
    000000AB 66               [ 8]  221 	ld	h, (hl)
    000000AC 6F               [ 4]  222 	ld	l, a
    000000AD 36 01            [12]  223 	ld	(hl), #0x01
    000000AF                        224 00106$:
                                    225 ;src/common.c:48: if (joypadCurrent & J_UP)
    000000AF E5               [16]  226 	push	hl
    000000B0 F8 02            [12]  227 	ldhl	sp,	#2
    000000B2 CB 56            [12]  228 	bit	2, (hl)
    000000B4 E1               [12]  229 	pop	hl
    000000B5 28 12            [12]  230 	jr	Z, 00109$
                                    231 ;src/common.c:50: *nextPlayerY -= 1;
    000000B7 69               [ 4]  232 	ld	l, c
    000000B8 60               [ 4]  233 	ld	h, b
    000000B9 2A               [ 8]  234 	ld	a,	(hl+)
    000000BA 66               [ 8]  235 	ld	h, (hl)
    000000BB 6F               [ 4]  236 	ld	l, a
    000000BC 2B               [ 8]  237 	dec	hl
    000000BD 7D               [ 4]  238 	ld	a, l
    000000BE 02               [ 8]  239 	ld	(bc), a
    000000BF 03               [ 8]  240 	inc	bc
    000000C0 7C               [ 4]  241 	ld	a, h
    000000C1 02               [ 8]  242 	ld	(bc), a
                                    243 ;src/common.c:51: *directionY = -1;
    000000C2 F8 0B            [12]  244 	ldhl	sp,	#11
    000000C4 2A               [ 8]  245 	ld	a, (hl+)
    000000C5 66               [ 8]  246 	ld	h, (hl)
    000000C6 6F               [ 4]  247 	ld	l, a
    000000C7 36 FF            [12]  248 	ld	(hl), #0xff
    000000C9                        249 00109$:
                                    250 ;src/common.c:53: }
    000000C9 E8 07            [16]  251 	add	sp, #7
    000000CB E1               [12]  252 	pop	hl
    000000CC E8 04            [16]  253 	add	sp, #4
    000000CE E9               [ 4]  254 	jp	(hl)
                                    255 ;src/common.c:88: void fourFrameLaggingAnimation(void){
                                    256 ;	---------------------------------
                                    257 ; Function fourFrameLaggingAnimation
                                    258 ; ---------------------------------
    000000CF                        259 _fourFrameLaggingAnimation::
                                    260 ;src/common.c:89: increment = 2;
    000000CF 21r04r00         [12]  261 	ld	hl, #_increment
    000000D2 36 02            [12]  262 	ld	(hl), #0x02
                                    263 ;src/common.c:90: frameCounter += increment;
    000000D4 21r01r00         [12]  264 	ld	hl, #_frameCounter
    000000D7 34               [12]  265 	inc	(hl)
    000000D8 34               [12]  266 	inc	(hl)
                                    267 ;src/common.c:91: frameRealValue = frameCounter >> 4;
    000000D9 7E               [ 8]  268 	ld	a, (hl)
    000000DA CB 37            [ 8]  269 	swap	a
    000000DC E6 0F            [ 8]  270 	and	a, #0x0f
    000000DE 21r02r00         [12]  271 	ld	hl, #_frameRealValue
                                    272 ;src/common.c:93: if (frameRealValue >= 4 && frameRealValue <= 5)
    000000E1 77               [ 8]  273 	ld	(hl), a
    000000E2 D6 04            [ 8]  274 	sub	a, #0x04
    000000E4 38 08            [12]  275 	jr	C, 00110$
    000000E6 3E 05            [ 8]  276 	ld	a, #0x05
    000000E8 96               [ 8]  277 	sub	a, (hl)
    000000E9 38 03            [12]  278 	jr	C, 00110$
                                    279 ;src/common.c:95: frameRealValue = 3;
    000000EB 36 03            [12]  280 	ld	(hl), #0x03
    000000ED C9               [16]  281 	ret
    000000EE                        282 00110$:
                                    283 ;src/common.c:97: else if (frameRealValue >= 10)
    000000EE 21r02r00         [12]  284 	ld	hl, #_frameRealValue
    000000F1 7E               [ 8]  285 	ld	a, (hl)
    000000F2 D6 0A            [ 8]  286 	sub	a, #0x0a
    000000F4 38 07            [12]  287 	jr	C, 00107$
                                    288 ;src/common.c:99: frameRealValue = 0;
    000000F6 36 00            [12]  289 	ld	(hl), #0x00
                                    290 ;src/common.c:100: frameCounter = 0;
    000000F8 AF               [ 4]  291 	xor	a, a
    000000F9 EAr01r00         [16]  292 	ld	(#_frameCounter),a
    000000FC C9               [16]  293 	ret
    000000FD                        294 00107$:
                                    295 ;src/common.c:102: else if (frameRealValue >= 9){
    000000FD 21r02r00         [12]  296 	ld	hl, #_frameRealValue
    00000100 7E               [ 8]  297 	ld	a, (hl)
    00000101 D6 09            [ 8]  298 	sub	a, #0x09
    00000103 38 03            [12]  299 	jr	C, 00104$
                                    300 ;src/common.c:103: frameRealValue = 0;
    00000105 36 00            [12]  301 	ld	(hl), #0x00
    00000107 C9               [16]  302 	ret
    00000108                        303 00104$:
                                    304 ;src/common.c:105: else if (frameRealValue >= 6)
    00000108 21r02r00         [12]  305 	ld	hl, #_frameRealValue
    0000010B 7E               [ 8]  306 	ld	a, (hl)
    0000010C D6 06            [ 8]  307 	sub	a, #0x06
    0000010E D8               [20]  308 	ret	C
                                    309 ;src/common.c:107: frameRealValue = 8 - frameRealValue;
    0000010F 3E 08            [ 8]  310 	ld	a, #0x08
    00000111 96               [ 8]  311 	sub	a, (hl)
    00000112 77               [ 8]  312 	ld	(hl), a
                                    313 ;src/common.c:109: }
    00000113 C9               [16]  314 	ret
                                    315 ;src/common.c:115: void updateFrameCounter(void)
                                    316 ;	---------------------------------
                                    317 ; Function updateFrameCounter
                                    318 ; ---------------------------------
    00000114                        319 _updateFrameCounter::
                                    320 ;src/common.c:118: if (isIntroSequence)
    00000114 FAr03r00         [16]  321 	ld	a, (#_isIntroSequence)
    00000117 B7               [ 4]  322 	or	a, a
                                    323 ;src/common.c:120: fourFrameLaggingAnimation();
    00000118 C2rCFr00         [16]  324 	jp	NZ, _fourFrameLaggingAnimation
                                    325 ;src/common.c:124: increment = 3;
    0000011B 21r04r00         [12]  326 	ld	hl, #_increment
    0000011E 36 03            [12]  327 	ld	(hl), #0x03
                                    328 ;src/common.c:125: frameCounter += increment;
    00000120 21r01r00         [12]  329 	ld	hl, #_frameCounter
    00000123 34               [12]  330 	inc	(hl)
    00000124 34               [12]  331 	inc	(hl)
    00000125 34               [12]  332 	inc	(hl)
                                    333 ;src/common.c:126: frameRealValue = frameCounter >> 4;
    00000126 7E               [ 8]  334 	ld	a, (hl)
    00000127 CB 37            [ 8]  335 	swap	a
    00000129 E6 0F            [ 8]  336 	and	a, #0x0f
    0000012B 21r02r00         [12]  337 	ld	hl, #_frameRealValue
                                    338 ;src/common.c:127: if (frameRealValue >= 10)
    0000012E 77               [ 8]  339 	ld	(hl), a
    0000012F D6 0A            [ 8]  340 	sub	a, #0x0a
    00000131 D8               [20]  341 	ret	C
                                    342 ;src/common.c:129: frameRealValue = 0;
    00000132 36 00            [12]  343 	ld	(hl), #0x00
                                    344 ;src/common.c:130: frameCounter = 0;
    00000134 AF               [ 4]  345 	xor	a, a
    00000135 EAr01r00         [16]  346 	ld	(#_frameCounter),a
                                    347 ;src/common.c:133: }
    00000138 C9               [16]  348 	ret
                                    349 ;src/common.c:135: uint8_t getCharacterVRamTile(char character)
                                    350 ;	---------------------------------
                                    351 ; Function getCharacterVRamTile
                                    352 ; ---------------------------------
    00000139                        353 _getCharacterVRamTile::
    00000139 47               [ 4]  354 	ld	b, a
                                    355 ;src/common.c:138: uint8_t vramTile = 0;
    0000013A 0E 00            [ 8]  356 	ld	c, #0x00
                                    357 ;src/common.c:143: if (character >= 'a' && character <= 'z')
    0000013C 78               [ 4]  358 	ld	a, b
    0000013D EE 80            [ 8]  359 	xor	a, #0x80
    0000013F D6 E1            [ 8]  360 	sub	a, #0xe1
    00000141 38 1E            [12]  361 	jr	C, 00120$
    00000143 58               [ 4]  362 	ld	e, b
    00000144 3E 7A            [ 8]  363 	ld	a,#0x7a
    00000146 57               [ 4]  364 	ld	d,a
    00000147 90               [ 4]  365 	sub	a, b
    00000148 CB 7B            [ 8]  366 	bit	7, e
    0000014A 28 07            [12]  367 	jr	Z, 00230$
    0000014C CB 7A            [ 8]  368 	bit	7, d
    0000014E 20 08            [12]  369 	jr	NZ, 00231$
    00000150 BF               [ 4]  370 	cp	a, a
    00000151 18 05            [12]  371 	jr	00231$
    00000153                        372 00230$:
    00000153 CB 7A            [ 8]  373 	bit	7, d
    00000155 28 01            [12]  374 	jr	Z, 00231$
    00000157 37               [ 4]  375 	scf
    00000158                        376 00231$:
    00000158 38 07            [12]  377 	jr	C, 00120$
                                    378 ;src/common.c:144: vramTile = (character - 'a') + 1;
    0000015A 78               [ 4]  379 	ld	a, b
    0000015B C6 A0            [ 8]  380 	add	a, #0xa0
    0000015D 4F               [ 4]  381 	ld	c, a
    0000015E C3rF2r01         [16]  382 	jp	00121$
    00000161                        383 00120$:
                                    384 ;src/common.c:145: else if (character >= 'A' && character <= 'Z')
    00000161 78               [ 4]  385 	ld	a, b
    00000162 EE 80            [ 8]  386 	xor	a, #0x80
    00000164 D6 C1            [ 8]  387 	sub	a, #0xc1
    00000166 38 1D            [12]  388 	jr	C, 00116$
    00000168 58               [ 4]  389 	ld	e, b
    00000169 3E 5A            [ 8]  390 	ld	a,#0x5a
    0000016B 57               [ 4]  391 	ld	d,a
    0000016C 90               [ 4]  392 	sub	a, b
    0000016D CB 7B            [ 8]  393 	bit	7, e
    0000016F 28 07            [12]  394 	jr	Z, 00232$
    00000171 CB 7A            [ 8]  395 	bit	7, d
    00000173 20 08            [12]  396 	jr	NZ, 00233$
    00000175 BF               [ 4]  397 	cp	a, a
    00000176 18 05            [12]  398 	jr	00233$
    00000178                        399 00232$:
    00000178 CB 7A            [ 8]  400 	bit	7, d
    0000017A 28 01            [12]  401 	jr	Z, 00233$
    0000017C 37               [ 4]  402 	scf
    0000017D                        403 00233$:
    0000017D 38 06            [12]  404 	jr	C, 00116$
                                    405 ;src/common.c:146: vramTile = (character - 'A') + 1;
    0000017F 78               [ 4]  406 	ld	a, b
    00000180 C6 C0            [ 8]  407 	add	a, #0xc0
    00000182 4F               [ 4]  408 	ld	c, a
    00000183 18 6D            [12]  409 	jr	00121$
    00000185                        410 00116$:
                                    411 ;src/common.c:147: else if (character >= '0' && character <= '9')
    00000185 78               [ 4]  412 	ld	a, b
    00000186 EE 80            [ 8]  413 	xor	a, #0x80
    00000188 D6 B0            [ 8]  414 	sub	a, #0xb0
    0000018A 38 1D            [12]  415 	jr	C, 00112$
    0000018C 58               [ 4]  416 	ld	e, b
    0000018D 3E 39            [ 8]  417 	ld	a,#0x39
    0000018F 57               [ 4]  418 	ld	d,a
    00000190 90               [ 4]  419 	sub	a, b
    00000191 CB 7B            [ 8]  420 	bit	7, e
    00000193 28 07            [12]  421 	jr	Z, 00234$
    00000195 CB 7A            [ 8]  422 	bit	7, d
    00000197 20 08            [12]  423 	jr	NZ, 00235$
    00000199 BF               [ 4]  424 	cp	a, a
    0000019A 18 05            [12]  425 	jr	00235$
    0000019C                        426 00234$:
    0000019C CB 7A            [ 8]  427 	bit	7, d
    0000019E 28 01            [12]  428 	jr	Z, 00235$
    000001A0 37               [ 4]  429 	scf
    000001A1                        430 00235$:
    000001A1 38 06            [12]  431 	jr	C, 00112$
                                    432 ;src/common.c:148: vramTile = (character - '0') + 27;
    000001A3 78               [ 4]  433 	ld	a, b
    000001A4 C6 EB            [ 8]  434 	add	a, #0xeb
    000001A6 4F               [ 4]  435 	ld	c, a
    000001A7 18 49            [12]  436 	jr	00121$
    000001A9                        437 00112$:
                                    438 ;src/common.c:151: switch (character)
    000001A9 78               [ 4]  439 	ld	a,b
    000001AA FE 21            [ 8]  440 	cp	a,#0x21
    000001AC 28 22            [12]  441 	jr	Z, 00101$
    000001AE FE 2C            [ 8]  442 	cp	a,#0x2c
    000001B0 28 32            [12]  443 	jr	Z, 00106$
    000001B2 FE 2E            [ 8]  444 	cp	a,#0x2e
    000001B4 28 32            [12]  445 	jr	Z, 00107$
    000001B6 FE 2F            [ 8]  446 	cp	a,#0x2f
    000001B8 28 22            [12]  447 	jr	Z, 00104$
    000001BA FE 3A            [ 8]  448 	cp	a,#0x3a
    000001BC 28 16            [12]  449 	jr	Z, 00102$
    000001BE FE 3C            [ 8]  450 	cp	a,#0x3c
    000001C0 28 2A            [12]  451 	jr	Z, 00108$
    000001C2 FE 3D            [ 8]  452 	cp	a,#0x3d
    000001C4 28 1A            [12]  453 	jr	Z, 00105$
    000001C6 FE 3E            [ 8]  454 	cp	a,#0x3e
    000001C8 28 26            [12]  455 	jr	Z, 00109$
    000001CA D6 3F            [ 8]  456 	sub	a, #0x3f
    000001CC 28 0A            [12]  457 	jr	Z, 00103$
    000001CE 18 22            [12]  458 	jr	00121$
                                    459 ;src/common.c:153: case '!':
    000001D0                        460 00101$:
                                    461 ;src/common.c:154: vramTile = 37;
    000001D0 0E 25            [ 8]  462 	ld	c, #0x25
                                    463 ;src/common.c:155: break;
    000001D2 18 1E            [12]  464 	jr	00121$
                                    465 ;src/common.c:156: case ':':
    000001D4                        466 00102$:
                                    467 ;src/common.c:157: vramTile = 38;
    000001D4 0E 26            [ 8]  468 	ld	c, #0x26
                                    469 ;src/common.c:158: break;
    000001D6 18 1A            [12]  470 	jr	00121$
                                    471 ;src/common.c:159: case '?':
    000001D8                        472 00103$:
                                    473 ;src/common.c:160: vramTile = 39;
    000001D8 0E 27            [ 8]  474 	ld	c, #0x27
                                    475 ;src/common.c:161: break;
    000001DA 18 16            [12]  476 	jr	00121$
                                    477 ;src/common.c:162: case '/':
    000001DC                        478 00104$:
                                    479 ;src/common.c:163: vramTile = 40;
    000001DC 0E 28            [ 8]  480 	ld	c, #0x28
                                    481 ;src/common.c:164: break;
    000001DE 18 12            [12]  482 	jr	00121$
                                    483 ;src/common.c:165: case '=':
    000001E0                        484 00105$:
                                    485 ;src/common.c:166: vramTile = 41;
    000001E0 0E 29            [ 8]  486 	ld	c, #0x29
                                    487 ;src/common.c:167: break;
    000001E2 18 0E            [12]  488 	jr	00121$
                                    489 ;src/common.c:168: case ',':
    000001E4                        490 00106$:
                                    491 ;src/common.c:169: vramTile = 42;
    000001E4 0E 2A            [ 8]  492 	ld	c, #0x2a
                                    493 ;src/common.c:170: break;
    000001E6 18 0A            [12]  494 	jr	00121$
                                    495 ;src/common.c:171: case '.':
    000001E8                        496 00107$:
                                    497 ;src/common.c:172: vramTile = 43;
    000001E8 0E 2B            [ 8]  498 	ld	c, #0x2b
                                    499 ;src/common.c:173: break;
    000001EA 18 06            [12]  500 	jr	00121$
                                    501 ;src/common.c:174: case '<':
    000001EC                        502 00108$:
                                    503 ;src/common.c:175: vramTile = 44;
    000001EC 0E 2C            [ 8]  504 	ld	c, #0x2c
                                    505 ;src/common.c:176: break;
    000001EE 18 02            [12]  506 	jr	00121$
                                    507 ;src/common.c:177: case '>':
    000001F0                        508 00109$:
                                    509 ;src/common.c:178: vramTile = 45;
    000001F0 0E 2D            [ 8]  510 	ld	c, #0x2d
                                    511 ;src/common.c:180: }
    000001F2                        512 00121$:
                                    513 ;src/common.c:183: return vramTile + splashscreen3_TILE_COUNT;
    000001F2 79               [ 4]  514 	ld	a, c
    000001F3 C6 B3            [ 8]  515 	add	a, #0xb3
                                    516 ;src/common.c:184: }
    000001F5 C9               [16]  517 	ret
                                    518 ;src/common.c:186: void drawText(uint8_t column, uint8_t row, char *text)
                                    519 ;	---------------------------------
                                    520 ; Function drawText
                                    521 ; ---------------------------------
    000001F6                        522 _drawText::
    000001F6 3B               [ 8]  523 	dec	sp
    000001F7 3B               [ 8]  524 	dec	sp
    000001F8 43               [ 4]  525 	ld	b, e
                                    526 ;src/common.c:190: uint8_t *vramAddress = get_bkg_xy_addr(column, row);
    000001F9 C5               [16]  527 	push	bc
    000001FA 33               [ 8]  528 	inc	sp
    000001FB F5               [16]  529 	push	af
    000001FC 33               [ 8]  530 	inc	sp
    000001FD CDr00r00         [24]  531 	call	_get_bkg_xy_addr
    00000200 E8 04            [16]  532 	add	sp, #4
    00000202 D5               [16]  533 	push	de
                                    534 ;src/common.c:194: while (text[index] != '\0')
    00000203 01 00 00         [12]  535 	ld	bc, #0x0000
    00000206                        536 00101$:
    00000206 F8 04            [12]  537 	ldhl	sp,	#4
    00000208 2A               [ 8]  538 	ld	a,	(hl+)
    00000209 66               [ 8]  539 	ld	h, (hl)
    0000020A 6F               [ 4]  540 	ld	l, a
    0000020B 09               [ 8]  541 	add	hl, bc
    0000020C 5D               [ 4]  542 	ld	e, l
    0000020D 54               [ 4]  543 	ld	d, h
    0000020E 1A               [ 8]  544 	ld	a, (de)
    0000020F B7               [ 4]  545 	or	a, a
    00000210 28 14            [12]  546 	jr	Z, 00104$
                                    547 ;src/common.c:197: char character = text[index];
                                    548 ;src/common.c:201: uint8_t vramTile = getCharacterVRamTile(character);
    00000212 C5               [16]  549 	push	bc
    00000213 CDr39r01         [24]  550 	call	_getCharacterVRamTile
    00000216 C1               [12]  551 	pop	bc
                                    552 ;src/common.c:203: set_vram_byte(vramAddress++, vramTile);
    00000217 D1               [12]  553 	pop	de
    00000218 D5               [16]  554 	push	de
    00000219 F8 00            [12]  555 	ldhl	sp,	#0
    0000021B 34               [12]  556 	inc	(hl)
    0000021C 20 02            [12]  557 	jr	NZ, 00121$
    0000021E 23               [ 8]  558 	inc	hl
    0000021F 34               [12]  559 	inc	(hl)
    00000220                        560 00121$:
    00000220 CDr00r00         [24]  561 	call	_set_vram_byte
                                    562 ;src/common.c:205: index++;
    00000223 03               [ 8]  563 	inc	bc
    00000224 18 E0            [12]  564 	jr	00101$
    00000226                        565 00104$:
                                    566 ;src/common.c:207: }
    00000226 33               [ 8]  567 	inc	sp
    00000227 33               [ 8]  568 	inc	sp
    00000228 E1               [12]  569 	pop	hl
    00000229 F1               [12]  570 	pop	af
    0000022A E9               [ 4]  571 	jp	(hl)
                                    572 	.area _CODE
                                    573 	.area _INITIALIZER
    00000000                        574 __xinit__joypadCurrent:
    00000000 00                     575 	.db #0x00	; 0
    00000001                        576 __xinit__frameCounter:
    00000001 00                     577 	.db #0x00	; 0
    00000002                        578 __xinit__frameRealValue:
    00000002 00                     579 	.db #0x00	; 0
    00000003                        580 __xinit__isIntroSequence:
    00000003 01                     581 	.db #0x01	; 1
    00000004                        582 __xinit__increment:
    00000004 01                     583 	.db #0x01	; 1
                                    584 	.area _CABS (ABS)
