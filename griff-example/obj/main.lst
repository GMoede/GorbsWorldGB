                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _drawText
                                     11 	.globl _updateFrameCounter
                                     12 	.globl _setupGorb
                                     13 	.globl _updateGorb
                                     14 	.globl _hide_sprites_range
                                     15 	.globl _set_sprite_palette
                                     16 	.globl _set_bkg_palette
                                     17 	.globl _set_bkg_tiles
                                     18 	.globl _set_bkg_data
                                     19 	.globl _wait_vbl_done
                                     20 	.globl _joypad
                                     21 	.globl _main
                                     22 	.globl _setupBackground
                                     23 ;--------------------------------------------------------
                                     24 ; special function registers
                                     25 ;--------------------------------------------------------
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _DATA
                                     30 ;--------------------------------------------------------
                                     31 ; ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _INITIALIZED
                                     34 ;--------------------------------------------------------
                                     35 ; absolute external ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area _DABS (ABS)
                                     38 ;--------------------------------------------------------
                                     39 ; global & static initialisations
                                     40 ;--------------------------------------------------------
                                     41 	.area _HOME
                                     42 	.area _GSINIT
                                     43 	.area _GSFINAL
                                     44 	.area _GSINIT
                                     45 ;--------------------------------------------------------
                                     46 ; Home
                                     47 ;--------------------------------------------------------
                                     48 	.area _HOME
                                     49 	.area _HOME
                                     50 ;--------------------------------------------------------
                                     51 ; code
                                     52 ;--------------------------------------------------------
                                     53 	.area _CODE
                                     54 ;src/main.c:15: void main(void)
                                     55 ;	---------------------------------
                                     56 ; Function main
                                     57 ; ---------------------------------
    00000000                         58 _main::
                                     59 ;src/main.c:17: DISPLAY_ON;
    00000000 F0r00            [12]   60 	ldh	a, (_LCDC_REG + 0)
    00000002 F6 80            [ 8]   61 	or	a, #0x80
    00000004 E0r00            [12]   62 	ldh	(_LCDC_REG + 0), a
                                     63 ;src/main.c:18: SHOW_BKG; //HIDE_BKG;
    00000006 F0r00            [12]   64 	ldh	a, (_LCDC_REG + 0)
    00000008 F6 01            [ 8]   65 	or	a, #0x01
    0000000A E0r00            [12]   66 	ldh	(_LCDC_REG + 0), a
                                     67 ;src/main.c:19: SHOW_SPRITES;
    0000000C F0r00            [12]   68 	ldh	a, (_LCDC_REG + 0)
    0000000E F6 02            [ 8]   69 	or	a, #0x02
    00000010 E0r00            [12]   70 	ldh	(_LCDC_REG + 0), a
                                     71 ;src/main.c:20: SPRITES_8x16;
    00000012 F0r00            [12]   72 	ldh	a, (_LCDC_REG + 0)
    00000014 F6 04            [ 8]   73 	or	a, #0x04
    00000016 E0r00            [12]   74 	ldh	(_LCDC_REG + 0), a
                                     75 ;src/main.c:22: setupBackground();
    00000018 CDr63r00         [24]   76 	call	_setupBackground
                                     77 ;src/main.c:24: set_sprite_palette(0, WalkingGorb_PALETTE_COUNT, WalkingGorb_palettes);
    0000001B 11r00r00         [12]   78 	ld	de, #_WalkingGorb_palettes
    0000001E D5               [16]   79 	push	de
    0000001F AF               [ 4]   80 	xor	a, a
    00000020 3C               [ 4]   81 	inc	a
    00000021 F5               [16]   82 	push	af
    00000022 CDr00r00         [24]   83 	call	_set_sprite_palette
    00000025 E8 04            [16]   84 	add	sp, #4
                                     85 ;src/main.c:26: setupGorb();
    00000027 CDr00r00         [24]   86 	call	_setupGorb
                                     87 ;src/main.c:29: set_native_tile_data(splashscreen3_TILE_COUNT, Font_TILE_COUNT, Font_tiles);
                                     88 ;../gbdk/include/gb/gb.h:2146: set_bkg_data(first_tile, nb_tiles, data);
    0000002A 11r00r00         [12]   89 	ld	de, #_Font_tiles
    0000002D D5               [16]   90 	push	de
    0000002E 21 B3 2E         [12]   91 	ld	hl, #0x2eb3
    00000031 E5               [16]   92 	push	hl
    00000032 CDr00r00         [24]   93 	call	_set_bkg_data
    00000035 E8 04            [16]   94 	add	sp, #4
                                     95 ;src/main.c:32: drawText(1, 1, "Press Start");
    00000037 11r57r00         [12]   96 	ld	de, #___str_0
    0000003A D5               [16]   97 	push	de
    0000003B 3E 01            [ 8]   98 	ld	a,#0x01
    0000003D 5F               [ 4]   99 	ld	e,a
    0000003E CDr00r00         [24]  100 	call	_drawText
                                    101 ;src/main.c:34: while (1)
    00000041                        102 00102$:
                                    103 ;src/main.c:38: joypadCurrent = joypad();
    00000041 CDr00r00         [24]  104 	call	_joypad
    00000044 EAr00r00         [16]  105 	ld	(#_joypadCurrent),a
                                    106 ;src/main.c:40: updateFrameCounter();
    00000047 CDr00r00         [24]  107 	call	_updateFrameCounter
                                    108 ;src/main.c:44: lastSprite += updateGorb();
    0000004A CDr00r00         [24]  109 	call	_updateGorb
                                    110 ;src/main.c:51: hide_sprites_range(lastSprite, 40);
    0000004D 1E 28            [ 8]  111 	ld	e, #0x28
    0000004F CDr00r00         [24]  112 	call	_hide_sprites_range
                                    113 ;src/main.c:61: wait_vbl_done();
    00000052 CDr00r00         [24]  114 	call	_wait_vbl_done
                                    115 ;src/main.c:63: }
    00000055 18 EA            [12]  116 	jr	00102$
    00000057                        117 ___str_0:
    00000057 50 72 65 73 73 20 53   118 	.ascii "Press Start"
             74 61 72 74
    00000062 00                     119 	.db 0x00
                                    120 ;src/main.c:65: void setupBackground(void)
                                    121 ;	---------------------------------
                                    122 ; Function setupBackground
                                    123 ; ---------------------------------
    00000063                        124 _setupBackground::
                                    125 ;src/main.c:68: set_bkg_data(0, splashscreen3_TILE_COUNT, splashscreen3_tiles);
    00000063 11r00r00         [12]  126 	ld	de, #_splashscreen3_tiles
    00000066 D5               [16]  127 	push	de
    00000067 21 00 B3         [12]  128 	ld	hl, #0xb300
    0000006A E5               [16]  129 	push	hl
    0000006B CDr00r00         [24]  130 	call	_set_bkg_data
    0000006E E8 04            [16]  131 	add	sp, #4
                                    132 ;src/main.c:72: set_bkg_tiles(0, 0, 20, 18, splashscreen3_map);
    00000070 11r00r00         [12]  133 	ld	de, #_splashscreen3_map
    00000073 D5               [16]  134 	push	de
    00000074 21 14 12         [12]  135 	ld	hl, #0x1214
    00000077 E5               [16]  136 	push	hl
    00000078 AF               [ 4]  137 	xor	a, a
    00000079 0F               [ 4]  138 	rrca
    0000007A F5               [16]  139 	push	af
    0000007B CDr00r00         [24]  140 	call	_set_bkg_tiles
    0000007E E8 06            [16]  141 	add	sp, #6
                                    142 ;src/main.c:75: set_bkg_palette(0, 8, splashscreen3_palettes);
    00000080 11r00r00         [12]  143 	ld	de, #_splashscreen3_palettes
    00000083 D5               [16]  144 	push	de
    00000084 21 00 08         [12]  145 	ld	hl, #0x800
    00000087 E5               [16]  146 	push	hl
    00000088 CDr00r00         [24]  147 	call	_set_bkg_palette
    0000008B E8 04            [16]  148 	add	sp, #4
                                    149 ;src/main.c:79: VBK_REG = 1;
    0000008D 3E 01            [ 8]  150 	ld	a, #0x01
    0000008F E0r00            [12]  151 	ldh	(_VBK_REG + 0), a
                                    152 ;src/main.c:80: set_bkg_tiles(0, 0, 20, 18, splashscreen3_map_attributes);
    00000091 11r00r00         [12]  153 	ld	de, #_splashscreen3_map_attributes
    00000094 D5               [16]  154 	push	de
    00000095 21 14 12         [12]  155 	ld	hl, #0x1214
    00000098 E5               [16]  156 	push	hl
    00000099 AF               [ 4]  157 	xor	a, a
    0000009A 0F               [ 4]  158 	rrca
    0000009B F5               [16]  159 	push	af
    0000009C CDr00r00         [24]  160 	call	_set_bkg_tiles
    0000009F E8 06            [16]  161 	add	sp, #6
                                    162 ;src/main.c:83: VBK_REG = 0;
    000000A1 AF               [ 4]  163 	xor	a, a
    000000A2 E0r00            [12]  164 	ldh	(_VBK_REG + 0), a
                                    165 ;src/main.c:84: }
    000000A4 C9               [16]  166 	ret
                                    167 	.area _CODE
                                    168 	.area _INITIALIZER
                                    169 	.area _CABS (ABS)
