                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Mac OS X ppc)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _drawTextCentered
                                     11 	.globl _updateFrameCounter
                                     12 	.globl _setupGorb
                                     13 	.globl _updateGorb
                                     14 	.globl _hide_sprites_range
                                     15 	.globl _set_sprite_palette
                                     16 	.globl _set_bkg_palette
                                     17 	.globl _set_bkg_tiles
                                     18 	.globl _set_bkg_data
                                     19 	.globl _wait_vbl_done
                                     20 	.globl _joypad
                                     21 	.globl _main
                                     22 	.globl _setupBackground
                                     23 ;--------------------------------------------------------
                                     24 ; special function registers
                                     25 ;--------------------------------------------------------
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _DATA
                                     30 ;--------------------------------------------------------
                                     31 ; ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _INITIALIZED
                                     34 ;--------------------------------------------------------
                                     35 ; absolute external ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area _DABS (ABS)
                                     38 ;--------------------------------------------------------
                                     39 ; global & static initialisations
                                     40 ;--------------------------------------------------------
                                     41 	.area _HOME
                                     42 	.area _GSINIT
                                     43 	.area _GSFINAL
                                     44 	.area _GSINIT
                                     45 ;--------------------------------------------------------
                                     46 ; Home
                                     47 ;--------------------------------------------------------
                                     48 	.area _HOME
                                     49 	.area _HOME
                                     50 ;--------------------------------------------------------
                                     51 ; code
                                     52 ;--------------------------------------------------------
                                     53 	.area _CODE
                                     54 ;src/main.c:15: void main(void)
                                     55 ;	---------------------------------
                                     56 ; Function main
                                     57 ; ---------------------------------
    00000000                         58 _main::
                                     59 ;src/main.c:17: DISPLAY_ON;
    00000000 F0r00            [12]   60 	ldh	a, (_LCDC_REG + 0)
    00000002 F6 80            [ 8]   61 	or	a, #0x80
    00000004 E0r00            [12]   62 	ldh	(_LCDC_REG + 0), a
                                     63 ;src/main.c:18: SHOW_BKG; //HIDE_BKG;
    00000006 F0r00            [12]   64 	ldh	a, (_LCDC_REG + 0)
    00000008 F6 01            [ 8]   65 	or	a, #0x01
    0000000A E0r00            [12]   66 	ldh	(_LCDC_REG + 0), a
                                     67 ;src/main.c:19: SHOW_SPRITES;
    0000000C F0r00            [12]   68 	ldh	a, (_LCDC_REG + 0)
    0000000E F6 02            [ 8]   69 	or	a, #0x02
    00000010 E0r00            [12]   70 	ldh	(_LCDC_REG + 0), a
                                     71 ;src/main.c:20: SPRITES_8x16;
    00000012 F0r00            [12]   72 	ldh	a, (_LCDC_REG + 0)
    00000014 F6 04            [ 8]   73 	or	a, #0x04
    00000016 E0r00            [12]   74 	ldh	(_LCDC_REG + 0), a
                                     75 ;src/main.c:22: setupBackground();
    00000018 CDr61r00         [24]   76 	call	_setupBackground
                                     77 ;src/main.c:24: set_sprite_palette(0, WalkingGorb_PALETTE_COUNT, WalkingGorb_palettes);
    0000001B 11r00r00         [12]   78 	ld	de, #_WalkingGorb_palettes
    0000001E D5               [16]   79 	push	de
    0000001F AF               [ 4]   80 	xor	a, a
    00000020 3C               [ 4]   81 	inc	a
    00000021 F5               [16]   82 	push	af
    00000022 CDr00r00         [24]   83 	call	_set_sprite_palette
    00000025 E8 04            [16]   84 	add	sp, #4
                                     85 ;src/main.c:26: setupGorb();
    00000027 CDr00r00         [24]   86 	call	_setupGorb
                                     87 ;src/main.c:29: set_native_tile_data(splashscreen3_TILE_COUNT, Font_TILE_COUNT, Font_tiles);
                                     88 ;../gbdk/include/gb/gb.h:2146: set_bkg_data(first_tile, nb_tiles, data);
    0000002A 11r00r00         [12]   89 	ld	de, #_Font_tiles
    0000002D D5               [16]   90 	push	de
    0000002E 21 B3 2E         [12]   91 	ld	hl, #0x2eb3
    00000031 E5               [16]   92 	push	hl
    00000032 CDr00r00         [24]   93 	call	_set_bkg_data
    00000035 E8 04            [16]   94 	add	sp, #4
                                     95 ;src/main.c:32: drawTextCentered(1, "Press Start");
    00000037 11r55r00         [12]   96 	ld	de, #___str_0
    0000003A 3E 01            [ 8]   97 	ld	a, #0x01
    0000003C CDr00r00         [24]   98 	call	_drawTextCentered
                                     99 ;src/main.c:34: while (1)
    0000003F                        100 00102$:
                                    101 ;src/main.c:38: joypadCurrent = joypad();
    0000003F CDr00r00         [24]  102 	call	_joypad
    00000042 EAr00r00         [16]  103 	ld	(#_joypadCurrent),a
                                    104 ;src/main.c:40: updateFrameCounter();
    00000045 CDr00r00         [24]  105 	call	_updateFrameCounter
                                    106 ;src/main.c:44: lastSprite += updateGorb();
    00000048 CDr00r00         [24]  107 	call	_updateGorb
                                    108 ;src/main.c:51: hide_sprites_range(lastSprite, 40);
    0000004B 1E 28            [ 8]  109 	ld	e, #0x28
    0000004D CDr00r00         [24]  110 	call	_hide_sprites_range
                                    111 ;src/main.c:61: wait_vbl_done();
    00000050 CDr00r00         [24]  112 	call	_wait_vbl_done
                                    113 ;src/main.c:63: }
    00000053 18 EA            [12]  114 	jr	00102$
    00000055                        115 ___str_0:
    00000055 50 72 65 73 73 20 53   116 	.ascii "Press Start"
             74 61 72 74
    00000060 00                     117 	.db 0x00
                                    118 ;src/main.c:65: void setupBackground(void)
                                    119 ;	---------------------------------
                                    120 ; Function setupBackground
                                    121 ; ---------------------------------
    00000061                        122 _setupBackground::
                                    123 ;src/main.c:68: set_bkg_data(0, splashscreen3_TILE_COUNT, splashscreen3_tiles);
    00000061 11r00r00         [12]  124 	ld	de, #_splashscreen3_tiles
    00000064 D5               [16]  125 	push	de
    00000065 21 00 B3         [12]  126 	ld	hl, #0xb300
    00000068 E5               [16]  127 	push	hl
    00000069 CDr00r00         [24]  128 	call	_set_bkg_data
    0000006C E8 04            [16]  129 	add	sp, #4
                                    130 ;src/main.c:72: set_bkg_tiles(0, 0, 20, 18, splashscreen3_map);
    0000006E 11r00r00         [12]  131 	ld	de, #_splashscreen3_map
    00000071 D5               [16]  132 	push	de
    00000072 21 14 12         [12]  133 	ld	hl, #0x1214
    00000075 E5               [16]  134 	push	hl
    00000076 AF               [ 4]  135 	xor	a, a
    00000077 0F               [ 4]  136 	rrca
    00000078 F5               [16]  137 	push	af
    00000079 CDr00r00         [24]  138 	call	_set_bkg_tiles
    0000007C E8 06            [16]  139 	add	sp, #6
                                    140 ;src/main.c:75: set_bkg_palette(0, 8, splashscreen3_palettes);
    0000007E 11r00r00         [12]  141 	ld	de, #_splashscreen3_palettes
    00000081 D5               [16]  142 	push	de
    00000082 21 00 08         [12]  143 	ld	hl, #0x800
    00000085 E5               [16]  144 	push	hl
    00000086 CDr00r00         [24]  145 	call	_set_bkg_palette
    00000089 E8 04            [16]  146 	add	sp, #4
                                    147 ;src/main.c:79: VBK_REG = 1;
    0000008B 3E 01            [ 8]  148 	ld	a, #0x01
    0000008D E0r00            [12]  149 	ldh	(_VBK_REG + 0), a
                                    150 ;src/main.c:80: set_bkg_tiles(0, 0, 20, 18, splashscreen3_map_attributes);
    0000008F 11r00r00         [12]  151 	ld	de, #_splashscreen3_map_attributes
    00000092 D5               [16]  152 	push	de
    00000093 21 14 12         [12]  153 	ld	hl, #0x1214
    00000096 E5               [16]  154 	push	hl
    00000097 AF               [ 4]  155 	xor	a, a
    00000098 0F               [ 4]  156 	rrca
    00000099 F5               [16]  157 	push	af
    0000009A CDr00r00         [24]  158 	call	_set_bkg_tiles
    0000009D E8 06            [16]  159 	add	sp, #6
                                    160 ;src/main.c:83: VBK_REG = 0;
    0000009F AF               [ 4]  161 	xor	a, a
    000000A0 E0r00            [12]  162 	ldh	(_VBK_REG + 0), a
                                    163 ;src/main.c:84: }
    000000A2 C9               [16]  164 	ret
                                    165 	.area _CODE
                                    166 	.area _INITIALIZER
                                    167 	.area _CABS (ABS)
